<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>osgEarth: osgEarth::ElevationQuery Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">osgEarth&#160;<span id="projectnumber">2.1.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceosgEarth.html">osgEarth</a>      </li>
      <li class="navelem"><a class="el" href="classosgEarth_1_1ElevationQuery.html">ElevationQuery</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<h1>osgEarth::ElevationQuery Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="osgEarth::ElevationQuery" --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Collaboration diagram for osgEarth::ElevationQuery:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery__coll__graph.png" border="0" usemap="#osgEarth_1_1ElevationQuery_coll__map" alt="Collaboration graph"/></div>
<map name="osgEarth_1_1ElevationQuery_coll__map" id="osgEarth_1_1ElevationQuery_coll__map">
<area shape="rect" id="node2" href="classosgEarth_1_1LRUCache.html" title="osgEarth::LRUCache\&lt; TileKey, osg::ref_ptr\&lt; osgTerrain::TerrainTile \&gt; \&gt;" alt="" coords="333,5,776,35"/><area shape="rect" id="node4" href="classosgEarth_1_1MapFrame.html" title="osgEarth::MapFrame" alt="" coords="483,59,627,88"/><area shape="rect" id="node6" href="classosgEarth_1_1MapInfo.html" title="osgEarth::MapInfo" alt="" coords="8,32,136,61"/><area shape="rect" id="node8" href="structosgEarth_1_1Revision.html" title="osgEarth::Revision" alt="" coords="5,85,139,115"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classosgEarth_1_1ElevationQuery-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#af28d21b6d0bfa86f4d51c78cc49371df">Technique</a> { <a class="el" href="classosgEarth_1_1ElevationQuery.html#af28d21b6d0bfa86f4d51c78cc49371dfa18b9a7560eafe3128d1f724b34e45fbc">TECHNIQUE_GEOMETRIC</a>, 
<a class="el" href="classosgEarth_1_1ElevationQuery.html#af28d21b6d0bfa86f4d51c78cc49371dfa8c71896f0236af9dc0a12f41f1790f59">TECHNIQUE_PARAMETRIC</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#aa9c77bded86a29a036a91b2eb3f975b6">ElevationQuery</a> (const <a class="el" href="classosgEarth_1_1Map.html">Map</a> *map)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#a23a32d21045e8e3e06ed683e06b97246">ElevationQuery</a> (const <a class="el" href="classosgEarth_1_1MapFrame.html">MapFrame</a> &amp;mapFrame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#a9fdc0dc02c3a41cfd7b1a4bd6c6c6766">getElevation</a> (const osg::Vec3d &amp;point, const <a class="el" href="classosgEarth_1_1SpatialReference.html">SpatialReference</a> *pointSRS, double &amp;out_elevation, double desiredResolution=0.0, double *out_actualResolution=0L)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#a278103b5127a63e2deee477a85c41193">getElevations</a> (std::vector&lt; osg::Vec3d &gt; &amp;points, const <a class="el" href="classosgEarth_1_1SpatialReference.html">SpatialReference</a> *pointsSRS, bool ignoreZ=true, double desiredResolution=0.0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#a757a2222fa8567476345bf224270a280">getElevations</a> (const std::vector&lt; osg::Vec3d &gt; &amp;points, const <a class="el" href="classosgEarth_1_1SpatialReference.html">SpatialReference</a> *pointsSRS, std::vector&lt; double &gt; &amp;out_elevations, double desiredResolution=0.0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#ae62421ffb3308ba61eafba66a49cecdd">setTechnique</a> (<a class="el" href="classosgEarth_1_1ElevationQuery.html#af28d21b6d0bfa86f4d51c78cc49371df">Technique</a> technique)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1ElevationQuery.html#af28d21b6d0bfa86f4d51c78cc49371df">Technique</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#a95644903aef19550f5a9dd298af69e3e">getTechnique</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#a446c010bc5f3280b3aa8cd2e2736ab87">setMaxTilesToCache</a> (int value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#a3b743add1e216aa2c1329e3eb63ba17d">getMaxTilesToCache</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#a0c0dadb22c8340922281a64aabbfd6c1">setInterpolation</a> (ElevationInterpolation interp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ElevationInterpolation&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#a913442037e0917edd06e32ef0873dcbb">getElevationInterpolation</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#a08d51e4f9e5cc5bcd20d89ad7259f45d">setMaxLevelOverride</a> (int maxLevelOverride)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#a5798ce7d90a64ca31112564b44db09cd">getMaxLevelOverride</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classosgEarth_1_1LRUCache.html">LRUCache</a>&lt; <a class="el" href="classosgEarth_1_1TileKey.html">TileKey</a>, <br class="typebreak"/>
osg::ref_ptr<br class="typebreak"/>
&lt; osgTerrain::TerrainTile &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#ac4c7d8ba84877b0f6e8166f7e748d556">TileCache</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#ac8e4256d69a1ccea4bd9720908e1f1cd">postCTOR</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#af6c856d62a77f2285a42f01c86129138">sync</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#ad22d9fed3bdeded10ad3a6c6d36a384a">getElevationImpl</a> (const osg::Vec3d &amp;point, const <a class="el" href="classosgEarth_1_1SpatialReference.html">SpatialReference</a> *pointSRS, double &amp;out_elevation, double desiredResolution, double *out_actualResolution=0L)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1MapFrame.html">MapFrame</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">_mapf</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#aa60e1a564624a7a779d76d3d49eb3d65">_maxCacheSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#ad938dc1cb2db27e704607258f7d24815">_tileSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#ac8f9d3fffd246c8c4fe58f49271a6f72">_maxDataLevel</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#ad0a86464c9d1a04e09473d60db95f781">_maxLevelOverride</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1ElevationQuery.html#af28d21b6d0bfa86f4d51c78cc49371df">Technique</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#a35f68dd906a7b4006fa794423490ef3b">_technique</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ElevationInterpolation&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#abab8f8e3f13e9baa4c7944e5b86ea211">_interpolation</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1LRUCache.html">TileCache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ElevationQuery.html#adbb71880920a2572855808829bff7ad4">_tileCache</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classosgEarth_1_1ElevationQuery.html">ElevationQuery</a> (EQ) lets you query the elevation at any point on a map.</p>
<p>Rather than intersecting with a loaded scene graph, EQ uses the <a class="el" href="namespaceosgEarth.html">osgEarth</a> engine to directly access the best terrain tile for elevation query. You give it the DEM resolution at which you want an elevation point, and it will access the necessary tile and sample it.</p>
<p>EQ supports two types of sampling:</p>
<p>PARAMTERIC - EQ will sample the actual heightfield directly. This method is the fastest since it does not require geometry intersection testing.</p>
<p>GEOMETRIC - EQ will create a temporary tesselated terrain tile and do an intersection test (using osgUtil::IntersectionVisitor). This method is slower but more visually correlated. (TODO: not really true anymore. This method will require a re-do in <a class="el" href="namespaceosgEarth.html">osgEarth</a> 2.2 or 3.0)</p>
<p>NOTE: EQ does NOT take into account rendering properties like vertical scale or skirts. If you need a vertical scale, for example, simply scale the resulting elevation value. </p>

<p>Definition at line <a class="el" href="ElevationQuery_source.html#l00050">50</a> of file <a class="el" href="ElevationQuery_source.html">ElevationQuery</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="ac4c7d8ba84877b0f6e8166f7e748d556"></a><!-- doxytag: member="osgEarth::ElevationQuery::TileCache" ref="ac4c7d8ba84877b0f6e8166f7e748d556" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classosgEarth_1_1LRUCache.html">LRUCache</a>&lt; <a class="el" href="classosgEarth_1_1TileKey.html">TileKey</a>, osg::ref_ptr&lt;osgTerrain::TerrainTile&gt; &gt; <a class="el" href="classosgEarth_1_1LRUCache.html">osgEarth::ElevationQuery::TileCache</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ElevationQuery_source.html#l00176">176</a> of file <a class="el" href="ElevationQuery_source.html">ElevationQuery</a>.</p>

</div>
</div>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="af28d21b6d0bfa86f4d51c78cc49371df"></a><!-- doxytag: member="osgEarth::ElevationQuery::Technique" ref="af28d21b6d0bfa86f4d51c78cc49371df" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classosgEarth_1_1ElevationQuery.html#af28d21b6d0bfa86f4d51c78cc49371df">osgEarth::ElevationQuery::Technique</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Technique for elevation data sampling - see setTechnique </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="af28d21b6d0bfa86f4d51c78cc49371dfa18b9a7560eafe3128d1f724b34e45fbc"></a><!-- doxytag: member="TECHNIQUE_GEOMETRIC" ref="af28d21b6d0bfa86f4d51c78cc49371dfa18b9a7560eafe3128d1f724b34e45fbc" args="" -->TECHNIQUE_GEOMETRIC</em>&nbsp;</td><td>
<p>Intersect with triangulated geometry - using the highest resolution data available from the <a class="el" href="classosgEarth_1_1Map.html">Map</a> source layers </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af28d21b6d0bfa86f4d51c78cc49371dfa8c71896f0236af9dc0a12f41f1790f59"></a><!-- doxytag: member="TECHNIQUE_PARAMETRIC" ref="af28d21b6d0bfa86f4d51c78cc49371dfa8c71896f0236af9dc0a12f41f1790f59" args="" -->TECHNIQUE_PARAMETRIC</em>&nbsp;</td><td>
<p>Sample height from the parametric heightfield directly (bilinear) </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="ElevationQuery_source.html#l00054">54</a> of file <a class="el" href="ElevationQuery_source.html">ElevationQuery</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <a class="code" href="classosgEarth_1_1ElevationQuery.html#af28d21b6d0bfa86f4d51c78cc49371dfa18b9a7560eafe3128d1f724b34e45fbc">TECHNIQUE_GEOMETRIC</a>,

            <a class="code" href="classosgEarth_1_1ElevationQuery.html#af28d21b6d0bfa86f4d51c78cc49371dfa8c71896f0236af9dc0a12f41f1790f59">TECHNIQUE_PARAMETRIC</a>
        };
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa9c77bded86a29a036a91b2eb3f975b6"></a><!-- doxytag: member="osgEarth::ElevationQuery::ElevationQuery" ref="aa9c77bded86a29a036a91b2eb3f975b6" args="(const Map *map)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ElevationQuery::ElevationQuery </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1Map.html">Map</a> *&#160;</td>
          <td class="paramname"><em>map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs a new elevation manager. If you are not using a <a class="el" href="classosgEarth_1_1MapNode.html">MapNode</a>, use this constructor to perform elevation queries against a <a class="el" href="classosgEarth_1_1Map.html">Map</a>. If you *do* have a <a class="el" href="classosgEarth_1_1MapNode.html">MapNode</a>, use the other CTOR that takes a <a class="el" href="classosgEarth_1_1MapNode.html">MapNode</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td><a class="el" href="classosgEarth_1_1Map.html">Map</a> against which to perform elevation queries. </td></tr>
    <tr><td class="paramname">technique</td><td>Technique to use for elevation data sampling. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ElevationQuery_8cpp_source.html#l00013">13</a> of file <a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                               :
<a class="code" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">_mapf</a>( map, <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba54b09d6e4f190bec8f3ebae7299b17ab">Map::ELEVATION_LAYERS</a> )
{
    <a class="code" href="classosgEarth_1_1ElevationQuery.html#ac8e4256d69a1ccea4bd9720908e1f1cd">postCTOR</a>();
}
</pre></div>
<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_aa9c77bded86a29a036a91b2eb3f975b6_cgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_aa9c77bded86a29a036a91b2eb3f975b6_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_aa9c77bded86a29a036a91b2eb3f975b6_cgraph" id="classosgEarth_1_1ElevationQuery_aa9c77bded86a29a036a91b2eb3f975b6_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ElevationQuery.html#ac8e4256d69a1ccea4bd9720908e1f1cd" title="osgEarth::ElevationQuery::postCTOR" alt="" coords="323,5,565,35"/><area shape="rect" id="node5" href="classosgEarth_1_1LRUCache.html#ae2a59a6315e01827f334593552d9da7a" title="osgEarth::LRUCache::setMaxSize" alt="" coords="613,5,837,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23a32d21045e8e3e06ed683e06b97246"></a><!-- doxytag: member="osgEarth::ElevationQuery::ElevationQuery" ref="a23a32d21045e8e3e06ed683e06b97246" args="(const MapFrame &amp;mapFrame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ElevationQuery::ElevationQuery </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1MapFrame.html">MapFrame</a> &amp;&#160;</td>
          <td class="paramname"><em>mapFrame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ElevationQuery_8cpp_source.html#l00019">19</a> of file <a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                         :
<a class="code" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">_mapf</a>( mapFrame )
{
    <a class="code" href="classosgEarth_1_1ElevationQuery.html#ac8e4256d69a1ccea4bd9720908e1f1cd">postCTOR</a>();
}
</pre></div>
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_a23a32d21045e8e3e06ed683e06b97246_cgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_a23a32d21045e8e3e06ed683e06b97246_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_a23a32d21045e8e3e06ed683e06b97246_cgraph" id="classosgEarth_1_1ElevationQuery_a23a32d21045e8e3e06ed683e06b97246_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ElevationQuery.html#ac8e4256d69a1ccea4bd9720908e1f1cd" title="osgEarth::ElevationQuery::postCTOR" alt="" coords="323,5,565,35"/><area shape="rect" id="node5" href="classosgEarth_1_1LRUCache.html#ae2a59a6315e01827f334593552d9da7a" title="osgEarth::LRUCache::setMaxSize" alt="" coords="613,5,837,35"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9fdc0dc02c3a41cfd7b1a4bd6c6c6766"></a><!-- doxytag: member="osgEarth::ElevationQuery::getElevation" ref="a9fdc0dc02c3a41cfd7b1a4bd6c6c6766" args="(const osg::Vec3d &amp;point, const SpatialReference *pointSRS, double &amp;out_elevation, double desiredResolution=0.0, double *out_actualResolution=0L)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ElevationQuery::getElevation </td>
          <td>(</td>
          <td class="paramtype">const osg::Vec3d &amp;&#160;</td>
          <td class="paramname"><em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1SpatialReference.html">SpatialReference</a> *&#160;</td>
          <td class="paramname"><em>pointSRS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>out_elevation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>desiredResolution</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>out_actualResolution</em> = <code>0L</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the terrain elevation at a point, given a terrain resolution.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">point</td><td><a class="el" href="classosgEarth_1_1Map.html">Map</a> coordinates for which to query elevation. </td></tr>
    <tr><td class="paramname">pointSRS</td><td>Spatial reference of "point" and "desiredResolution" If this is NULL, assume that the input values are expressed in terms of the Map's SRS. </td></tr>
    <tr><td class="paramname">out_elevation</td><td>Stores the elevation result in this variable upon success. </td></tr>
    <tr><td class="paramname">desiredResolution</td><td>Optimal resolution of elevation data to use for the query (if available). Pass in 0 (zero) to use the best available resolution. </td></tr>
    <tr><td class="paramname">out_resolution</td><td>Resolution of the resulting elevation value (if the method returns true).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if the query succeeded, false upon failure. </dd></dl>

<p>Definition at line <a class="el" href="ElevationQuery_8cpp_source.html#l00099">99</a> of file <a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1ElevationQuery.html#af6c856d62a77f2285a42f01c86129138">sync</a>();
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1ElevationQuery.html#ad22d9fed3bdeded10ad3a6c6d36a384a">getElevationImpl</a>( point, pointSRS, out_elevation, desiredResolution, out_actualResolution );
}
</pre></div>
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_a9fdc0dc02c3a41cfd7b1a4bd6c6c6766_cgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_a9fdc0dc02c3a41cfd7b1a4bd6c6c6766_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_a9fdc0dc02c3a41cfd7b1a4bd6c6c6766_cgraph" id="classosgEarth_1_1ElevationQuery_a9fdc0dc02c3a41cfd7b1a4bd6c6c6766_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ElevationQuery.html#ad22d9fed3bdeded10ad3a6c6d36a384a" title="osgEarth::ElevationQuery::getElevationImpl" alt="" coords="305,603,580,632"/><area shape="rect" id="node140" href="classosgEarth_1_1ElevationQuery.html#af6c856d62a77f2285a42f01c86129138" title="osgEarth::ElevationQuery::sync" alt="" coords="340,1586,545,1615"/><area shape="rect" id="node5" href="classosgEarth_1_1GeoLocator.html#a6554cfe7b4e3ec209a53ad486f05381d" title="osgEarth::GeoLocator::createForKey" alt="" coords="971,1330,1205,1359"/><area shape="rect" id="node23" href="classosgEarth_1_1MapInfo.html#a9f24d551976461e2c60a6ab32a1beda6" title="osgEarth::MapInfo::isGeocentric" alt="" coords="1695,1534,1905,1563"/><area shape="rect" id="node29" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="1711,818,1889,847"/><area shape="rect" id="node33" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="1711,764,1889,794"/><area shape="rect" id="node35" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4" title="osgEarth::TileKey::getExtent" alt="" coords="1705,1320,1895,1350"/><area shape="rect" id="node37" href="classosgEarth_1_1Profile.html#a097cec0f529ccff031931cb816de2295" title="osgEarth::Profile::createTileKey" alt="" coords="1349,602,1555,631"/><area shape="rect" id="node41" href="classosgEarth_1_1SpatialReference.html#a398407559e7c170fc44cde6842511548" title="osgEarth::SpatialReference::isEquivalentTo" alt="" coords="2004,244,2279,274"/><area shape="rect" id="node48" href="classosgEarth_1_1SpatialReference.html#a8ac8eb28a1c629d9c7522096310311db" title="osgEarth::SpatialReference::transform2D" alt="" coords="2011,503,2272,532"/><area shape="rect" id="node50" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="1707,610,1893,639"/><area shape="rect" id="node52" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="1709,450,1891,479"/><area shape="rect" id="node58" href="classosgEarth_1_1LRUCache.html#a5196e1e5ca726683b35ee426aba1848c" title="osgEarth::LRUCache::get" alt="" coords="664,82,837,111"/><area shape="rect" id="node61" href="classosgEarth_1_1HeightFieldUtils.html#a4105a355e751cf6c15e11341ec3bae71" title="osgEarth::HeightFieldUtils::getHeightAtLocation" alt="" coords="1649,871,1951,900"/><area shape="rect" id="node65" href="classosgEarth_1_1MapFrame.html#ae6408f2c1b6147675aa8f298f2045c3f" title="osgEarth::MapFrame::getHeightField" alt="" coords="633,927,868,956"/><area shape="rect" id="node76" href="classosgEarth_1_1TileKey.html#aff6a958d86c7ac9a6300e0d9fa8aa72c" title="osgEarth::TileKey::str" alt="" coords="1725,1374,1875,1403"/><area shape="rect" id="node106" href="classosgEarth_1_1TileKey.html#a71ee8076e4558c15c9499b3b1993944f" title="osgEarth::TileKey::valid" alt="" coords="1372,1276,1532,1306"/><area shape="rect" id="node108" href="classosgEarth_1_1Profile.html#aec17c2da87ec76abf3d8b763e54ce8c5" title="osgEarth::Profile::getLevelOfDetailForHorizResolution" alt="" coords="920,500,1256,530"/><area shape="rect" id="node111" href="classosgEarth_1_1MapFrame.html#a64a5e9c5f241d30feb9ec84b97615bf6" title="osgEarth::MapFrame::getMapInfo" alt="" coords="643,135,859,164"/><area shape="rect" id="node113" href="classosgEarth_1_1MapFrame.html#a8b12dbd02827521d57fc8c67a6e587f1" title="osgEarth::MapFrame::getProfile" alt="" coords="648,188,853,218"/><area shape="rect" id="node115" href="classosgEarth_1_1Profile.html#a74622647d0d05b6823225a752ed7652b" title="osgEarth::Profile::getSRS" alt="" coords="1001,1096,1175,1126"/><area shape="rect" id="node118" href="classosgEarth_1_1LRUCache.html#a84b1472c76747b146974bbbb8c3d029e" title="osgEarth::LRUCache::getStats" alt="" coords="649,242,852,271"/><area shape="rect" id="node121" href="classosgEarth_1_1LRUCache.html#a7285dd6fbcc47f81fba939f9ab2272bf" title="osgEarth::LRUCache::insert" alt="" coords="657,295,844,324"/><area shape="rect" id="node127" href="classosgEarth_1_1SpatialReference.html#a77dde94811403c9f700ebe98b4702c96" title="osgEarth::SpatialReference::transformToECEF" alt="" coords="1304,244,1600,274"/><area shape="rect" id="node7" href="classosgEarth_1_1GeoLocator.html#aed86f045ce4acb7862c7494059e000ba" title="osgEarth::GeoLocator::createForExtent" alt="" coords="1327,1330,1577,1359"/><area shape="rect" id="node9" href="classosgEarth_1_1SpatialReference.html#adbe193d96c5a5e4554a7d6bc97746c32" title="osgEarth::SpatialReference::createLocator" alt="" coords="2337,504,2607,534"/><area shape="rect" id="node19" href="classosgEarth_1_1GeoExtent.html#afa0bd831daf0541cbbb161763ed9291f" title="osgEarth::GeoExtent::getBounds" alt="" coords="1693,1163,1907,1192"/><area shape="rect" id="node21" href="classosgEarth_1_1GeoExtent.html#a77766059cde5244c2bc309cfa50800c3" title="osgEarth::GeoExtent::getSRS" alt="" coords="1701,1110,1899,1139"/><area shape="rect" id="node25" href="classosgEarth_1_1MapInfo.html#a41988a8fd2ce3d44dbd36f6002bf782a" title="osgEarth::MapInfo::isPlateCarre" alt="" coords="1696,1480,1904,1510"/><area shape="rect" id="node27" href="classosgEarth_1_1GeoExtent.html#a91457972e7827ea655db19203e63db00" title="osgEarth::GeoExtent::xMax" alt="" coords="1708,1427,1892,1456"/><area shape="rect" id="node31" href="classosgEarth_1_1GeoExtent.html#aa64e915bc55e7390c60f99962ff1cccc" title="osgEarth::GeoExtent::yMax" alt="" coords="1708,1267,1892,1296"/><area shape="rect" id="node11" href="classosgEarth_1_1SpatialReference.html#ad7d6ef0605664b77e8348df5324ea32f" title="osgEarth::SpatialReference::getEllipsoid" alt="" coords="2667,244,2923,274"/><area shape="rect" id="node13" href="classosgEarth_1_1SpatialReference.html#ad4674227fe46613b3f5821109a509714" title="osgEarth::SpatialReference::init" alt="" coords="2977,271,3183,300"/><area shape="rect" id="node16" href="classosgEarth_1_1SpatialReference.html#adfb00834f8d96146b119add7ec2c93a3" title="osgEarth::SpatialReference::isGeographic" alt="" coords="2661,298,2928,327"/><area shape="rect" id="node39" href="classosgEarth_1_1GeoExtent.html#aee6715804d02b8467ace54bd77d93681" title="osgEarth::GeoExtent::contains" alt="" coords="1700,503,1900,532"/><area shape="rect" id="node43" href="classosgEarth_1_1SpatialReference.html#afe559cd555e232b45109fbce72742b02" title="osgEarth::SpatialReference::_isEquivalentTo" alt="" coords="2331,244,2613,274"/><area shape="rect" id="node54" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="2016,450,2267,479"/><area shape="rect" id="node63" href="classosgEarth_1_1HeightFieldUtils.html#a22c62355cca03b5aba9edeff73534da7" title="osgEarth::HeightFieldUtils::getHeightAtPixel" alt="" coords="2001,871,2281,900"/><area shape="rect" id="node67" href="classosgEarth_1_1MapInfo.html#a69c05dfae1159b34a013658958412655" title="osgEarth::MapInfo::getProfile" alt="" coords="992,927,1184,956"/><area shape="rect" id="node69" href="namespaceanonymous__namespace_02Map_8cpp_03.html#ad7b47bdac1bfab5aef1bddd9e7545edd" title="anonymous_namespace\{Map::cpp\}::s_getHeightField" alt="" coords="923,1006,1253,1035"/><area shape="rect" id="node71" href="classosgEarth_1_1ElevationLayer.html#a4f96d09e39960b527c417b0e672b3393" title="osgEarth::ElevationLayer::createHeightField" alt="" coords="1313,1172,1591,1202"/><area shape="rect" id="node78" href="classosgEarth_1_1TileKey.html#a4b0740ba2a5f0d536566f10d6e38ec36" title="osgEarth::TileKey::createParentKey" alt="" coords="1337,967,1567,996"/><area shape="rect" id="node80" href="classosgEarth_1_1GeoHeightField.html#acb3bb34c9a60038685de8723084422a1" title="osgEarth::GeoHeightField::createSubSample" alt="" coords="1311,759,1593,788"/><area shape="rect" id="node88" href="classosgEarth_1_1GeoHeightField.html#a69cd23edf51596764b79e6985e609874" title="osgEarth::GeoHeightField::getElevation" alt="" coords="1327,655,1577,684"/><area shape="rect" id="node102" href="classosgEarth_1_1TerrainLayer.html#a02f9aaac89492153b97433acddaaf915" title="osgEarth::TerrainLayer::getEnabled" alt="" coords="1339,914,1565,943"/><area shape="rect" id="node91" href="classosgEarth_1_1SpatialReference.html#a42fc6ea305be6b94340bf300d7b67dbe" title="osgEarth::SpatialReference::getGeographicSRS" alt="" coords="1649,556,1951,586"/><area shape="rect" id="node132" href="classosgEarth_1_1SpatialReference.html#a28d916a87ed2653a5763bf8777cd9cbf" title="osgEarth::SpatialReference::transform" alt="" coords="1677,244,1923,274"/><area shape="rect" id="node142" href="classosgEarth_1_1MapFrame.html#a2f1751fdcda89f7f575ed022d3d2c885" title="osgEarth::MapFrame::elevationLayers" alt="" coords="629,1586,872,1615"/><area shape="rect" id="node144" href="classosgEarth_1_1MapFrame.html#ae7b45fa3f0544ddd374c2448740cd6a6" title="osgEarth::MapFrame::sync" alt="" coords="661,1639,840,1668"/></map>
</div>
</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_a9fdc0dc02c3a41cfd7b1a4bd6c6c6766_icgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_a9fdc0dc02c3a41cfd7b1a4bd6c6c6766_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_a9fdc0dc02c3a41cfd7b1a4bd6c6c6766_icgraph" id="classosgEarth_1_1ElevationQuery_a9fdc0dc02c3a41cfd7b1a4bd6c6c6766_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#a488fc6ab87571358f7a97ab849b12995" title="osgEarth::Features::FeatureModelGraph::getBoundInWorldCoords" alt="" coords="304,83,709,112"/><area shape="rect" id="node5" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#ad00f4ce789ad176865939eae7e891e8a" title="osgEarth::Features::FeatureModelGraph::buildSubTilePagedLODs" alt="" coords="757,5,1163,35"/><area shape="rect" id="node7" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#a6b4599d049e5a9761d7dcfdb046f9dcd" title="osgEarth::Features::FeatureModelGraph::load" alt="" coords="1220,31,1505,60"/><area shape="rect" id="node9" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#abf5b8ab8a3c929bc5c5cb9c40d3f3d8e" title="osgEarth::Features::FeatureModelGraph::FeatureModelGraph" alt="" coords="1564,108,1940,137"/><area shape="rect" id="node12" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#a4d6868a087abc54bce800f2174ff0e7c" title="osgEarth::Features::FeatureModelGraph::setupPaging" alt="" coords="793,160,1127,189"/><area shape="rect" id="node14" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#a3f7dfd4b1d9a5186c9673b302bdfd2f4" title="osgEarth::Features::FeatureModelGraph::redraw" alt="" coords="1212,160,1513,189"/><area shape="rect" id="node17" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#ac86ba74a46831aa375872c5e471f3506" title="osgEarth::Features::FeatureModelGraph::traverse" alt="" coords="1597,161,1907,191"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad22d9fed3bdeded10ad3a6c6d36a384a"></a><!-- doxytag: member="osgEarth::ElevationQuery::getElevationImpl" ref="ad22d9fed3bdeded10ad3a6c6d36a384a" args="(const osg::Vec3d &amp;point, const SpatialReference *pointSRS, double &amp;out_elevation, double desiredResolution, double *out_actualResolution=0L)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ElevationQuery::getElevationImpl </td>
          <td>(</td>
          <td class="paramtype">const osg::Vec3d &amp;&#160;</td>
          <td class="paramname"><em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1SpatialReference.html">SpatialReference</a> *&#160;</td>
          <td class="paramname"><em>pointSRS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>out_elevation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>desiredResolution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>out_actualResolution</em> = <code>0L</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ElevationQuery_8cpp_source.html#l00147">147</a> of file <a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1ElevationQuery.html#ac8f9d3fffd246c8c4fe58f49271a6f72">_maxDataLevel</a> == 0 || <a class="code" href="classosgEarth_1_1ElevationQuery.html#ad938dc1cb2db27e704607258f7d24815">_tileSize</a> == 0 )
    {
        <span class="comment">// this means there are no heightfields.</span>
        out_elevation = 0.0;
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
   
    <span class="comment">// this is the ideal LOD for the requested resolution:</span>
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idealLevel = desiredResolution &gt; 0.0
        ? <a class="code" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">_mapf</a>.<a class="code" href="classosgEarth_1_1MapFrame.html#a8b12dbd02827521d57fc8c67a6e587f1">getProfile</a>()-&gt;<a class="code" href="classosgEarth_1_1Profile.html#aec17c2da87ec76abf3d8b763e54ce8c5">getLevelOfDetailForHorizResolution</a>( desiredResolution, <a class="code" href="classosgEarth_1_1ElevationQuery.html#ad938dc1cb2db27e704607258f7d24815">_tileSize</a> )
        : <a class="code" href="classosgEarth_1_1ElevationQuery.html#ac8f9d3fffd246c8c4fe58f49271a6f72">_maxDataLevel</a>;        

    <span class="comment">// based on the heightfields available, this is the best we can theorically do:</span>
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bestAvailLevel = osg::minimum( idealLevel, <a class="code" href="classosgEarth_1_1ElevationQuery.html#ac8f9d3fffd246c8c4fe58f49271a6f72">_maxDataLevel</a> );
    <span class="keywordflow">if</span> (<a class="code" href="classosgEarth_1_1ElevationQuery.html#ad0a86464c9d1a04e09473d60db95f781">_maxLevelOverride</a> &gt;= 0)
    {
        bestAvailLevel = osg::minimum(bestAvailLevel, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="classosgEarth_1_1ElevationQuery.html#ad0a86464c9d1a04e09473d60db95f781">_maxLevelOverride</a>);
    }
    
    <span class="comment">// transform the input coords to map coords:</span>
    osg::Vec3d mapPoint = point;
    <span class="keywordflow">if</span> ( pointSRS &amp;&amp; !pointSRS-&gt;<a class="code" href="classosgEarth_1_1SpatialReference.html#a398407559e7c170fc44cde6842511548">isEquivalentTo</a>( <a class="code" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">_mapf</a>.<a class="code" href="classosgEarth_1_1MapFrame.html#a8b12dbd02827521d57fc8c67a6e587f1">getProfile</a>()-&gt;<a class="code" href="classosgEarth_1_1Profile.html#a74622647d0d05b6823225a752ed7652b">getSRS</a>() ) )
    {
        <span class="keywordflow">if</span> ( !pointSRS-&gt;<a class="code" href="classosgEarth_1_1SpatialReference.html#a8ac8eb28a1c629d9c7522096310311db">transform2D</a>( point.x(), point.y(), <a class="code" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">_mapf</a>.<a class="code" href="classosgEarth_1_1MapFrame.html#a8b12dbd02827521d57fc8c67a6e587f1">getProfile</a>()-&gt;<a class="code" href="classosgEarth_1_1Profile.html#a74622647d0d05b6823225a752ed7652b">getSRS</a>(), mapPoint.x(), mapPoint.y() ) )
        {
            <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <a class="code" href="ElevationQuery_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Fail: coord transform failed&quot;</span> &lt;&lt; std::endl;
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
    }

    osg::ref_ptr&lt;osg::HeightField&gt; hf;
    osg::ref_ptr&lt;osgTerrain::TerrainTile&gt; tile;

    <span class="comment">// get the tilekey corresponding to the tile we need:</span>
    <a class="code" href="classosgEarth_1_1TileKey.html">TileKey</a> key = <a class="code" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">_mapf</a>.<a class="code" href="classosgEarth_1_1MapFrame.html#a8b12dbd02827521d57fc8c67a6e587f1">getProfile</a>()-&gt;<a class="code" href="classosgEarth_1_1Profile.html#a097cec0f529ccff031931cb816de2295">createTileKey</a>( mapPoint.x(), mapPoint.y(), bestAvailLevel );
    <span class="keywordflow">if</span> ( !key.<a class="code" href="classosgEarth_1_1TileKey.html#a71ee8076e4558c15c9499b3b1993944f">valid</a>() )
    {
        <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <a class="code" href="ElevationQuery_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Fail: coords fall outside map&quot;</span> &lt;&lt; std::endl;
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    <span class="comment">// Check the tile cache. Note that the TileSource already likely has a MemCache</span>
    <span class="comment">// attached to it. We employ a secondary cache here for a couple reasons. One, this</span>
    <span class="comment">// cache will store not only the heightfield, but also the tesselated tile in the event</span>
    <span class="comment">// that we&#39;re using GEOMETRIC mode. Second, since the call the getHeightField can </span>
    <span class="comment">// fallback on a lower resolution, this cache will hold the final resolution heightfield</span>
    <span class="comment">// instead of trying to fetch the higher resolution one each tiem.</span>

    TileCache::Record record = <a class="code" href="classosgEarth_1_1ElevationQuery.html#adbb71880920a2572855808829bff7ad4">_tileCache</a>.<a class="code" href="classosgEarth_1_1LRUCache.html#a5196e1e5ca726683b35ee426aba1848c">get</a>( key );
    <span class="keywordflow">if</span> ( record.valid() )
        tile = record.value().get();
         
    <span class="comment">// if we found it, make sure it has a heightfield in it:</span>
    <span class="keywordflow">if</span> ( tile.valid() )
    {
        osgTerrain::HeightFieldLayer* layer = <span class="keyword">dynamic_cast&lt;</span>osgTerrain::HeightFieldLayer*<span class="keyword">&gt;</span>(tile-&gt;getElevationLayer());
        <span class="keywordflow">if</span> ( layer )
            hf = layer-&gt;getHeightField();

        <span class="keywordflow">if</span> ( !hf.valid() )
            tile = 0L;
    }

    <span class="comment">// if we didn&#39;t find it (or it didn&#39;t have heightfield data), build it.</span>
    <span class="keywordflow">if</span> ( !tile.valid() )
    {
        <span class="comment">// generate the heightfield corresponding to the tile key, automatically falling back</span>
        <span class="comment">// on lower resolution if necessary:</span>
        <a class="code" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">_mapf</a>.<a class="code" href="classosgEarth_1_1MapFrame.html#ae6408f2c1b6147675aa8f298f2045c3f">getHeightField</a>( key, <span class="keyword">true</span>, hf, 0L, <a class="code" href="classosgEarth_1_1ElevationQuery.html#abab8f8e3f13e9baa4c7944e5b86ea211">_interpolation</a> );

        <span class="comment">// bail out if we could not make a heightfield a all.</span>
        <span class="keywordflow">if</span> ( !hf.valid() )
        {
            <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <a class="code" href="ElevationQuery_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Unable to create heightfield for key &quot;</span> &lt;&lt; key.<a class="code" href="classosgEarth_1_1TileKey.html#aff6a958d86c7ac9a6300e0d9fa8aa72c">str</a>() &lt;&lt; std::endl;
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }

        <span class="comment">// All this stuff is requires for GEOMETRIC mode. An optimization would be to</span>
        <span class="comment">// defer this so that PARAMETRIC mode doesn&#39;t waste time</span>
        <a class="code" href="classosgEarth_1_1GeoLocator.html">GeoLocator</a>* locator = <a class="code" href="classosgEarth_1_1GeoLocator.html#a6554cfe7b4e3ec209a53ad486f05381d">GeoLocator::createForKey</a>( key, <a class="code" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">_mapf</a>.<a class="code" href="classosgEarth_1_1MapFrame.html#a64a5e9c5f241d30feb9ec84b97615bf6">getMapInfo</a>() );

        tile = <span class="keyword">new</span> osgTerrain::TerrainTile();

        osgTerrain::HeightFieldLayer* layer = <span class="keyword">new</span> osgTerrain::HeightFieldLayer( hf.get() );
        layer-&gt;setLocator( locator );

        tile-&gt;setElevationLayer( layer );
        tile-&gt;setRequiresNormals( <span class="keyword">false</span> );
        tile-&gt;setTerrainTechnique( <span class="keyword">new</span> osgTerrain::GeometryTechnique );

        <span class="comment">// store it in the local tile cache.</span>
        <a class="code" href="classosgEarth_1_1ElevationQuery.html#adbb71880920a2572855808829bff7ad4">_tileCache</a>.<a class="code" href="classosgEarth_1_1LRUCache.html#a7285dd6fbcc47f81fba939f9ab2272bf">insert</a>( key, tile.get() );
    }

    <a class="code" href="HTTPClient_8cpp.html#ac6600c2662696d8b43a4deb6877c8591">OE_DEBUG</a> &lt;&lt; <a class="code" href="ElevationQuery_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;LRU Cache, hit ratio = &quot;</span> &lt;&lt; <a class="code" href="classosgEarth_1_1ElevationQuery.html#adbb71880920a2572855808829bff7ad4">_tileCache</a>.<a class="code" href="classosgEarth_1_1LRUCache.html#a84b1472c76747b146974bbbb8c3d029e">getStats</a>().<a class="code" href="classosgEarth_1_1CacheStats.html#abc171b66c0a22970c882c5f1c745ab7a">_hitRatio</a> &lt;&lt; std::endl;

    <span class="comment">// see what the actual resolution of the heightfield is.</span>
    <span class="keywordflow">if</span> ( out_actualResolution )
        *out_actualResolution = (double)hf-&gt;getXInterval();

    <span class="comment">// finally it&#39;s time to get a height value:</span>
    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1ElevationQuery.html#a35f68dd906a7b4006fa794423490ef3b">_technique</a> == <a class="code" href="classosgEarth_1_1ElevationQuery.html#af28d21b6d0bfa86f4d51c78cc49371dfa8c71896f0236af9dc0a12f41f1790f59">TECHNIQUE_PARAMETRIC</a> )
    {
        <span class="keyword">const</span> <a class="code" href="classosgEarth_1_1GeoExtent.html">GeoExtent</a>&amp; extent = key.<a class="code" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4">getExtent</a>();
        <span class="keywordtype">double</span> xInterval = extent.<a class="code" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d">width</a>()  / (double)(hf-&gt;getNumColumns()-1);
        <span class="keywordtype">double</span> yInterval = extent.<a class="code" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d">height</a>() / (double)(hf-&gt;getNumRows()-1);
        out_elevation = (double) <a class="code" href="classosgEarth_1_1HeightFieldUtils.html#a4105a355e751cf6c15e11341ec3bae71">HeightFieldUtils::getHeightAtLocation</a>( 
            hf.get(), mapPoint.x(), mapPoint.y(), extent.<a class="code" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b">xMin</a>(), extent.<a class="code" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c">yMin</a>(), xInterval, yInterval );
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">else</span> <span class="comment">// ( _technique == TECHNIQUE_GEOMETRIC )</span>
    {
        osg::Vec3d start, end, zero;

        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">_mapf</a>.<a class="code" href="classosgEarth_1_1MapFrame.html#a64a5e9c5f241d30feb9ec84b97615bf6">getMapInfo</a>().<a class="code" href="classosgEarth_1_1MapInfo.html#a9f24d551976461e2c60a6ab32a1beda6">isGeocentric</a>() )
        {
            <span class="keyword">const</span> <a class="code" href="classosgEarth_1_1SpatialReference.html">SpatialReference</a>* mapSRS = <a class="code" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">_mapf</a>.<a class="code" href="classosgEarth_1_1MapFrame.html#a8b12dbd02827521d57fc8c67a6e587f1">getProfile</a>()-&gt;<a class="code" href="classosgEarth_1_1Profile.html#a74622647d0d05b6823225a752ed7652b">getSRS</a>();

            mapSRS-&gt;<a class="code" href="classosgEarth_1_1SpatialReference.html#a77dde94811403c9f700ebe98b4702c96">transformToECEF</a>( osg::Vec3d(mapPoint.y(), mapPoint.x(),  50000.0), start );
            mapSRS-&gt;<a class="code" href="classosgEarth_1_1SpatialReference.html#a77dde94811403c9f700ebe98b4702c96">transformToECEF</a>( osg::Vec3d(mapPoint.y(), mapPoint.x(), -50000.0), end );
            mapSRS-&gt;<a class="code" href="classosgEarth_1_1SpatialReference.html#a77dde94811403c9f700ebe98b4702c96">transformToECEF</a>( osg::Vec3d(mapPoint.y(), mapPoint.x(),      0.0), zero );
        }
        <span class="keywordflow">else</span> <span class="comment">// PROJECTED</span>
        {
            start.set( mapPoint.x(), mapPoint.y(),  50000.0 );
            end.set  ( mapPoint.x(), mapPoint.y(), -50000.0 );
            zero.set ( mapPoint.x(), mapPoint.y(),      0.0 );
        }

        osgUtil::LineSegmentIntersector* i = <span class="keyword">new</span> osgUtil::LineSegmentIntersector( start, end );
        osgUtil::IntersectionVisitor iv;
        iv.setIntersector( i );

        tile-&gt;accept( iv );

        osgUtil::LineSegmentIntersector::Intersections&amp; results = i-&gt;getIntersections();
        <span class="keywordflow">if</span> ( !results.empty() )
        {
            <span class="keyword">const</span> osgUtil::LineSegmentIntersector::Intersection&amp; result = *results.begin();
            osg::Vec3d isectPoint = result.getWorldIntersectPoint();
            out_elevation = (isectPoint-end).length2() &gt; (zero-end).length2()
                ? (isectPoint-zero).length()
                : -(isectPoint-zero).length();
            <span class="keywordflow">return</span> <span class="keyword">true</span>;            
        }

        <a class="code" href="HTTPClient_8cpp.html#ac6600c2662696d8b43a4deb6877c8591">OE_DEBUG</a> &lt;&lt; <a class="code" href="ElevationQuery_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;No intersection&quot;</span> &lt;&lt; std::endl;
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
}
</pre></div>
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_ad22d9fed3bdeded10ad3a6c6d36a384a_cgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_ad22d9fed3bdeded10ad3a6c6d36a384a_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_ad22d9fed3bdeded10ad3a6c6d36a384a_cgraph" id="classosgEarth_1_1ElevationQuery_ad22d9fed3bdeded10ad3a6c6d36a384a_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1GeoLocator.html#a6554cfe7b4e3ec209a53ad486f05381d" title="osgEarth::GeoLocator::createForKey" alt="" coords="667,1268,901,1297"/><area shape="rect" id="node21" href="classosgEarth_1_1MapInfo.html#a9f24d551976461e2c60a6ab32a1beda6" title="osgEarth::MapInfo::isGeocentric" alt="" coords="1473,1326,1684,1356"/><area shape="rect" id="node27" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="1489,381,1668,410"/><area shape="rect" id="node31" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="1489,434,1668,464"/><area shape="rect" id="node33" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4" title="osgEarth::TileKey::getExtent" alt="" coords="1484,1062,1673,1092"/><area shape="rect" id="node35" href="classosgEarth_1_1Profile.html#a097cec0f529ccff031931cb816de2295" title="osgEarth::Profile::createTileKey" alt="" coords="1087,332,1292,361"/><area shape="rect" id="node39" href="classosgEarth_1_1SpatialReference.html#a398407559e7c170fc44cde6842511548" title="osgEarth::SpatialReference::isEquivalentTo" alt="" coords="1783,1481,2057,1510"/><area shape="rect" id="node46" href="classosgEarth_1_1SpatialReference.html#a8ac8eb28a1c629d9c7522096310311db" title="osgEarth::SpatialReference::transform2D" alt="" coords="1789,488,2051,517"/><area shape="rect" id="node48" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="1485,328,1672,357"/><area shape="rect" id="node50" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="1488,221,1669,250"/><area shape="rect" id="node56" href="classosgEarth_1_1LRUCache.html#a5196e1e5ca726683b35ee426aba1848c" title="osgEarth::LRUCache::get" alt="" coords="363,1524,536,1553"/><area shape="rect" id="node59" href="classosgEarth_1_1HeightFieldUtils.html#a4105a355e751cf6c15e11341ec3bae71" title="osgEarth::HeightFieldUtils::getHeightAtLocation" alt="" coords="1428,274,1729,304"/><area shape="rect" id="node63" href="classosgEarth_1_1MapFrame.html#ae6408f2c1b6147675aa8f298f2045c3f" title="osgEarth::MapFrame::getHeightField" alt="" coords="332,825,567,854"/><area shape="rect" id="node76" href="classosgEarth_1_1TileKey.html#aff6a958d86c7ac9a6300e0d9fa8aa72c" title="osgEarth::TileKey::str" alt="" coords="1504,902,1653,932"/><area shape="rect" id="node113" href="classosgEarth_1_1TileKey.html#a71ee8076e4558c15c9499b3b1993944f" title="osgEarth::TileKey::valid" alt="" coords="1109,1113,1269,1142"/><area shape="rect" id="node115" href="classosgEarth_1_1Profile.html#aec17c2da87ec76abf3d8b763e54ce8c5" title="osgEarth::Profile::getLevelOfDetailForHorizResolution" alt="" coords="616,73,952,102"/><area shape="rect" id="node118" href="classosgEarth_1_1MapFrame.html#a64a5e9c5f241d30feb9ec84b97615bf6" title="osgEarth::MapFrame::getMapInfo" alt="" coords="341,1577,557,1606"/><area shape="rect" id="node120" href="classosgEarth_1_1MapFrame.html#a8b12dbd02827521d57fc8c67a6e587f1" title="osgEarth::MapFrame::getProfile" alt="" coords="347,1630,552,1660"/><area shape="rect" id="node122" href="classosgEarth_1_1Profile.html#a74622647d0d05b6823225a752ed7652b" title="osgEarth::Profile::getSRS" alt="" coords="697,616,871,645"/><area shape="rect" id="node125" href="classosgEarth_1_1LRUCache.html#a84b1472c76747b146974bbbb8c3d029e" title="osgEarth::LRUCache::getStats" alt="" coords="348,1684,551,1713"/><area shape="rect" id="node128" href="classosgEarth_1_1LRUCache.html#a7285dd6fbcc47f81fba939f9ab2272bf" title="osgEarth::LRUCache::insert" alt="" coords="356,1737,543,1766"/><area shape="rect" id="node134" href="classosgEarth_1_1SpatialReference.html#a77dde94811403c9f700ebe98b4702c96" title="osgEarth::SpatialReference::transformToECEF" alt="" coords="1041,1422,1337,1452"/><area shape="rect" id="node5" href="classosgEarth_1_1GeoLocator.html#aed86f045ce4acb7862c7494059e000ba" title="osgEarth::GeoLocator::createForExtent" alt="" coords="1064,1318,1315,1348"/><area shape="rect" id="node7" href="classosgEarth_1_1SpatialReference.html#adbe193d96c5a5e4554a7d6bc97746c32" title="osgEarth::SpatialReference::createLocator" alt="" coords="2116,1326,2385,1356"/><area shape="rect" id="node17" href="classosgEarth_1_1GeoExtent.html#afa0bd831daf0541cbbb161763ed9291f" title="osgEarth::GeoExtent::getBounds" alt="" coords="1472,1009,1685,1038"/><area shape="rect" id="node19" href="classosgEarth_1_1GeoExtent.html#a77766059cde5244c2bc309cfa50800c3" title="osgEarth::GeoExtent::getSRS" alt="" coords="1480,642,1677,672"/><area shape="rect" id="node23" href="classosgEarth_1_1MapInfo.html#a41988a8fd2ce3d44dbd36f6002bf782a" title="osgEarth::MapInfo::isPlateCarre" alt="" coords="1475,1273,1683,1302"/><area shape="rect" id="node25" href="classosgEarth_1_1GeoExtent.html#a91457972e7827ea655db19203e63db00" title="osgEarth::GeoExtent::xMax" alt="" coords="1487,1166,1671,1196"/><area shape="rect" id="node29" href="classosgEarth_1_1GeoExtent.html#aa64e915bc55e7390c60f99962ff1cccc" title="osgEarth::GeoExtent::yMax" alt="" coords="1487,1220,1671,1249"/><area shape="rect" id="node9" href="classosgEarth_1_1SpatialReference.html#ad7d6ef0605664b77e8348df5324ea32f" title="osgEarth::SpatialReference::getEllipsoid" alt="" coords="2445,1432,2701,1461"/><area shape="rect" id="node11" href="classosgEarth_1_1SpatialReference.html#ad4674227fe46613b3f5821109a509714" title="osgEarth::SpatialReference::init" alt="" coords="2756,1405,2961,1434"/><area shape="rect" id="node14" href="classosgEarth_1_1SpatialReference.html#adfb00834f8d96146b119add7ec2c93a3" title="osgEarth::SpatialReference::isGeographic" alt="" coords="2440,1378,2707,1408"/><area shape="rect" id="node37" href="classosgEarth_1_1GeoExtent.html#aee6715804d02b8467ace54bd77d93681" title="osgEarth::GeoExtent::contains" alt="" coords="1479,488,1679,517"/><area shape="rect" id="node41" href="classosgEarth_1_1SpatialReference.html#afe559cd555e232b45109fbce72742b02" title="osgEarth::SpatialReference::_isEquivalentTo" alt="" coords="2109,1481,2392,1510"/><area shape="rect" id="node52" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="1795,221,2045,250"/><area shape="rect" id="node61" href="classosgEarth_1_1HeightFieldUtils.html#a22c62355cca03b5aba9edeff73534da7" title="osgEarth::HeightFieldUtils::getHeightAtPixel" alt="" coords="1780,274,2060,304"/><area shape="rect" id="node65" href="classosgEarth_1_1MapInfo.html#a69c05dfae1159b34a013658958412655" title="osgEarth::MapInfo::getProfile" alt="" coords="688,772,880,801"/><area shape="rect" id="node67" href="namespaceanonymous__namespace_02Map_8cpp_03.html#ad7b47bdac1bfab5aef1bddd9e7545edd" title="anonymous_namespace\{Map::cpp\}::s_getHeightField" alt="" coords="619,825,949,854"/><area shape="rect" id="node69" href="classosgEarth_1_1ElevationLayer.html#a4f96d09e39960b527c417b0e672b3393" title="osgEarth::ElevationLayer::createHeightField" alt="" coords="1051,958,1328,988"/><area shape="rect" id="node73" href="classosgEarth_1_1TerrainLayer.html#a8c3b22dfd214263aefe467b36b9d0828" title="osgEarth::TerrainLayer::getProfile" alt="" coords="1471,772,1687,801"/><area shape="rect" id="node78" href="classosgEarth_1_1TileKey.html#a4b0740ba2a5f0d536566f10d6e38ec36" title="osgEarth::TileKey::createParentKey" alt="" coords="1075,905,1304,934"/><area shape="rect" id="node80" href="classosgEarth_1_1GeoHeightField.html#acb3bb34c9a60038685de8723084422a1" title="osgEarth::GeoHeightField::createSubSample" alt="" coords="1048,278,1331,308"/><area shape="rect" id="node88" href="classosgEarth_1_1GeoHeightField.html#a69cd23edf51596764b79e6985e609874" title="osgEarth::GeoHeightField::getElevation" alt="" coords="1064,486,1315,516"/><area shape="rect" id="node102" href="classosgEarth_1_1TerrainLayer.html#a02f9aaac89492153b97433acddaaf915" title="osgEarth::TerrainLayer::getEnabled" alt="" coords="1076,692,1303,721"/><area shape="rect" id="node105" href="classosgEarth_1_1TileKey.html#a0ee6b25bbae560dda11987ac1e9dc69d" title="osgEarth::TileKey::getLevelOfDetail" alt="" coords="1075,745,1304,774"/><area shape="rect" id="node109" href="classosgEarth_1_1Profile.html#a51ec4bfed483574305760252382a2b80" title="osgEarth::Profile::getVerticalSRS" alt="" coords="1081,798,1297,828"/><area shape="rect" id="node111" href="structosgEarth_1_1ReplaceInvalidDataOperator.html#ae03a895aa3dffc8e76ad752f2fedc2d7" title="osgEarth::ReplaceInvalidDataOperator::setValidDataOperator" alt="" coords="1000,852,1379,881"/><area shape="rect" id="node91" href="classosgEarth_1_1SpatialReference.html#a42fc6ea305be6b94340bf300d7b67dbe" title="osgEarth::SpatialReference::getGeographicSRS" alt="" coords="1428,956,1729,985"/><area shape="rect" id="node139" href="classosgEarth_1_1SpatialReference.html#a28d916a87ed2653a5763bf8777cd9cbf" title="osgEarth::SpatialReference::transform" alt="" coords="1456,1481,1701,1510"/></map>
</div>
</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_ad22d9fed3bdeded10ad3a6c6d36a384a_icgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_ad22d9fed3bdeded10ad3a6c6d36a384a_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_ad22d9fed3bdeded10ad3a6c6d36a384a_icgraph" id="classosgEarth_1_1ElevationQuery_ad22d9fed3bdeded10ad3a6c6d36a384a_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ElevationQuery.html#a9fdc0dc02c3a41cfd7b1a4bd6c6c6766" title="osgEarth::ElevationQuery::getElevation" alt="" coords="335,133,585,163"/><area shape="rect" id="node21" href="classosgEarth_1_1ElevationQuery.html#a278103b5127a63e2deee477a85c41193" title="osgEarth::ElevationQuery::getElevations" alt="" coords="331,200,589,229"/><area shape="rect" id="node5" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#a488fc6ab87571358f7a97ab849b12995" title="osgEarth::Features::FeatureModelGraph::getBoundInWorldCoords" alt="" coords="637,108,1043,137"/><area shape="rect" id="node7" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#ad00f4ce789ad176865939eae7e891e8a" title="osgEarth::Features::FeatureModelGraph::buildSubTilePagedLODs" alt="" coords="1091,5,1496,35"/><area shape="rect" id="node9" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#a6b4599d049e5a9761d7dcfdb046f9dcd" title="osgEarth::Features::FeatureModelGraph::load" alt="" coords="1553,31,1839,60"/><area shape="rect" id="node11" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#abf5b8ab8a3c929bc5c5cb9c40d3f3d8e" title="osgEarth::Features::FeatureModelGraph::FeatureModelGraph" alt="" coords="1897,108,2273,137"/><area shape="rect" id="node14" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#a4d6868a087abc54bce800f2174ff0e7c" title="osgEarth::Features::FeatureModelGraph::setupPaging" alt="" coords="1127,160,1460,189"/><area shape="rect" id="node16" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#a3f7dfd4b1d9a5186c9673b302bdfd2f4" title="osgEarth::Features::FeatureModelGraph::redraw" alt="" coords="1545,160,1847,189"/><area shape="rect" id="node19" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#ac86ba74a46831aa375872c5e471f3506" title="osgEarth::Features::FeatureModelGraph::traverse" alt="" coords="1931,161,2240,191"/><area shape="rect" id="node23" href="classosgEarth_1_1Features_1_1AltitudeFilter.html#aa6be39ee799763f89225dbcd771ff596" title="osgEarth::Features::AltitudeFilter::push" alt="" coords="715,207,965,236"/><area shape="rect" id="node25" href="classosgEarth_1_1Features_1_1GeometryCompiler.html#accc6d2f89d615bdb233ae2e9fbf058b2" title="osgEarth::Features::GeometryCompiler::compile" alt="" coords="1143,213,1444,243"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a913442037e0917edd06e32ef0873dcbb"></a><!-- doxytag: member="osgEarth::ElevationQuery::getElevationInterpolation" ref="a913442037e0917edd06e32ef0873dcbb" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ElevationInterpolation ElevationQuery::getElevationInterpolation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the elevation interpolation to use when sampling data </p>

<p>Definition at line <a class="el" href="ElevationQuery_8cpp_source.html#l00093">93</a> of file <a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1ElevationQuery.html#abab8f8e3f13e9baa4c7944e5b86ea211">_interpolation</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a278103b5127a63e2deee477a85c41193"></a><!-- doxytag: member="osgEarth::ElevationQuery::getElevations" ref="a278103b5127a63e2deee477a85c41193" args="(std::vector&lt; osg::Vec3d &gt; &amp;points, const SpatialReference *pointsSRS, bool ignoreZ=true, double desiredResolution=0.0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ElevationQuery::getElevations </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; osg::Vec3d &gt; &amp;&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1SpatialReference.html">SpatialReference</a> *&#160;</td>
          <td class="paramname"><em>pointsSRS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignoreZ</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>desiredResolution</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets elevations for a whole array of points, storing the result in the "z" element. If "ignoreZ" is false, the new Z value will be offset by the original Z value. </p>

<p>Definition at line <a class="el" href="ElevationQuery_8cpp_source.html#l00110">110</a> of file <a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1ElevationQuery.html#af6c856d62a77f2285a42f01c86129138">sync</a>();
    <span class="keywordflow">for</span>( osg::Vec3dArray::iterator i = points.begin(); i != points.end(); ++i )
    {
        <span class="keywordtype">double</span> elevation;
        <span class="keywordtype">double</span> z = (*i).z();
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1ElevationQuery.html#ad22d9fed3bdeded10ad3a6c6d36a384a">getElevationImpl</a>( *i, pointsSRS, elevation, desiredResolution ) )
        {
            (*i).z() = ignoreZ ? elevation : elevation + z;
        }
    }
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_a278103b5127a63e2deee477a85c41193_cgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_a278103b5127a63e2deee477a85c41193_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_a278103b5127a63e2deee477a85c41193_cgraph" id="classosgEarth_1_1ElevationQuery_a278103b5127a63e2deee477a85c41193_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ElevationQuery.html#ad22d9fed3bdeded10ad3a6c6d36a384a" title="osgEarth::ElevationQuery::getElevationImpl" alt="" coords="313,603,588,632"/><area shape="rect" id="node140" href="classosgEarth_1_1ElevationQuery.html#af6c856d62a77f2285a42f01c86129138" title="osgEarth::ElevationQuery::sync" alt="" coords="348,1586,553,1615"/><area shape="rect" id="node5" href="classosgEarth_1_1GeoLocator.html#a6554cfe7b4e3ec209a53ad486f05381d" title="osgEarth::GeoLocator::createForKey" alt="" coords="979,1330,1213,1359"/><area shape="rect" id="node23" href="classosgEarth_1_1MapInfo.html#a9f24d551976461e2c60a6ab32a1beda6" title="osgEarth::MapInfo::isGeocentric" alt="" coords="1703,1534,1913,1563"/><area shape="rect" id="node29" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="1719,818,1897,847"/><area shape="rect" id="node33" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="1719,764,1897,794"/><area shape="rect" id="node35" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4" title="osgEarth::TileKey::getExtent" alt="" coords="1713,1320,1903,1350"/><area shape="rect" id="node37" href="classosgEarth_1_1Profile.html#a097cec0f529ccff031931cb816de2295" title="osgEarth::Profile::createTileKey" alt="" coords="1357,602,1563,631"/><area shape="rect" id="node41" href="classosgEarth_1_1SpatialReference.html#a398407559e7c170fc44cde6842511548" title="osgEarth::SpatialReference::isEquivalentTo" alt="" coords="2012,244,2287,274"/><area shape="rect" id="node48" href="classosgEarth_1_1SpatialReference.html#a8ac8eb28a1c629d9c7522096310311db" title="osgEarth::SpatialReference::transform2D" alt="" coords="2019,503,2280,532"/><area shape="rect" id="node50" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="1715,610,1901,639"/><area shape="rect" id="node52" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="1717,450,1899,479"/><area shape="rect" id="node58" href="classosgEarth_1_1LRUCache.html#a5196e1e5ca726683b35ee426aba1848c" title="osgEarth::LRUCache::get" alt="" coords="672,82,845,111"/><area shape="rect" id="node61" href="classosgEarth_1_1HeightFieldUtils.html#a4105a355e751cf6c15e11341ec3bae71" title="osgEarth::HeightFieldUtils::getHeightAtLocation" alt="" coords="1657,871,1959,900"/><area shape="rect" id="node65" href="classosgEarth_1_1MapFrame.html#ae6408f2c1b6147675aa8f298f2045c3f" title="osgEarth::MapFrame::getHeightField" alt="" coords="641,927,876,956"/><area shape="rect" id="node76" href="classosgEarth_1_1TileKey.html#aff6a958d86c7ac9a6300e0d9fa8aa72c" title="osgEarth::TileKey::str" alt="" coords="1733,1374,1883,1403"/><area shape="rect" id="node106" href="classosgEarth_1_1TileKey.html#a71ee8076e4558c15c9499b3b1993944f" title="osgEarth::TileKey::valid" alt="" coords="1380,1276,1540,1306"/><area shape="rect" id="node108" href="classosgEarth_1_1Profile.html#aec17c2da87ec76abf3d8b763e54ce8c5" title="osgEarth::Profile::getLevelOfDetailForHorizResolution" alt="" coords="928,500,1264,530"/><area shape="rect" id="node111" href="classosgEarth_1_1MapFrame.html#a64a5e9c5f241d30feb9ec84b97615bf6" title="osgEarth::MapFrame::getMapInfo" alt="" coords="651,135,867,164"/><area shape="rect" id="node113" href="classosgEarth_1_1MapFrame.html#a8b12dbd02827521d57fc8c67a6e587f1" title="osgEarth::MapFrame::getProfile" alt="" coords="656,188,861,218"/><area shape="rect" id="node115" href="classosgEarth_1_1Profile.html#a74622647d0d05b6823225a752ed7652b" title="osgEarth::Profile::getSRS" alt="" coords="1009,1096,1183,1126"/><area shape="rect" id="node118" href="classosgEarth_1_1LRUCache.html#a84b1472c76747b146974bbbb8c3d029e" title="osgEarth::LRUCache::getStats" alt="" coords="657,242,860,271"/><area shape="rect" id="node121" href="classosgEarth_1_1LRUCache.html#a7285dd6fbcc47f81fba939f9ab2272bf" title="osgEarth::LRUCache::insert" alt="" coords="665,295,852,324"/><area shape="rect" id="node127" href="classosgEarth_1_1SpatialReference.html#a77dde94811403c9f700ebe98b4702c96" title="osgEarth::SpatialReference::transformToECEF" alt="" coords="1312,244,1608,274"/><area shape="rect" id="node7" href="classosgEarth_1_1GeoLocator.html#aed86f045ce4acb7862c7494059e000ba" title="osgEarth::GeoLocator::createForExtent" alt="" coords="1335,1330,1585,1359"/><area shape="rect" id="node9" href="classosgEarth_1_1SpatialReference.html#adbe193d96c5a5e4554a7d6bc97746c32" title="osgEarth::SpatialReference::createLocator" alt="" coords="2345,504,2615,534"/><area shape="rect" id="node19" href="classosgEarth_1_1GeoExtent.html#afa0bd831daf0541cbbb161763ed9291f" title="osgEarth::GeoExtent::getBounds" alt="" coords="1701,1163,1915,1192"/><area shape="rect" id="node21" href="classosgEarth_1_1GeoExtent.html#a77766059cde5244c2bc309cfa50800c3" title="osgEarth::GeoExtent::getSRS" alt="" coords="1709,1110,1907,1139"/><area shape="rect" id="node25" href="classosgEarth_1_1MapInfo.html#a41988a8fd2ce3d44dbd36f6002bf782a" title="osgEarth::MapInfo::isPlateCarre" alt="" coords="1704,1480,1912,1510"/><area shape="rect" id="node27" href="classosgEarth_1_1GeoExtent.html#a91457972e7827ea655db19203e63db00" title="osgEarth::GeoExtent::xMax" alt="" coords="1716,1427,1900,1456"/><area shape="rect" id="node31" href="classosgEarth_1_1GeoExtent.html#aa64e915bc55e7390c60f99962ff1cccc" title="osgEarth::GeoExtent::yMax" alt="" coords="1716,1267,1900,1296"/><area shape="rect" id="node11" href="classosgEarth_1_1SpatialReference.html#ad7d6ef0605664b77e8348df5324ea32f" title="osgEarth::SpatialReference::getEllipsoid" alt="" coords="2675,244,2931,274"/><area shape="rect" id="node13" href="classosgEarth_1_1SpatialReference.html#ad4674227fe46613b3f5821109a509714" title="osgEarth::SpatialReference::init" alt="" coords="2985,271,3191,300"/><area shape="rect" id="node16" href="classosgEarth_1_1SpatialReference.html#adfb00834f8d96146b119add7ec2c93a3" title="osgEarth::SpatialReference::isGeographic" alt="" coords="2669,298,2936,327"/><area shape="rect" id="node39" href="classosgEarth_1_1GeoExtent.html#aee6715804d02b8467ace54bd77d93681" title="osgEarth::GeoExtent::contains" alt="" coords="1708,503,1908,532"/><area shape="rect" id="node43" href="classosgEarth_1_1SpatialReference.html#afe559cd555e232b45109fbce72742b02" title="osgEarth::SpatialReference::_isEquivalentTo" alt="" coords="2339,244,2621,274"/><area shape="rect" id="node54" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="2024,450,2275,479"/><area shape="rect" id="node63" href="classosgEarth_1_1HeightFieldUtils.html#a22c62355cca03b5aba9edeff73534da7" title="osgEarth::HeightFieldUtils::getHeightAtPixel" alt="" coords="2009,871,2289,900"/><area shape="rect" id="node67" href="classosgEarth_1_1MapInfo.html#a69c05dfae1159b34a013658958412655" title="osgEarth::MapInfo::getProfile" alt="" coords="1000,927,1192,956"/><area shape="rect" id="node69" href="namespaceanonymous__namespace_02Map_8cpp_03.html#ad7b47bdac1bfab5aef1bddd9e7545edd" title="anonymous_namespace\{Map::cpp\}::s_getHeightField" alt="" coords="931,1006,1261,1035"/><area shape="rect" id="node71" href="classosgEarth_1_1ElevationLayer.html#a4f96d09e39960b527c417b0e672b3393" title="osgEarth::ElevationLayer::createHeightField" alt="" coords="1321,1172,1599,1202"/><area shape="rect" id="node78" href="classosgEarth_1_1TileKey.html#a4b0740ba2a5f0d536566f10d6e38ec36" title="osgEarth::TileKey::createParentKey" alt="" coords="1345,967,1575,996"/><area shape="rect" id="node80" href="classosgEarth_1_1GeoHeightField.html#acb3bb34c9a60038685de8723084422a1" title="osgEarth::GeoHeightField::createSubSample" alt="" coords="1319,759,1601,788"/><area shape="rect" id="node88" href="classosgEarth_1_1GeoHeightField.html#a69cd23edf51596764b79e6985e609874" title="osgEarth::GeoHeightField::getElevation" alt="" coords="1335,655,1585,684"/><area shape="rect" id="node102" href="classosgEarth_1_1TerrainLayer.html#a02f9aaac89492153b97433acddaaf915" title="osgEarth::TerrainLayer::getEnabled" alt="" coords="1347,914,1573,943"/><area shape="rect" id="node91" href="classosgEarth_1_1SpatialReference.html#a42fc6ea305be6b94340bf300d7b67dbe" title="osgEarth::SpatialReference::getGeographicSRS" alt="" coords="1657,556,1959,586"/><area shape="rect" id="node132" href="classosgEarth_1_1SpatialReference.html#a28d916a87ed2653a5763bf8777cd9cbf" title="osgEarth::SpatialReference::transform" alt="" coords="1685,244,1931,274"/><area shape="rect" id="node142" href="classosgEarth_1_1MapFrame.html#a2f1751fdcda89f7f575ed022d3d2c885" title="osgEarth::MapFrame::elevationLayers" alt="" coords="637,1586,880,1615"/><area shape="rect" id="node144" href="classosgEarth_1_1MapFrame.html#ae7b45fa3f0544ddd374c2448740cd6a6" title="osgEarth::MapFrame::sync" alt="" coords="669,1639,848,1668"/></map>
</div>
</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_a278103b5127a63e2deee477a85c41193_icgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_a278103b5127a63e2deee477a85c41193_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_a278103b5127a63e2deee477a85c41193_icgraph" id="classosgEarth_1_1ElevationQuery_a278103b5127a63e2deee477a85c41193_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Features_1_1AltitudeFilter.html#aa6be39ee799763f89225dbcd771ff596" title="osgEarth::Features::AltitudeFilter::push" alt="" coords="312,5,563,35"/><area shape="rect" id="node5" href="classosgEarth_1_1Features_1_1GeometryCompiler.html#accc6d2f89d615bdb233ae2e9fbf058b2" title="osgEarth::Features::GeometryCompiler::compile" alt="" coords="612,5,913,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a757a2222fa8567476345bf224270a280"></a><!-- doxytag: member="osgEarth::ElevationQuery::getElevations" ref="a757a2222fa8567476345bf224270a280" args="(const std::vector&lt; osg::Vec3d &gt; &amp;points, const SpatialReference *pointsSRS, std::vector&lt; double &gt; &amp;out_elevations, double desiredResolution=0.0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ElevationQuery::getElevations </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; osg::Vec3d &gt; &amp;&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1SpatialReference.html">SpatialReference</a> *&#160;</td>
          <td class="paramname"><em>pointsSRS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_elevations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>desiredResolution</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets elevations for a whole array of points, storing the results in the "out_elevations" vector. </p>

<p>Definition at line <a class="el" href="ElevationQuery_8cpp_source.html#l00129">129</a> of file <a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1ElevationQuery.html#af6c856d62a77f2285a42f01c86129138">sync</a>();
    <span class="keywordflow">for</span>( osg::Vec3dArray::const_iterator i = points.begin(); i != points.end(); ++i )
    {
        <span class="keywordtype">double</span> elevation;
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1ElevationQuery.html#ad22d9fed3bdeded10ad3a6c6d36a384a">getElevationImpl</a>( *i, pointsSRS, elevation, desiredResolution ) )
        {
            out_elevations.push_back( elevation );
        }
    }
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_a757a2222fa8567476345bf224270a280_cgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_a757a2222fa8567476345bf224270a280_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_a757a2222fa8567476345bf224270a280_cgraph" id="classosgEarth_1_1ElevationQuery_a757a2222fa8567476345bf224270a280_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ElevationQuery.html#ad22d9fed3bdeded10ad3a6c6d36a384a" title="osgEarth::ElevationQuery::getElevationImpl" alt="" coords="313,603,588,632"/><area shape="rect" id="node140" href="classosgEarth_1_1ElevationQuery.html#af6c856d62a77f2285a42f01c86129138" title="osgEarth::ElevationQuery::sync" alt="" coords="348,1586,553,1615"/><area shape="rect" id="node5" href="classosgEarth_1_1GeoLocator.html#a6554cfe7b4e3ec209a53ad486f05381d" title="osgEarth::GeoLocator::createForKey" alt="" coords="979,1330,1213,1359"/><area shape="rect" id="node23" href="classosgEarth_1_1MapInfo.html#a9f24d551976461e2c60a6ab32a1beda6" title="osgEarth::MapInfo::isGeocentric" alt="" coords="1703,1534,1913,1563"/><area shape="rect" id="node29" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="1719,818,1897,847"/><area shape="rect" id="node33" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="1719,764,1897,794"/><area shape="rect" id="node35" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4" title="osgEarth::TileKey::getExtent" alt="" coords="1713,1320,1903,1350"/><area shape="rect" id="node37" href="classosgEarth_1_1Profile.html#a097cec0f529ccff031931cb816de2295" title="osgEarth::Profile::createTileKey" alt="" coords="1357,602,1563,631"/><area shape="rect" id="node41" href="classosgEarth_1_1SpatialReference.html#a398407559e7c170fc44cde6842511548" title="osgEarth::SpatialReference::isEquivalentTo" alt="" coords="2012,244,2287,274"/><area shape="rect" id="node48" href="classosgEarth_1_1SpatialReference.html#a8ac8eb28a1c629d9c7522096310311db" title="osgEarth::SpatialReference::transform2D" alt="" coords="2019,503,2280,532"/><area shape="rect" id="node50" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="1715,610,1901,639"/><area shape="rect" id="node52" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="1717,450,1899,479"/><area shape="rect" id="node58" href="classosgEarth_1_1LRUCache.html#a5196e1e5ca726683b35ee426aba1848c" title="osgEarth::LRUCache::get" alt="" coords="672,82,845,111"/><area shape="rect" id="node61" href="classosgEarth_1_1HeightFieldUtils.html#a4105a355e751cf6c15e11341ec3bae71" title="osgEarth::HeightFieldUtils::getHeightAtLocation" alt="" coords="1657,871,1959,900"/><area shape="rect" id="node65" href="classosgEarth_1_1MapFrame.html#ae6408f2c1b6147675aa8f298f2045c3f" title="osgEarth::MapFrame::getHeightField" alt="" coords="641,927,876,956"/><area shape="rect" id="node76" href="classosgEarth_1_1TileKey.html#aff6a958d86c7ac9a6300e0d9fa8aa72c" title="osgEarth::TileKey::str" alt="" coords="1733,1374,1883,1403"/><area shape="rect" id="node106" href="classosgEarth_1_1TileKey.html#a71ee8076e4558c15c9499b3b1993944f" title="osgEarth::TileKey::valid" alt="" coords="1380,1276,1540,1306"/><area shape="rect" id="node108" href="classosgEarth_1_1Profile.html#aec17c2da87ec76abf3d8b763e54ce8c5" title="osgEarth::Profile::getLevelOfDetailForHorizResolution" alt="" coords="928,500,1264,530"/><area shape="rect" id="node111" href="classosgEarth_1_1MapFrame.html#a64a5e9c5f241d30feb9ec84b97615bf6" title="osgEarth::MapFrame::getMapInfo" alt="" coords="651,135,867,164"/><area shape="rect" id="node113" href="classosgEarth_1_1MapFrame.html#a8b12dbd02827521d57fc8c67a6e587f1" title="osgEarth::MapFrame::getProfile" alt="" coords="656,188,861,218"/><area shape="rect" id="node115" href="classosgEarth_1_1Profile.html#a74622647d0d05b6823225a752ed7652b" title="osgEarth::Profile::getSRS" alt="" coords="1009,1096,1183,1126"/><area shape="rect" id="node118" href="classosgEarth_1_1LRUCache.html#a84b1472c76747b146974bbbb8c3d029e" title="osgEarth::LRUCache::getStats" alt="" coords="657,242,860,271"/><area shape="rect" id="node121" href="classosgEarth_1_1LRUCache.html#a7285dd6fbcc47f81fba939f9ab2272bf" title="osgEarth::LRUCache::insert" alt="" coords="665,295,852,324"/><area shape="rect" id="node127" href="classosgEarth_1_1SpatialReference.html#a77dde94811403c9f700ebe98b4702c96" title="osgEarth::SpatialReference::transformToECEF" alt="" coords="1312,244,1608,274"/><area shape="rect" id="node7" href="classosgEarth_1_1GeoLocator.html#aed86f045ce4acb7862c7494059e000ba" title="osgEarth::GeoLocator::createForExtent" alt="" coords="1335,1330,1585,1359"/><area shape="rect" id="node9" href="classosgEarth_1_1SpatialReference.html#adbe193d96c5a5e4554a7d6bc97746c32" title="osgEarth::SpatialReference::createLocator" alt="" coords="2345,504,2615,534"/><area shape="rect" id="node19" href="classosgEarth_1_1GeoExtent.html#afa0bd831daf0541cbbb161763ed9291f" title="osgEarth::GeoExtent::getBounds" alt="" coords="1701,1163,1915,1192"/><area shape="rect" id="node21" href="classosgEarth_1_1GeoExtent.html#a77766059cde5244c2bc309cfa50800c3" title="osgEarth::GeoExtent::getSRS" alt="" coords="1709,1110,1907,1139"/><area shape="rect" id="node25" href="classosgEarth_1_1MapInfo.html#a41988a8fd2ce3d44dbd36f6002bf782a" title="osgEarth::MapInfo::isPlateCarre" alt="" coords="1704,1480,1912,1510"/><area shape="rect" id="node27" href="classosgEarth_1_1GeoExtent.html#a91457972e7827ea655db19203e63db00" title="osgEarth::GeoExtent::xMax" alt="" coords="1716,1427,1900,1456"/><area shape="rect" id="node31" href="classosgEarth_1_1GeoExtent.html#aa64e915bc55e7390c60f99962ff1cccc" title="osgEarth::GeoExtent::yMax" alt="" coords="1716,1267,1900,1296"/><area shape="rect" id="node11" href="classosgEarth_1_1SpatialReference.html#ad7d6ef0605664b77e8348df5324ea32f" title="osgEarth::SpatialReference::getEllipsoid" alt="" coords="2675,244,2931,274"/><area shape="rect" id="node13" href="classosgEarth_1_1SpatialReference.html#ad4674227fe46613b3f5821109a509714" title="osgEarth::SpatialReference::init" alt="" coords="2985,271,3191,300"/><area shape="rect" id="node16" href="classosgEarth_1_1SpatialReference.html#adfb00834f8d96146b119add7ec2c93a3" title="osgEarth::SpatialReference::isGeographic" alt="" coords="2669,298,2936,327"/><area shape="rect" id="node39" href="classosgEarth_1_1GeoExtent.html#aee6715804d02b8467ace54bd77d93681" title="osgEarth::GeoExtent::contains" alt="" coords="1708,503,1908,532"/><area shape="rect" id="node43" href="classosgEarth_1_1SpatialReference.html#afe559cd555e232b45109fbce72742b02" title="osgEarth::SpatialReference::_isEquivalentTo" alt="" coords="2339,244,2621,274"/><area shape="rect" id="node54" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="2024,450,2275,479"/><area shape="rect" id="node63" href="classosgEarth_1_1HeightFieldUtils.html#a22c62355cca03b5aba9edeff73534da7" title="osgEarth::HeightFieldUtils::getHeightAtPixel" alt="" coords="2009,871,2289,900"/><area shape="rect" id="node67" href="classosgEarth_1_1MapInfo.html#a69c05dfae1159b34a013658958412655" title="osgEarth::MapInfo::getProfile" alt="" coords="1000,927,1192,956"/><area shape="rect" id="node69" href="namespaceanonymous__namespace_02Map_8cpp_03.html#ad7b47bdac1bfab5aef1bddd9e7545edd" title="anonymous_namespace\{Map::cpp\}::s_getHeightField" alt="" coords="931,1006,1261,1035"/><area shape="rect" id="node71" href="classosgEarth_1_1ElevationLayer.html#a4f96d09e39960b527c417b0e672b3393" title="osgEarth::ElevationLayer::createHeightField" alt="" coords="1321,1172,1599,1202"/><area shape="rect" id="node78" href="classosgEarth_1_1TileKey.html#a4b0740ba2a5f0d536566f10d6e38ec36" title="osgEarth::TileKey::createParentKey" alt="" coords="1345,967,1575,996"/><area shape="rect" id="node80" href="classosgEarth_1_1GeoHeightField.html#acb3bb34c9a60038685de8723084422a1" title="osgEarth::GeoHeightField::createSubSample" alt="" coords="1319,759,1601,788"/><area shape="rect" id="node88" href="classosgEarth_1_1GeoHeightField.html#a69cd23edf51596764b79e6985e609874" title="osgEarth::GeoHeightField::getElevation" alt="" coords="1335,655,1585,684"/><area shape="rect" id="node102" href="classosgEarth_1_1TerrainLayer.html#a02f9aaac89492153b97433acddaaf915" title="osgEarth::TerrainLayer::getEnabled" alt="" coords="1347,914,1573,943"/><area shape="rect" id="node91" href="classosgEarth_1_1SpatialReference.html#a42fc6ea305be6b94340bf300d7b67dbe" title="osgEarth::SpatialReference::getGeographicSRS" alt="" coords="1657,556,1959,586"/><area shape="rect" id="node132" href="classosgEarth_1_1SpatialReference.html#a28d916a87ed2653a5763bf8777cd9cbf" title="osgEarth::SpatialReference::transform" alt="" coords="1685,244,1931,274"/><area shape="rect" id="node142" href="classosgEarth_1_1MapFrame.html#a2f1751fdcda89f7f575ed022d3d2c885" title="osgEarth::MapFrame::elevationLayers" alt="" coords="637,1586,880,1615"/><area shape="rect" id="node144" href="classosgEarth_1_1MapFrame.html#ae7b45fa3f0544ddd374c2448740cd6a6" title="osgEarth::MapFrame::sync" alt="" coords="669,1639,848,1668"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5798ce7d90a64ca31112564b44db09cd"></a><!-- doxytag: member="osgEarth::ElevationQuery::getMaxLevelOverride" ref="a5798ce7d90a64ca31112564b44db09cd" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osgEarth::ElevationQuery::getMaxLevelOverride </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the maximum level override for elevation queries. </p>

</div>
</div>
<a class="anchor" id="a3b743add1e216aa2c1329e3eb63ba17d"></a><!-- doxytag: member="osgEarth::ElevationQuery::getMaxTilesToCache" ref="a3b743add1e216aa2c1329e3eb63ba17d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ElevationQuery::getMaxTilesToCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the maximum cache size for elevation tiles. </p>

<p>Definition at line <a class="el" href="ElevationQuery_8cpp_source.html#l00081">81</a> of file <a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1ElevationQuery.html#adbb71880920a2572855808829bff7ad4">_tileCache</a>.<a class="code" href="classosgEarth_1_1LRUCache.html#aa3c1170ed9b7460e7db5ae08a56bbb68">getMaxSize</a>();
}
</pre></div>
<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_a3b743add1e216aa2c1329e3eb63ba17d_cgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_a3b743add1e216aa2c1329e3eb63ba17d_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_a3b743add1e216aa2c1329e3eb63ba17d_cgraph" id="classosgEarth_1_1ElevationQuery_a3b743add1e216aa2c1329e3eb63ba17d_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1LRUCache.html#aa3c1170ed9b7460e7db5ae08a56bbb68" title="osgEarth::LRUCache::getMaxSize" alt="" coords="357,5,581,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a95644903aef19550f5a9dd298af69e3e"></a><!-- doxytag: member="osgEarth::ElevationQuery::getTechnique" ref="a95644903aef19550f5a9dd298af69e3e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1ElevationQuery.html#af28d21b6d0bfa86f4d51c78cc49371df">ElevationQuery::Technique</a> ElevationQuery::getTechnique </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the technique to use for height determination. See the Technique enum in this class. </p>

<p>Definition at line <a class="el" href="ElevationQuery_8cpp_source.html#l00063">63</a> of file <a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1ElevationQuery.html#a35f68dd906a7b4006fa794423490ef3b">_technique</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac8e4256d69a1ccea4bd9720908e1f1cd"></a><!-- doxytag: member="osgEarth::ElevationQuery::postCTOR" ref="ac8e4256d69a1ccea4bd9720908e1f1cd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ElevationQuery::postCTOR </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ElevationQuery_8cpp_source.html#l00026">26</a> of file <a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1ElevationQuery.html#ad938dc1cb2db27e704607258f7d24815">_tileSize</a>         = 0;
    <a class="code" href="classosgEarth_1_1ElevationQuery.html#ac8f9d3fffd246c8c4fe58f49271a6f72">_maxDataLevel</a>     = 0;
    <a class="code" href="classosgEarth_1_1ElevationQuery.html#a35f68dd906a7b4006fa794423490ef3b">_technique</a>        = <a class="code" href="classosgEarth_1_1ElevationQuery.html#af28d21b6d0bfa86f4d51c78cc49371dfa8c71896f0236af9dc0a12f41f1790f59">TECHNIQUE_PARAMETRIC</a>;
    <a class="code" href="classosgEarth_1_1ElevationQuery.html#abab8f8e3f13e9baa4c7944e5b86ea211">_interpolation</a>    = <a class="code" href="HeightFieldUtils.html#aa9ed60725e4c7bb403b0d985f9d3bf37">INTERP_BILINEAR</a>;
    <a class="code" href="classosgEarth_1_1ElevationQuery.html#ad0a86464c9d1a04e09473d60db95f781">_maxLevelOverride</a> = -1;

    <span class="comment">// Limit the size of the cache we&#39;ll use to cache heightfields. This is an</span>
    <span class="comment">// LRU cache.</span>
    <a class="code" href="classosgEarth_1_1ElevationQuery.html#adbb71880920a2572855808829bff7ad4">_tileCache</a>.<a class="code" href="classosgEarth_1_1LRUCache.html#ae2a59a6315e01827f334593552d9da7a">setMaxSize</a>( 50 );
}
</pre></div>
<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_ac8e4256d69a1ccea4bd9720908e1f1cd_cgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_ac8e4256d69a1ccea4bd9720908e1f1cd_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_ac8e4256d69a1ccea4bd9720908e1f1cd_cgraph" id="classosgEarth_1_1ElevationQuery_ac8e4256d69a1ccea4bd9720908e1f1cd_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1LRUCache.html#ae2a59a6315e01827f334593552d9da7a" title="osgEarth::LRUCache::setMaxSize" alt="" coords="296,5,520,35"/></map>
</div>
</p>

<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_ac8e4256d69a1ccea4bd9720908e1f1cd_icgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_ac8e4256d69a1ccea4bd9720908e1f1cd_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_ac8e4256d69a1ccea4bd9720908e1f1cd_icgraph" id="classosgEarth_1_1ElevationQuery_ac8e4256d69a1ccea4bd9720908e1f1cd_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ElevationQuery.html#aa9c77bded86a29a036a91b2eb3f975b6" title="osgEarth::ElevationQuery::ElevationQuery" alt="" coords="297,5,564,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0c0dadb22c8340922281a64aabbfd6c1"></a><!-- doxytag: member="osgEarth::ElevationQuery::setInterpolation" ref="a0c0dadb22c8340922281a64aabbfd6c1" args="(ElevationInterpolation interp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ElevationQuery::setInterpolation </td>
          <td>(</td>
          <td class="paramtype">ElevationInterpolation&#160;</td>
          <td class="paramname"><em>interp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the elevation interpolation to use when sampling data </p>

<p>Definition at line <a class="el" href="ElevationQuery_8cpp_source.html#l00087">87</a> of file <a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1ElevationQuery.html#abab8f8e3f13e9baa4c7944e5b86ea211">_interpolation</a> = interp;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a08d51e4f9e5cc5bcd20d89ad7259f45d"></a><!-- doxytag: member="osgEarth::ElevationQuery::setMaxLevelOverride" ref="a08d51e4f9e5cc5bcd20d89ad7259f45d" args="(int maxLevelOverride)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osgEarth::ElevationQuery::setMaxLevelOverride </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxLevelOverride</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the maximum level override for elevation queries. A value of -1 turns off the override. </p>

</div>
</div>
<a class="anchor" id="a446c010bc5f3280b3aa8cd2e2736ab87"></a><!-- doxytag: member="osgEarth::ElevationQuery::setMaxTilesToCache" ref="a446c010bc5f3280b3aa8cd2e2736ab87" args="(int value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ElevationQuery::setMaxTilesToCache </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the maximum cache size for elevation tiles. </p>

<p>Definition at line <a class="el" href="ElevationQuery_8cpp_source.html#l00075">75</a> of file <a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1ElevationQuery.html#adbb71880920a2572855808829bff7ad4">_tileCache</a>.<a class="code" href="classosgEarth_1_1LRUCache.html#ae2a59a6315e01827f334593552d9da7a">setMaxSize</a>( value );
}
</pre></div>
<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_a446c010bc5f3280b3aa8cd2e2736ab87_cgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_a446c010bc5f3280b3aa8cd2e2736ab87_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_a446c010bc5f3280b3aa8cd2e2736ab87_cgraph" id="classosgEarth_1_1ElevationQuery_a446c010bc5f3280b3aa8cd2e2736ab87_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1LRUCache.html#ae2a59a6315e01827f334593552d9da7a" title="osgEarth::LRUCache::setMaxSize" alt="" coords="357,5,581,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae62421ffb3308ba61eafba66a49cecdd"></a><!-- doxytag: member="osgEarth::ElevationQuery::setTechnique" ref="ae62421ffb3308ba61eafba66a49cecdd" args="(Technique technique)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ElevationQuery::setTechnique </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1ElevationQuery.html#af28d21b6d0bfa86f4d51c78cc49371df">ElevationQuery::Technique</a>&#160;</td>
          <td class="paramname"><em>technique</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the technique to use for height determination. See the Technique enum in this class. The default is TECHNIQUE_PARAMETRIC. </p>

<p>Definition at line <a class="el" href="ElevationQuery_8cpp_source.html#l00069">69</a> of file <a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1ElevationQuery.html#a35f68dd906a7b4006fa794423490ef3b">_technique</a> = technique;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af6c856d62a77f2285a42f01c86129138"></a><!-- doxytag: member="osgEarth::ElevationQuery::sync" ref="af6c856d62a77f2285a42f01c86129138" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ElevationQuery::sync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ElevationQuery_8cpp_source.html#l00040">40</a> of file <a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">_mapf</a>.<a class="code" href="classosgEarth_1_1MapFrame.html#ae7b45fa3f0544ddd374c2448740cd6a6">sync</a>() || <a class="code" href="classosgEarth_1_1ElevationQuery.html#ad938dc1cb2db27e704607258f7d24815">_tileSize</a> == 0 || <a class="code" href="classosgEarth_1_1ElevationQuery.html#ac8f9d3fffd246c8c4fe58f49271a6f72">_maxDataLevel</a> == 0 )
    {
        <a class="code" href="classosgEarth_1_1ElevationQuery.html#ad938dc1cb2db27e704607258f7d24815">_tileSize</a> = 0;
        <a class="code" href="classosgEarth_1_1ElevationQuery.html#ac8f9d3fffd246c8c4fe58f49271a6f72">_maxDataLevel</a> = 0;

        <span class="keywordflow">for</span>( ElevationLayerVector::const_iterator i = <a class="code" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">_mapf</a>.<a class="code" href="classosgEarth_1_1MapFrame.html#a2f1751fdcda89f7f575ed022d3d2c885">elevationLayers</a>().begin(); i != <a class="code" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">_mapf</a>.<a class="code" href="classosgEarth_1_1MapFrame.html#a2f1751fdcda89f7f575ed022d3d2c885">elevationLayers</a>().end(); ++i )
        {
            <span class="comment">// we need the maximum tile size</span>
            <span class="keywordtype">int</span> layerTileSize = i-&gt;get()-&gt;getTileSize();
            <span class="keywordflow">if</span> ( layerTileSize &gt; <a class="code" href="classosgEarth_1_1ElevationQuery.html#ad938dc1cb2db27e704607258f7d24815">_tileSize</a> )
                <a class="code" href="classosgEarth_1_1ElevationQuery.html#ad938dc1cb2db27e704607258f7d24815">_tileSize</a> = layerTileSize;

            <span class="comment">// we also need the maximum available data level.</span>
            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> layerMaxDataLevel = i-&gt;get()-&gt;getMaxDataLevel();
            <span class="keywordflow">if</span> ( layerMaxDataLevel &gt; <a class="code" href="classosgEarth_1_1ElevationQuery.html#ac8f9d3fffd246c8c4fe58f49271a6f72">_maxDataLevel</a> )
                <a class="code" href="classosgEarth_1_1ElevationQuery.html#ac8f9d3fffd246c8c4fe58f49271a6f72">_maxDataLevel</a> = layerMaxDataLevel;
        }
    }
}
</pre></div>
<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_af6c856d62a77f2285a42f01c86129138_cgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_af6c856d62a77f2285a42f01c86129138_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_af6c856d62a77f2285a42f01c86129138_cgraph" id="classosgEarth_1_1ElevationQuery_af6c856d62a77f2285a42f01c86129138_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1MapFrame.html#a2f1751fdcda89f7f575ed022d3d2c885" title="osgEarth::MapFrame::elevationLayers" alt="" coords="261,5,504,35"/><area shape="rect" id="node5" href="classosgEarth_1_1MapFrame.html#ae7b45fa3f0544ddd374c2448740cd6a6" title="osgEarth::MapFrame::sync" alt="" coords="293,59,472,88"/></map>
</div>
</p>

<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ElevationQuery_af6c856d62a77f2285a42f01c86129138_icgraph.png" border="0" usemap="#classosgEarth_1_1ElevationQuery_af6c856d62a77f2285a42f01c86129138_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ElevationQuery_af6c856d62a77f2285a42f01c86129138_icgraph" id="classosgEarth_1_1ElevationQuery_af6c856d62a77f2285a42f01c86129138_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ElevationQuery.html#a9fdc0dc02c3a41cfd7b1a4bd6c6c6766" title="osgEarth::ElevationQuery::getElevation" alt="" coords="265,133,516,163"/><area shape="rect" id="node21" href="classosgEarth_1_1ElevationQuery.html#a278103b5127a63e2deee477a85c41193" title="osgEarth::ElevationQuery::getElevations" alt="" coords="261,200,520,229"/><area shape="rect" id="node5" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#a488fc6ab87571358f7a97ab849b12995" title="osgEarth::Features::FeatureModelGraph::getBoundInWorldCoords" alt="" coords="568,108,973,137"/><area shape="rect" id="node7" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#ad00f4ce789ad176865939eae7e891e8a" title="osgEarth::Features::FeatureModelGraph::buildSubTilePagedLODs" alt="" coords="1021,5,1427,35"/><area shape="rect" id="node9" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#a6b4599d049e5a9761d7dcfdb046f9dcd" title="osgEarth::Features::FeatureModelGraph::load" alt="" coords="1484,31,1769,60"/><area shape="rect" id="node11" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#abf5b8ab8a3c929bc5c5cb9c40d3f3d8e" title="osgEarth::Features::FeatureModelGraph::FeatureModelGraph" alt="" coords="1828,108,2204,137"/><area shape="rect" id="node14" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#a4d6868a087abc54bce800f2174ff0e7c" title="osgEarth::Features::FeatureModelGraph::setupPaging" alt="" coords="1057,160,1391,189"/><area shape="rect" id="node16" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#a3f7dfd4b1d9a5186c9673b302bdfd2f4" title="osgEarth::Features::FeatureModelGraph::redraw" alt="" coords="1476,160,1777,189"/><area shape="rect" id="node19" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#ac86ba74a46831aa375872c5e471f3506" title="osgEarth::Features::FeatureModelGraph::traverse" alt="" coords="1861,161,2171,191"/><area shape="rect" id="node23" href="classosgEarth_1_1Features_1_1AltitudeFilter.html#aa6be39ee799763f89225dbcd771ff596" title="osgEarth::Features::AltitudeFilter::push" alt="" coords="645,207,896,236"/><area shape="rect" id="node25" href="classosgEarth_1_1Features_1_1GeometryCompiler.html#accc6d2f89d615bdb233ae2e9fbf058b2" title="osgEarth::Features::GeometryCompiler::compile" alt="" coords="1073,213,1375,243"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="abab8f8e3f13e9baa4c7944e5b86ea211"></a><!-- doxytag: member="osgEarth::ElevationQuery::_interpolation" ref="abab8f8e3f13e9baa4c7944e5b86ea211" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ElevationInterpolation <a class="el" href="classosgEarth_1_1ElevationQuery.html#abab8f8e3f13e9baa4c7944e5b86ea211">osgEarth::ElevationQuery::_interpolation</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ElevationQuery_source.html#l00174">174</a> of file <a class="el" href="ElevationQuery_source.html">ElevationQuery</a>.</p>

</div>
</div>
<a class="anchor" id="a0a828ee623a202c28aa5b179e56ab018"></a><!-- doxytag: member="osgEarth::ElevationQuery::_mapf" ref="a0a828ee623a202c28aa5b179e56ab018" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1MapFrame.html">MapFrame</a> <a class="el" href="classosgEarth_1_1ElevationQuery.html#a0a828ee623a202c28aa5b179e56ab018">osgEarth::ElevationQuery::_mapf</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ElevationQuery_source.html#l00168">168</a> of file <a class="el" href="ElevationQuery_source.html">ElevationQuery</a>.</p>

</div>
</div>
<a class="anchor" id="aa60e1a564624a7a779d76d3d49eb3d65"></a><!-- doxytag: member="osgEarth::ElevationQuery::_maxCacheSize" ref="aa60e1a564624a7a779d76d3d49eb3d65" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classosgEarth_1_1ElevationQuery.html#aa60e1a564624a7a779d76d3d49eb3d65">osgEarth::ElevationQuery::_maxCacheSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ElevationQuery_source.html#l00169">169</a> of file <a class="el" href="ElevationQuery_source.html">ElevationQuery</a>.</p>

</div>
</div>
<a class="anchor" id="ac8f9d3fffd246c8c4fe58f49271a6f72"></a><!-- doxytag: member="osgEarth::ElevationQuery::_maxDataLevel" ref="ac8f9d3fffd246c8c4fe58f49271a6f72" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classosgEarth_1_1ElevationQuery.html#ac8f9d3fffd246c8c4fe58f49271a6f72">osgEarth::ElevationQuery::_maxDataLevel</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ElevationQuery_source.html#l00171">171</a> of file <a class="el" href="ElevationQuery_source.html">ElevationQuery</a>.</p>

</div>
</div>
<a class="anchor" id="ad0a86464c9d1a04e09473d60db95f781"></a><!-- doxytag: member="osgEarth::ElevationQuery::_maxLevelOverride" ref="ad0a86464c9d1a04e09473d60db95f781" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classosgEarth_1_1ElevationQuery.html#ad0a86464c9d1a04e09473d60db95f781">osgEarth::ElevationQuery::_maxLevelOverride</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ElevationQuery_source.html#l00172">172</a> of file <a class="el" href="ElevationQuery_source.html">ElevationQuery</a>.</p>

</div>
</div>
<a class="anchor" id="a35f68dd906a7b4006fa794423490ef3b"></a><!-- doxytag: member="osgEarth::ElevationQuery::_technique" ref="a35f68dd906a7b4006fa794423490ef3b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1ElevationQuery.html#af28d21b6d0bfa86f4d51c78cc49371df">Technique</a> <a class="el" href="classosgEarth_1_1ElevationQuery.html#a35f68dd906a7b4006fa794423490ef3b">osgEarth::ElevationQuery::_technique</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ElevationQuery_source.html#l00173">173</a> of file <a class="el" href="ElevationQuery_source.html">ElevationQuery</a>.</p>

</div>
</div>
<a class="anchor" id="adbb71880920a2572855808829bff7ad4"></a><!-- doxytag: member="osgEarth::ElevationQuery::_tileCache" ref="adbb71880920a2572855808829bff7ad4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1LRUCache.html">TileCache</a> <a class="el" href="classosgEarth_1_1ElevationQuery.html#adbb71880920a2572855808829bff7ad4">osgEarth::ElevationQuery::_tileCache</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ElevationQuery_source.html#l00177">177</a> of file <a class="el" href="ElevationQuery_source.html">ElevationQuery</a>.</p>

</div>
</div>
<a class="anchor" id="ad938dc1cb2db27e704607258f7d24815"></a><!-- doxytag: member="osgEarth::ElevationQuery::_tileSize" ref="ad938dc1cb2db27e704607258f7d24815" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classosgEarth_1_1ElevationQuery.html#ad938dc1cb2db27e704607258f7d24815">osgEarth::ElevationQuery::_tileSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ElevationQuery_source.html#l00170">170</a> of file <a class="el" href="ElevationQuery_source.html">ElevationQuery</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/cube/sources/osgearth/src/osgEarth/<a class="el" href="ElevationQuery_source.html">ElevationQuery</a></li>
<li>/home/cube/sources/osgearth/src/osgEarth/<a class="el" href="ElevationQuery_8cpp_source.html">ElevationQuery.cpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Jan 18 2012 15:02:51 for osgEarth by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
