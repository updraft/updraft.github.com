<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>osgEarth: osgEarth::ImageUtils Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">osgEarth&#160;<span id="projectnumber">2.1.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceosgEarth.html">osgEarth</a>      </li>
      <li class="navelem"><a class="el" href="classosgEarth_1_1ImageUtils.html">ImageUtils</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>osgEarth::ImageUtils Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="osgEarth::ImageUtils" -->
<p><a href="classosgEarth_1_1ImageUtils-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosgEarth_1_1ImageUtils_1_1CopyImage.html">CopyImage</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils_1_1PixelReader.html">PixelReader</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structosgEarth_1_1ImageUtils_1_1PixelVisitor.html">PixelVisitor</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils_1_1PixelWriter.html">PixelWriter</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static osg::Image *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#a7933afbe98be55cbf1a80dc3c739cdbd">cloneImage</a> (const osg::Image *image)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#acff13758e0dd09db246488410de3c5ab">normalizeImage</a> (osg::Image *image)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#a9f5beddc20a1c2dd37667f641882c4a3">copyAsSubImage</a> (const osg::Image *src, osg::Image *dst, int dst_start_col, int dst_start_row, int dst_start_img=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#a1d65f2162d9377db802798aa3b85edf9">resizeImage</a> (const osg::Image *input, unsigned int new_s, unsigned int new_t, osg::ref_ptr&lt; osg::Image &gt; &amp;output, unsigned int mipmapLevel=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static osg::Image *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#ae2ac0a4883aec4b01321393349da01c7">cropImage</a> (const osg::Image *image, double src_minx, double src_miny, double src_maxx, double src_maxy, double &amp;dst_minx, double &amp;dst_miny, double &amp;dst_maxx, double &amp;dst_maxy)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static osg::Image *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#a76587ee06b6e1651ab894bd72a804767">createMipmapBlendedImage</a> (const osg::Image *primary, const osg::Image *secondary)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#a7590d5935a196429007cd44755a16856">mix</a> (osg::Image *dest, const osg::Image *src, float a)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static osg::Image *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#af459d5fbcc39119a920268c817eab850">sharpenImage</a> (const osg::Image *image)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#adc82eb06755c3da5c257d9db7e88f6f5">isPowerOfTwo</a> (const osg::Image *image)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static osg::Image *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#aa2ac4bc68d27c344bde211c81e4fcb58">createEmptyImage</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#a2c95a17c4bce58c28abde303db749755">canConvert</a> (const osg::Image *image, GLenum pixelFormat, GLenum dataType)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static osg::Image *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#a87bf45d4d400ca1187aa51e5853e5ef5">convert</a> (const osg::Image *image, GLenum pixelFormat, GLenum dataType)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static osg::Image *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#a578e3118767a2e156e683a36942abeb4">convertToRGB8</a> (const osg::Image *image)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static osg::Image *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#aa823b7a7857bb0e568068aa1ba734c9e">convertToRGBA8</a> (const osg::Image *image)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#acd9d8ddb03fc871d725881d516384023">areEquivalent</a> (const osg::Image *lhs, const osg::Image *rhs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#a9e96486c148d7a36e85462291355c1ba">areRGBEquivalent</a> (const osg::Vec4 &amp;lhs, const osg::Vec4 &amp;rhs, float epsilon=0.01f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#ad43b062b9b0a9eb0a475ef6eb6f1ad60">hasAlphaChannel</a> (const osg::Image *image)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1ImageUtils.html#a8414cd0e0ff334e107ce1b2ce4c862f4">isCompressed</a> (const osg::Image *image)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="ImageUtils_source.html#l00044">44</a> of file <a class="el" href="ImageUtils_source.html">ImageUtils</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="acd9d8ddb03fc871d725881d516384023"></a><!-- doxytag: member="osgEarth::ImageUtils::areEquivalent" ref="acd9d8ddb03fc871d725881d516384023" args="(const osg::Image *lhs, const osg::Image *rhs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageUtils::areEquivalent </td>
          <td>(</td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>rhs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compares the image data of two images and determines if they are equivalent </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00441">441</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordflow">if</span> (lhs == rhs) <span class="keywordflow">return</span> <span class="keyword">true</span>;

        <span class="keywordflow">if</span> ((lhs-&gt;s() == rhs-&gt;s()) &amp;&amp;
                (lhs-&gt;t() == rhs-&gt;t()) &amp;&amp;
                (lhs-&gt;getInternalTextureFormat() == rhs-&gt;getInternalTextureFormat()) &amp;&amp;
                (lhs-&gt;getPixelFormat() == rhs-&gt;getPixelFormat()) &amp;&amp;
                (lhs-&gt;getDataType() == rhs-&gt;getDataType()) &amp;&amp;
                (lhs-&gt;getPacking() == rhs-&gt;getPacking()) &amp;&amp;
                (lhs-&gt;getImageSizeInBytes() == rhs-&gt;getImageSizeInBytes()))
        {
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size = lhs-&gt;getImageSizeInBytes();
        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* ptr1 = lhs-&gt;data();
        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* ptr2 = rhs-&gt;data();
                <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; size; ++i)
                {
            <span class="keywordflow">if</span> ( *ptr1++ != *ptr2++ )
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }

        <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }

        <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
<p><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_acd9d8ddb03fc871d725881d516384023_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_acd9d8ddb03fc871d725881d516384023_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_acd9d8ddb03fc871d725881d516384023_icgraph" id="classosgEarth_1_1ImageUtils_acd9d8ddb03fc871d725881d516384023_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ImageLayerTileProcessor.html#a0ea4a824611f0733f1df9931699874a0" title="osgEarth::ImageLayerTileProcessor::process" alt="" coords="287,5,569,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9e96486c148d7a36e85462291355c1ba"></a><!-- doxytag: member="osgEarth::ImageUtils::areRGBEquivalent" ref="a9e96486c148d7a36e85462291355c1ba" args="(const osg::Vec4 &amp;lhs, const osg::Vec4 &amp;rhs, float epsilon=0.01f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool osgEarth::ImageUtils::areRGBEquivalent </td>
          <td>(</td>
          <td class="paramtype">const osg::Vec4 &amp;&#160;</td>
          <td class="paramname"><em>lhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const osg::Vec4 &amp;&#160;</td>
          <td class="paramname"><em>rhs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code>0.01f</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Whether two colors are roughly equivalent. </p>

<p>Definition at line <a class="el" href="ImageUtils_source.html#l00182">182</a> of file <a class="el" href="ImageUtils_source.html">ImageUtils</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                     {
            <span class="keywordflow">return</span>
                fabs(lhs.r() - rhs.r()) &lt; epsilon &amp;&amp;
                fabs(lhs.g() - rhs.g()) &lt; epsilon &amp;&amp;
                fabs(lhs.b() - rhs.b()) &lt; epsilon;
        }
</pre></div>
<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a9e96486c148d7a36e85462291355c1ba_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a9e96486c148d7a36e85462291355c1ba_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a9e96486c148d7a36e85462291355c1ba_icgraph" id="classosgEarth_1_1ImageUtils_a9e96486c148d7a36e85462291355c1ba_icgraph">
<area shape="rect" id="node3" href="structanonymous__namespace_02ImageLayer_8cpp_03_1_1ApplyChromaKey.html#a7ac6595289d6d761ad5971802f73ca19" title="anonymous_namespace\{ImageLayer::cpp\}::ApplyChromaKey::operator()" alt="" coords="316,5,756,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2c95a17c4bce58c28abde303db749755"></a><!-- doxytag: member="osgEarth::ImageUtils::canConvert" ref="a2c95a17c4bce58c28abde303db749755" args="(const osg::Image *image, GLenum pixelFormat, GLenum dataType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageUtils::canConvert </td>
          <td>(</td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>pixelFormat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>dataType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true if it is possible to convert the image to the specified format/datatype specification. </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00390">390</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( !image ) <span class="keywordflow">return</span> <span class="keyword">false</span>;
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1ImageUtils_1_1PixelReader.html#a989d213fab0a85098f0f61f70ed081b3">PixelReader::supports</a>( image ) &amp;&amp; <a class="code" href="classosgEarth_1_1ImageUtils_1_1PixelWriter.html#a07171afa2aaceeb9b5111eb29e6739df">PixelWriter::supports</a>(pixelFormat, dataType);
}
</pre></div>
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a2c95a17c4bce58c28abde303db749755_cgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a2c95a17c4bce58c28abde303db749755_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a2c95a17c4bce58c28abde303db749755_cgraph" id="classosgEarth_1_1ImageUtils_a2c95a17c4bce58c28abde303db749755_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ImageUtils_1_1PixelWriter.html#a07171afa2aaceeb9b5111eb29e6739df" title="osgEarth::ImageUtils::PixelWriter::supports" alt="" coords="279,5,553,35"/><area shape="rect" id="node7" href="classosgEarth_1_1ImageUtils_1_1PixelReader.html#a989d213fab0a85098f0f61f70ed081b3" title="osgEarth::ImageUtils::PixelReader::supports" alt="" coords="275,59,557,88"/><area shape="rect" id="node5" href="namespaceanonymous__namespace_02ImageUtils_8cpp_03.html#af0b27d85e29e89fb7b2928a02a676596" title="anonymous_namespace\{ImageUtils::cpp\}::getWriter" alt="" coords="613,5,936,35"/><area shape="rect" id="node9" href="namespaceanonymous__namespace_02HTTPClient_8cpp_03.html#aded5b15bd1c39a55b5809d05ac3afa9d" title="anonymous_namespace\{HTTPClient::cpp\}::getReader" alt="" coords="607,59,943,88"/><area shape="rect" id="node11" href="classosgEarth_1_1HTTPResponse.html#a1510f46ba168edfcb48f40dbc123725f" title="osgEarth::HTTPResponse::getMimeType" alt="" coords="1019,5,1280,35"/><area shape="rect" id="node13" href="classosgEarth_1_1Registry.html#abfab9ddc09d2ecce49d8b6838e152692" title="osgEarth::Registry::getReaderWriterForMimeType" alt="" coords="992,59,1307,88"/><area shape="rect" id="node15" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="1356,85,1543,115"/><area shape="rect" id="node17" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="1593,85,1780,115"/><area shape="rect" id="node19" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="1829,5,2157,35"/><area shape="rect" id="node22" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="1881,59,2105,88"/><area shape="rect" id="node24" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="1872,112,2115,141"/><area shape="rect" id="node26" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="1871,165,2116,195"/></map>
</div>
</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a2c95a17c4bce58c28abde303db749755_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a2c95a17c4bce58c28abde303db749755_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a2c95a17c4bce58c28abde303db749755_icgraph" id="classosgEarth_1_1ImageUtils_a2c95a17c4bce58c28abde303db749755_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ImageUtils.html#a87bf45d4d400ca1187aa51e5853e5ef5" title="osgEarth::ImageUtils::convert" alt="" coords="276,112,471,141"/><area shape="rect" id="node31" href="classosgEarth_1_1ImageLayerTileProcessor.html#a0ea4a824611f0733f1df9931699874a0" title="osgEarth::ImageLayerTileProcessor::process" alt="" coords="825,165,1108,195"/><area shape="rect" id="node5" href="classosgEarth_1_1ImageUtils.html#a578e3118767a2e156e683a36942abeb4" title="osgEarth::ImageUtils::convertToRGB8" alt="" coords="525,59,771,88"/><area shape="rect" id="node11" href="classosgEarth_1_1ImageUtils.html#aa823b7a7857bb0e568068aa1ba734c9e" title="osgEarth::ImageUtils::convertToRGBA8" alt="" coords="520,112,776,141"/><area shape="rect" id="node7" href="classOSGTileSource.html#a1536ee47f47b02642123ceb33f0f5d85" title="OSGTileSource::initialize" alt="" coords="883,59,1051,88"/><area shape="rect" id="node9" href="classosgEarth_1_1DiskCache.html#a1e3d8b1359d426f570c96c0a310e9a31" title="osgEarth::DiskCache::setImage" alt="" coords="863,5,1071,35"/><area shape="rect" id="node13" href="classosgEarth_1_1ImageLayer.html#a8c5095996e9d3d9adca1d245eb1e41d3" title="osgEarth::ImageLayer::createImage" alt="" coords="852,112,1081,141"/><area shape="rect" id="node15" href="classosgEarth_1_1CacheSeed.html#aeb1a12bba8bec20f6377497153bc05da" title="osgEarth::CacheSeed::cacheTile" alt="" coords="1176,32,1389,61"/><area shape="rect" id="node17" href="classOSGTileFactory.html#a53a1bd8339ce73c5a45b6fa3464b2777" title="OSGTileFactory::createImageLayer" alt="" coords="1169,85,1396,115"/><area shape="rect" id="node19" href="classOSGTileFactory.html#ab364d00d5d40d6da0822df2c78525927" title="OSGTileFactory::createPopulatedTile" alt="" coords="1457,164,1695,193"/><area shape="rect" id="node27" href="classOSGTileFactory.html#a1de6601ddf3830ebb93dac07c00bcfb3" title="OSGTileFactory::createValidGeoImage" alt="" coords="1159,189,1407,219"/><area shape="rect" id="node21" href="classOSGTileFactory.html#ab44e3e3c02394e6d97443ae5a08bf6e4" title="OSGTileFactory::createTile" alt="" coords="1744,164,1925,193"/><area shape="rect" id="node23" href="classOSGTileFactory.html#ab8ed3db652e0f4ca68fd663d1f686821" title="OSGTileFactory::createSubTiles" alt="" coords="1973,164,2184,193"/><area shape="rect" id="node25" href="classOSGTerrainEngineNode.html#a2feaf9a99b3123e328108c25152daa19" title="OSGTerrainEngineNode::createNode" alt="" coords="2232,164,2469,193"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7933afbe98be55cbf1a80dc3c739cdbd"></a><!-- doxytag: member="osgEarth::ImageUtils::cloneImage" ref="a7933afbe98be55cbf1a80dc3c739cdbd" args="(const osg::Image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Image * ImageUtils::cloneImage </td>
          <td>(</td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clones an image.</p>
<p>Use this instead of the osg::Image copy construtor, which keeps the referenced to its underlying BufferObject around. Calling dirty() on the new clone appears to help, but just call this method instead to be sure. </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00034">34</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// Why not just call image-&gt;clone()? Because, the osg::Image copy constructor does not</span>
    <span class="comment">// clear out the underlying BufferData/BufferObject&#39;s GL handles. This can cause </span>
    <span class="comment">// exepected results if you are cloning an image that has already been used in GL.</span>
    <span class="comment">// Calling clone-&gt;dirty() might work, but we are not sure.</span>

    <span class="keywordflow">if</span> ( !input ) <span class="keywordflow">return</span> 0L;
    
    osg::Image* clone = osg::clone( input, osg::CopyOp::DEEP_COPY_ALL );
    clone-&gt;dirty();
    <span class="keywordflow">return</span> clone;
}
</pre></div>
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a7933afbe98be55cbf1a80dc3c739cdbd_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a7933afbe98be55cbf1a80dc3c739cdbd_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a7933afbe98be55cbf1a80dc3c739cdbd_icgraph" id="classosgEarth_1_1ImageUtils_a7933afbe98be55cbf1a80dc3c739cdbd_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ImageUtils.html#a87bf45d4d400ca1187aa51e5853e5ef5" title="osgEarth::ImageUtils::convert" alt="" coords="295,112,489,141"/><area shape="rect" id="node13" href="classosgEarth_1_1ImageLayer.html#a8c5095996e9d3d9adca1d245eb1e41d3" title="osgEarth::ImageLayer::createImage" alt="" coords="921,165,1151,195"/><area shape="rect" id="node33" href="classosgEarth_1_1TileSource.html#a731be1402d99c2e288fba085c3cef2bd" title="osgEarth::TileSource::createImage" alt="" coords="280,243,504,272"/><area shape="rect" id="node39" href="classosgEarth_1_1ImageLayer.html#a013d374663ac586c3ec4552964601978" title="osgEarth::ImageLayer::createImageWrapper" alt="" coords="563,323,840,352"/><area shape="rect" id="node44" href="classosgEarth_1_1MemCache.html#aeb8ac2f38f2214bb2eff83d4c7e9add6" title="osgEarth::MemCache::setImage" alt="" coords="287,347,497,376"/><area shape="rect" id="node46" href="classosgEarth_1_1ImageUtils.html#af459d5fbcc39119a920268c817eab850" title="osgEarth::ImageUtils::sharpenImage" alt="" coords="275,400,509,429"/><area shape="rect" id="node5" href="classosgEarth_1_1ImageUtils.html#a578e3118767a2e156e683a36942abeb4" title="osgEarth::ImageUtils::convertToRGB8" alt="" coords="579,59,824,88"/><area shape="rect" id="node11" href="classosgEarth_1_1ImageUtils.html#aa823b7a7857bb0e568068aa1ba734c9e" title="osgEarth::ImageUtils::convertToRGBA8" alt="" coords="573,112,829,141"/><area shape="rect" id="node7" href="classOSGTileSource.html#a1536ee47f47b02642123ceb33f0f5d85" title="OSGTileSource::initialize" alt="" coords="952,59,1120,88"/><area shape="rect" id="node9" href="classosgEarth_1_1DiskCache.html#a1e3d8b1359d426f570c96c0a310e9a31" title="osgEarth::DiskCache::setImage" alt="" coords="932,5,1140,35"/><area shape="rect" id="node31" href="classosgEarth_1_1ImageLayerTileProcessor.html#a0ea4a824611f0733f1df9931699874a0" title="osgEarth::ImageLayerTileProcessor::process" alt="" coords="895,112,1177,141"/><area shape="rect" id="node15" href="classosgEarth_1_1CacheSeed.html#aeb1a12bba8bec20f6377497153bc05da" title="osgEarth::CacheSeed::cacheTile" alt="" coords="1245,85,1459,115"/><area shape="rect" id="node17" href="classOSGTileFactory.html#a53a1bd8339ce73c5a45b6fa3464b2777" title="OSGTileFactory::createImageLayer" alt="" coords="1239,139,1465,168"/><area shape="rect" id="node19" href="classOSGTileFactory.html#ab364d00d5d40d6da0822df2c78525927" title="OSGTileFactory::createPopulatedTile" alt="" coords="1527,217,1764,247"/><area shape="rect" id="node27" href="classOSGTileFactory.html#a1de6601ddf3830ebb93dac07c00bcfb3" title="OSGTileFactory::createValidGeoImage" alt="" coords="1228,243,1476,272"/><area shape="rect" id="node21" href="classOSGTileFactory.html#ab44e3e3c02394e6d97443ae5a08bf6e4" title="OSGTileFactory::createTile" alt="" coords="1813,217,1995,247"/><area shape="rect" id="node23" href="classOSGTileFactory.html#ab8ed3db652e0f4ca68fd663d1f686821" title="OSGTileFactory::createSubTiles" alt="" coords="2043,217,2253,247"/><area shape="rect" id="node25" href="classOSGTerrainEngineNode.html#a2feaf9a99b3123e328108c25152daa19" title="OSGTerrainEngineNode::createNode" alt="" coords="2301,217,2539,247"/><area shape="rect" id="node35" href="classosgEarth_1_1TileSource.html#a7dd9e1ceea9c83055f1fd15acfcbcc7f" title="osgEarth::TileSource::createHeightField" alt="" coords="575,216,828,245"/><area shape="rect" id="node37" href="classosgEarth_1_1CompositeTileSource.html#a9d81e23c2f648ab0446c503b686f872a" title="osgEarth::CompositeTileSource::createImage" alt="" coords="559,269,844,299"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a87bf45d4d400ca1187aa51e5853e5ef5"></a><!-- doxytag: member="osgEarth::ImageUtils::convert" ref="a87bf45d4d400ca1187aa51e5853e5ef5" args="(const osg::Image *image, GLenum pixelFormat, GLenum dataType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Image * ImageUtils::convert </td>
          <td>(</td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>pixelFormat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLenum&#160;</td>
          <td class="paramname"><em>dataType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Converts an image to the specified format. </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00397">397</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( !image )
        <span class="keywordflow">return</span> 0L;

    <span class="keywordflow">if</span> ( image-&gt;getPixelFormat() == pixelFormat &amp;&amp; image-&gt;getDataType() == dataType)
    {
        GLenum texFormat = image-&gt;getInternalTextureFormat();
        <span class="keywordflow">if</span> (dataType != GL_UNSIGNED_BYTE
            || (pixelFormat == GL_RGB &amp;&amp; texFormat == GL_RGB8)
            || (pixelFormat == GL_RGBA &amp;&amp; texFormat == GL_RGBA8))
        <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1ImageUtils.html#a7933afbe98be55cbf1a80dc3c739cdbd">cloneImage</a>(image);
    }
    <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1ImageUtils.html#a2c95a17c4bce58c28abde303db749755">canConvert</a>(image, pixelFormat, dataType) )
        <span class="keywordflow">return</span> 0L;

    osg::Image* result = <span class="keyword">new</span> osg::Image();
    result-&gt;allocateImage(image-&gt;s(), image-&gt;t(), image-&gt;r(), pixelFormat, dataType);

    <span class="keywordflow">if</span> ( pixelFormat == GL_RGB &amp;&amp; dataType == GL_UNSIGNED_BYTE )
        result-&gt;setInternalTextureFormat( GL_RGB8 );
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( pixelFormat == GL_RGBA &amp;&amp; dataType == GL_UNSIGNED_BYTE )
        result-&gt;setInternalTextureFormat( GL_RGBA8 );
    <span class="keywordflow">else</span>
        result-&gt;setInternalTextureFormat( pixelFormat );

    PixelVisitor&lt;CopyImage&gt;().accept( image, result );

    <span class="keywordflow">return</span> result;
}
</pre></div>
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a87bf45d4d400ca1187aa51e5853e5ef5_cgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a87bf45d4d400ca1187aa51e5853e5ef5_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a87bf45d4d400ca1187aa51e5853e5ef5_cgraph" id="classosgEarth_1_1ImageUtils_a87bf45d4d400ca1187aa51e5853e5ef5_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ImageUtils.html#a2c95a17c4bce58c28abde303db749755" title="osgEarth::ImageUtils::canConvert" alt="" coords="252,32,471,61"/><area shape="rect" id="node31" href="classosgEarth_1_1ImageUtils.html#a7933afbe98be55cbf1a80dc3c739cdbd" title="osgEarth::ImageUtils::cloneImage" alt="" coords="252,85,471,115"/><area shape="rect" id="node5" href="classosgEarth_1_1ImageUtils_1_1PixelWriter.html#a07171afa2aaceeb9b5111eb29e6739df" title="osgEarth::ImageUtils::PixelWriter::supports" alt="" coords="524,5,799,35"/><area shape="rect" id="node9" href="classosgEarth_1_1ImageUtils_1_1PixelReader.html#a989d213fab0a85098f0f61f70ed081b3" title="osgEarth::ImageUtils::PixelReader::supports" alt="" coords="520,59,803,88"/><area shape="rect" id="node7" href="namespaceanonymous__namespace_02ImageUtils_8cpp_03.html#af0b27d85e29e89fb7b2928a02a676596" title="anonymous_namespace\{ImageUtils::cpp\}::getWriter" alt="" coords="859,5,1181,35"/><area shape="rect" id="node11" href="namespaceanonymous__namespace_02HTTPClient_8cpp_03.html#aded5b15bd1c39a55b5809d05ac3afa9d" title="anonymous_namespace\{HTTPClient::cpp\}::getReader" alt="" coords="852,59,1188,88"/><area shape="rect" id="node13" href="classosgEarth_1_1HTTPResponse.html#a1510f46ba168edfcb48f40dbc123725f" title="osgEarth::HTTPResponse::getMimeType" alt="" coords="1264,5,1525,35"/><area shape="rect" id="node15" href="classosgEarth_1_1Registry.html#abfab9ddc09d2ecce49d8b6838e152692" title="osgEarth::Registry::getReaderWriterForMimeType" alt="" coords="1237,59,1552,88"/><area shape="rect" id="node17" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="1601,85,1788,115"/><area shape="rect" id="node19" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="1839,85,2025,115"/><area shape="rect" id="node21" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="2075,5,2403,35"/><area shape="rect" id="node24" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="2127,59,2351,88"/><area shape="rect" id="node26" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="2117,112,2360,141"/><area shape="rect" id="node28" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="2116,165,2361,195"/></map>
</div>
</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a87bf45d4d400ca1187aa51e5853e5ef5_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a87bf45d4d400ca1187aa51e5853e5ef5_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a87bf45d4d400ca1187aa51e5853e5ef5_icgraph" id="classosgEarth_1_1ImageUtils_a87bf45d4d400ca1187aa51e5853e5ef5_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ImageUtils.html#a578e3118767a2e156e683a36942abeb4" title="osgEarth::ImageUtils::convertToRGB8" alt="" coords="256,59,501,88"/><area shape="rect" id="node9" href="classosgEarth_1_1ImageUtils.html#aa823b7a7857bb0e568068aa1ba734c9e" title="osgEarth::ImageUtils::convertToRGBA8" alt="" coords="251,112,507,141"/><area shape="rect" id="node5" href="classOSGTileSource.html#a1536ee47f47b02642123ceb33f0f5d85" title="OSGTileSource::initialize" alt="" coords="613,59,781,88"/><area shape="rect" id="node7" href="classosgEarth_1_1DiskCache.html#a1e3d8b1359d426f570c96c0a310e9a31" title="osgEarth::DiskCache::setImage" alt="" coords="593,5,801,35"/><area shape="rect" id="node11" href="classosgEarth_1_1ImageLayer.html#a8c5095996e9d3d9adca1d245eb1e41d3" title="osgEarth::ImageLayer::createImage" alt="" coords="583,112,812,141"/><area shape="rect" id="node29" href="classosgEarth_1_1ImageLayerTileProcessor.html#a0ea4a824611f0733f1df9931699874a0" title="osgEarth::ImageLayerTileProcessor::process" alt="" coords="556,165,839,195"/><area shape="rect" id="node13" href="classosgEarth_1_1CacheSeed.html#aeb1a12bba8bec20f6377497153bc05da" title="osgEarth::CacheSeed::cacheTile" alt="" coords="907,32,1120,61"/><area shape="rect" id="node15" href="classOSGTileFactory.html#a53a1bd8339ce73c5a45b6fa3464b2777" title="OSGTileFactory::createImageLayer" alt="" coords="900,85,1127,115"/><area shape="rect" id="node17" href="classOSGTileFactory.html#ab364d00d5d40d6da0822df2c78525927" title="OSGTileFactory::createPopulatedTile" alt="" coords="1188,164,1425,193"/><area shape="rect" id="node25" href="classOSGTileFactory.html#a1de6601ddf3830ebb93dac07c00bcfb3" title="OSGTileFactory::createValidGeoImage" alt="" coords="889,189,1137,219"/><area shape="rect" id="node19" href="classOSGTileFactory.html#ab44e3e3c02394e6d97443ae5a08bf6e4" title="OSGTileFactory::createTile" alt="" coords="1475,164,1656,193"/><area shape="rect" id="node21" href="classOSGTileFactory.html#ab8ed3db652e0f4ca68fd663d1f686821" title="OSGTileFactory::createSubTiles" alt="" coords="1704,164,1915,193"/><area shape="rect" id="node23" href="classOSGTerrainEngineNode.html#a2feaf9a99b3123e328108c25152daa19" title="OSGTerrainEngineNode::createNode" alt="" coords="1963,164,2200,193"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a578e3118767a2e156e683a36942abeb4"></a><!-- doxytag: member="osgEarth::ImageUtils::convertToRGB8" ref="a578e3118767a2e156e683a36942abeb4" args="(const osg::Image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Image * ImageUtils::convertToRGB8 </td>
          <td>(</td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Converts the given image to RGB8 </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00429">429</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1ImageUtils.html#a87bf45d4d400ca1187aa51e5853e5ef5">convert</a>( image, GL_RGB, GL_UNSIGNED_BYTE );
}
</pre></div>
<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a578e3118767a2e156e683a36942abeb4_cgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a578e3118767a2e156e683a36942abeb4_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a578e3118767a2e156e683a36942abeb4_cgraph" id="classosgEarth_1_1ImageUtils_a578e3118767a2e156e683a36942abeb4_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ImageUtils.html#a87bf45d4d400ca1187aa51e5853e5ef5" title="osgEarth::ImageUtils::convert" alt="" coords="303,59,497,88"/><area shape="rect" id="node5" href="classosgEarth_1_1ImageUtils.html#a2c95a17c4bce58c28abde303db749755" title="osgEarth::ImageUtils::canConvert" alt="" coords="548,32,767,61"/><area shape="rect" id="node33" href="classosgEarth_1_1ImageUtils.html#a7933afbe98be55cbf1a80dc3c739cdbd" title="osgEarth::ImageUtils::cloneImage" alt="" coords="548,85,767,115"/><area shape="rect" id="node7" href="classosgEarth_1_1ImageUtils_1_1PixelWriter.html#a07171afa2aaceeb9b5111eb29e6739df" title="osgEarth::ImageUtils::PixelWriter::supports" alt="" coords="820,5,1095,35"/><area shape="rect" id="node11" href="classosgEarth_1_1ImageUtils_1_1PixelReader.html#a989d213fab0a85098f0f61f70ed081b3" title="osgEarth::ImageUtils::PixelReader::supports" alt="" coords="816,59,1099,88"/><area shape="rect" id="node9" href="namespaceanonymous__namespace_02ImageUtils_8cpp_03.html#af0b27d85e29e89fb7b2928a02a676596" title="anonymous_namespace\{ImageUtils::cpp\}::getWriter" alt="" coords="1155,5,1477,35"/><area shape="rect" id="node13" href="namespaceanonymous__namespace_02HTTPClient_8cpp_03.html#aded5b15bd1c39a55b5809d05ac3afa9d" title="anonymous_namespace\{HTTPClient::cpp\}::getReader" alt="" coords="1148,59,1484,88"/><area shape="rect" id="node15" href="classosgEarth_1_1HTTPResponse.html#a1510f46ba168edfcb48f40dbc123725f" title="osgEarth::HTTPResponse::getMimeType" alt="" coords="1560,5,1821,35"/><area shape="rect" id="node17" href="classosgEarth_1_1Registry.html#abfab9ddc09d2ecce49d8b6838e152692" title="osgEarth::Registry::getReaderWriterForMimeType" alt="" coords="1533,59,1848,88"/><area shape="rect" id="node19" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="1897,85,2084,115"/><area shape="rect" id="node21" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="2135,85,2321,115"/><area shape="rect" id="node23" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="2371,5,2699,35"/><area shape="rect" id="node26" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="2423,59,2647,88"/><area shape="rect" id="node28" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="2413,112,2656,141"/><area shape="rect" id="node30" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="2412,165,2657,195"/></map>
</div>
</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a578e3118767a2e156e683a36942abeb4_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a578e3118767a2e156e683a36942abeb4_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a578e3118767a2e156e683a36942abeb4_icgraph" id="classosgEarth_1_1ImageUtils_a578e3118767a2e156e683a36942abeb4_icgraph">
<area shape="rect" id="node3" href="classOSGTileSource.html#a1536ee47f47b02642123ceb33f0f5d85" title="OSGTileSource::initialize" alt="" coords="323,5,491,35"/><area shape="rect" id="node5" href="classosgEarth_1_1DiskCache.html#a1e3d8b1359d426f570c96c0a310e9a31" title="osgEarth::DiskCache::setImage" alt="" coords="303,59,511,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa823b7a7857bb0e568068aa1ba734c9e"></a><!-- doxytag: member="osgEarth::ImageUtils::convertToRGBA8" ref="aa823b7a7857bb0e568068aa1ba734c9e" args="(const osg::Image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Image * ImageUtils::convertToRGBA8 </td>
          <td>(</td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Converts the given image to RGBA8 </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00435">435</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1ImageUtils.html#a87bf45d4d400ca1187aa51e5853e5ef5">convert</a>( image, GL_RGBA, GL_UNSIGNED_BYTE );
}
</pre></div>
<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_aa823b7a7857bb0e568068aa1ba734c9e_cgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_aa823b7a7857bb0e568068aa1ba734c9e_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_aa823b7a7857bb0e568068aa1ba734c9e_cgraph" id="classosgEarth_1_1ImageUtils_aa823b7a7857bb0e568068aa1ba734c9e_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ImageUtils.html#a87bf45d4d400ca1187aa51e5853e5ef5" title="osgEarth::ImageUtils::convert" alt="" coords="311,59,505,88"/><area shape="rect" id="node5" href="classosgEarth_1_1ImageUtils.html#a2c95a17c4bce58c28abde303db749755" title="osgEarth::ImageUtils::canConvert" alt="" coords="556,32,775,61"/><area shape="rect" id="node33" href="classosgEarth_1_1ImageUtils.html#a7933afbe98be55cbf1a80dc3c739cdbd" title="osgEarth::ImageUtils::cloneImage" alt="" coords="556,85,775,115"/><area shape="rect" id="node7" href="classosgEarth_1_1ImageUtils_1_1PixelWriter.html#a07171afa2aaceeb9b5111eb29e6739df" title="osgEarth::ImageUtils::PixelWriter::supports" alt="" coords="828,5,1103,35"/><area shape="rect" id="node11" href="classosgEarth_1_1ImageUtils_1_1PixelReader.html#a989d213fab0a85098f0f61f70ed081b3" title="osgEarth::ImageUtils::PixelReader::supports" alt="" coords="824,59,1107,88"/><area shape="rect" id="node9" href="namespaceanonymous__namespace_02ImageUtils_8cpp_03.html#af0b27d85e29e89fb7b2928a02a676596" title="anonymous_namespace\{ImageUtils::cpp\}::getWriter" alt="" coords="1163,5,1485,35"/><area shape="rect" id="node13" href="namespaceanonymous__namespace_02HTTPClient_8cpp_03.html#aded5b15bd1c39a55b5809d05ac3afa9d" title="anonymous_namespace\{HTTPClient::cpp\}::getReader" alt="" coords="1156,59,1492,88"/><area shape="rect" id="node15" href="classosgEarth_1_1HTTPResponse.html#a1510f46ba168edfcb48f40dbc123725f" title="osgEarth::HTTPResponse::getMimeType" alt="" coords="1568,5,1829,35"/><area shape="rect" id="node17" href="classosgEarth_1_1Registry.html#abfab9ddc09d2ecce49d8b6838e152692" title="osgEarth::Registry::getReaderWriterForMimeType" alt="" coords="1541,59,1856,88"/><area shape="rect" id="node19" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="1905,85,2092,115"/><area shape="rect" id="node21" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="2143,85,2329,115"/><area shape="rect" id="node23" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="2379,5,2707,35"/><area shape="rect" id="node26" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="2431,59,2655,88"/><area shape="rect" id="node28" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="2421,112,2664,141"/><area shape="rect" id="node30" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="2420,165,2665,195"/></map>
</div>
</p>

<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_aa823b7a7857bb0e568068aa1ba734c9e_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_aa823b7a7857bb0e568068aa1ba734c9e_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_aa823b7a7857bb0e568068aa1ba734c9e_icgraph" id="classosgEarth_1_1ImageUtils_aa823b7a7857bb0e568068aa1ba734c9e_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ImageLayer.html#a8c5095996e9d3d9adca1d245eb1e41d3" title="osgEarth::ImageLayer::createImage" alt="" coords="337,84,567,113"/><area shape="rect" id="node20" href="classOSGTileSource.html#a1536ee47f47b02642123ceb33f0f5d85" title="OSGTileSource::initialize" alt="" coords="368,137,536,167"/><area shape="rect" id="node22" href="classosgEarth_1_1ImageLayerTileProcessor.html#a0ea4a824611f0733f1df9931699874a0" title="osgEarth::ImageLayerTileProcessor::process" alt="" coords="311,191,593,220"/><area shape="rect" id="node5" href="classosgEarth_1_1CacheSeed.html#aeb1a12bba8bec20f6377497153bc05da" title="osgEarth::CacheSeed::cacheTile" alt="" coords="661,5,875,35"/><area shape="rect" id="node7" href="classOSGTileFactory.html#a53a1bd8339ce73c5a45b6fa3464b2777" title="OSGTileFactory::createImageLayer" alt="" coords="655,59,881,88"/><area shape="rect" id="node9" href="classOSGTileFactory.html#ab364d00d5d40d6da0822df2c78525927" title="OSGTileFactory::createPopulatedTile" alt="" coords="943,137,1180,167"/><area shape="rect" id="node17" href="classOSGTileFactory.html#a1de6601ddf3830ebb93dac07c00bcfb3" title="OSGTileFactory::createValidGeoImage" alt="" coords="644,163,892,192"/><area shape="rect" id="node11" href="classOSGTileFactory.html#ab44e3e3c02394e6d97443ae5a08bf6e4" title="OSGTileFactory::createTile" alt="" coords="1229,137,1411,167"/><area shape="rect" id="node13" href="classOSGTileFactory.html#ab8ed3db652e0f4ca68fd663d1f686821" title="OSGTileFactory::createSubTiles" alt="" coords="1459,137,1669,167"/><area shape="rect" id="node15" href="classOSGTerrainEngineNode.html#a2feaf9a99b3123e328108c25152daa19" title="OSGTerrainEngineNode::createNode" alt="" coords="1717,137,1955,167"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9f5beddc20a1c2dd37667f641882c4a3"></a><!-- doxytag: member="osgEarth::ImageUtils::copyAsSubImage" ref="a9f5beddc20a1c2dd37667f641882c4a3" args="(const osg::Image *src, osg::Image *dst, int dst_start_col, int dst_start_row, int dst_start_img=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageUtils::copyAsSubImage </td>
          <td>(</td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">osg::Image *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dst_start_col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dst_start_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dst_start_img</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copys a portion of one image into another. </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00064">64</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!src || !dst ||
        dst_start_col + src-&gt;s() &gt; dst-&gt;s() ||
        dst_start_row + src-&gt;t() &gt; dst-&gt;t() )
    {
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    <span class="comment">// check for fast bytewise copy:</span>
    <span class="keywordflow">if</span> (src-&gt;getPacking() == dst-&gt;getPacking() &amp;&amp;
        src-&gt;getDataType() == dst-&gt;getDataType() &amp;&amp;
        src-&gt;getPixelFormat() == dst-&gt;getPixelFormat() &amp;&amp;
        src-&gt;getInternalTextureFormat() == dst-&gt;getInternalTextureFormat() )
    {
        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> src_row=0, dst_row=dst_start_row; src_row &lt; src-&gt;t(); src_row++, dst_row++ )
        {
            <span class="keyword">const</span> <span class="keywordtype">void</span>* src_data = src-&gt;data( 0, src_row, 0 );
            <span class="keywordtype">void</span>* dst_data = dst-&gt;data( dst_start_col, dst_row, dst_img );
            memcpy( dst_data, src_data, src-&gt;getRowSizeInBytes() );
        }
    }

    <span class="comment">// otherwise loop through an convert pixel-by-pixel.</span>
    <span class="keywordflow">else</span>
    {
        PixelReader read(src);
        PixelWriter write(dst);

        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> src_t=0, dst_t=dst_start_row; src_t &lt; src-&gt;t(); src_t++, dst_t++ )
        {
            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> src_s=0, dst_s=dst_start_col; src_s &lt; src-&gt;s(); src_s++, dst_s++ )
            {           
                write( read(src_s, src_t), dst_s, dst_t );
            }
        }
    }

    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}  
</pre></div>
<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a9f5beddc20a1c2dd37667f641882c4a3_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a9f5beddc20a1c2dd37667f641882c4a3_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a9f5beddc20a1c2dd37667f641882c4a3_icgraph" id="classosgEarth_1_1ImageUtils_a9f5beddc20a1c2dd37667f641882c4a3_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1GeoImage.html#a2cc9b9afcc3a69614af80ad50b1dc60a" title="osgEarth::GeoImage::addTransparentBorder" alt="" coords="380,85,657,115"/><area shape="rect" id="node22" href="classosgEarth_1_1ImageMosaic.html#ab4b17b0cc7c8e052f5deb73d4ebeda4e" title="osgEarth::ImageMosaic::createImage" alt="" coords="399,139,639,168"/><area shape="rect" id="node24" href="namespaceseamless_1_1anonymous__namespace_02Geographic_8cpp_03.html#a8ca1f597189998cdedd4ceaee6d6d3d9" title="seamless::anonymous_namespace\{Geographic::cpp\}::mergeImages" alt="" coords="311,192,727,221"/><area shape="rect" id="node5" href="classosgEarth_1_1ImageLayer.html#a8c5095996e9d3d9adca1d245eb1e41d3" title="osgEarth::ImageLayer::createImage" alt="" coords="905,85,1135,115"/><area shape="rect" id="node7" href="classosgEarth_1_1CacheSeed.html#aeb1a12bba8bec20f6377497153bc05da" title="osgEarth::CacheSeed::cacheTile" alt="" coords="1331,5,1544,35"/><area shape="rect" id="node9" href="classOSGTileFactory.html#a53a1bd8339ce73c5a45b6fa3464b2777" title="OSGTileFactory::createImageLayer" alt="" coords="1324,59,1551,88"/><area shape="rect" id="node11" href="classOSGTileFactory.html#ab364d00d5d40d6da0822df2c78525927" title="OSGTileFactory::createPopulatedTile" alt="" coords="1612,137,1849,167"/><area shape="rect" id="node19" href="classOSGTileFactory.html#a1de6601ddf3830ebb93dac07c00bcfb3" title="OSGTileFactory::createValidGeoImage" alt="" coords="1313,163,1561,192"/><area shape="rect" id="node13" href="classOSGTileFactory.html#ab44e3e3c02394e6d97443ae5a08bf6e4" title="OSGTileFactory::createTile" alt="" coords="1899,137,2080,167"/><area shape="rect" id="node15" href="classOSGTileFactory.html#ab8ed3db652e0f4ca68fd663d1f686821" title="OSGTileFactory::createSubTiles" alt="" coords="2128,137,2339,167"/><area shape="rect" id="node17" href="classOSGTerrainEngineNode.html#a2feaf9a99b3123e328108c25152daa19" title="OSGTerrainEngineNode::createNode" alt="" coords="2387,137,2624,167"/><area shape="rect" id="node26" href="structseamless_1_1anonymous__namespace_02Geographic_8cpp_03_1_1ImageRequest.html#aad5cf703924b01f5ec1e0027ecb06b96" title="seamless::anonymous_namespace\{Geographic::cpp\}::ImageRequest::operator()" alt="" coords="777,192,1263,221"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa2ac4bc68d27c344bde211c81e4fcb58"></a><!-- doxytag: member="osgEarth::ImageUtils::createEmptyImage" ref="aa2ac4bc68d27c344bde211c81e4fcb58" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Image * ImageUtils::createEmptyImage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets a transparent, single pixel image used for a placeholder </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00377">377</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">//TODO: Make this a static or store it in the registry to avoid creating it</span>
    <span class="comment">// each time.</span>
    osg::Image* image = <span class="keyword">new</span> osg::Image;
    image-&gt;allocateImage(1,1,1, GL_RGBA, GL_UNSIGNED_BYTE);
    image-&gt;setInternalTextureFormat( GL_RGBA8 );
    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *data = image-&gt;data(0,0);
    memset(data, 0, 4);
    <span class="keywordflow">return</span> image;
}
</pre></div>
<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_aa2ac4bc68d27c344bde211c81e4fcb58_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_aa2ac4bc68d27c344bde211c81e4fcb58_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_aa2ac4bc68d27c344bde211c81e4fcb58_icgraph" id="classosgEarth_1_1ImageUtils_aa2ac4bc68d27c344bde211c81e4fcb58_icgraph">
<area shape="rect" id="node3" href="classTMSSource.html#a263308826959513efe93836cbd5679ec" title="TMSSource::createImage" alt="" coords="372,29,543,59"/><area shape="rect" id="node5" href="classMBTilesSource.html#a30c1aee6fc907c83dcad9aad4bac3ef6" title="MBTilesSource::createImage" alt="" coords="363,83,552,112"/><area shape="rect" id="node7" href="classosgEarth_1_1ImageLayer.html#a013d374663ac586c3ec4552964601978" title="osgEarth::ImageLayer::createImageWrapper" alt="" coords="319,136,596,165"/><area shape="rect" id="node26" href="structBuildColorLayer.html#a02e09da907645980799a762c4564435c" title="BuildColorLayer::execute" alt="" coords="373,203,541,232"/><area shape="rect" id="node9" href="classosgEarth_1_1ImageLayer.html#a8c5095996e9d3d9adca1d245eb1e41d3" title="osgEarth::ImageLayer::createImage" alt="" coords="647,111,876,140"/><area shape="rect" id="node11" href="classosgEarth_1_1CacheSeed.html#aeb1a12bba8bec20f6377497153bc05da" title="osgEarth::CacheSeed::cacheTile" alt="" coords="944,5,1157,35"/><area shape="rect" id="node13" href="classOSGTileFactory.html#a53a1bd8339ce73c5a45b6fa3464b2777" title="OSGTileFactory::createImageLayer" alt="" coords="937,59,1164,88"/><area shape="rect" id="node15" href="classOSGTileFactory.html#ab364d00d5d40d6da0822df2c78525927" title="OSGTileFactory::createPopulatedTile" alt="" coords="1225,137,1463,167"/><area shape="rect" id="node23" href="classOSGTileFactory.html#a1de6601ddf3830ebb93dac07c00bcfb3" title="OSGTileFactory::createValidGeoImage" alt="" coords="927,163,1175,192"/><area shape="rect" id="node17" href="classOSGTileFactory.html#ab44e3e3c02394e6d97443ae5a08bf6e4" title="OSGTileFactory::createTile" alt="" coords="1512,137,1693,167"/><area shape="rect" id="node19" href="classOSGTileFactory.html#ab8ed3db652e0f4ca68fd663d1f686821" title="OSGTileFactory::createSubTiles" alt="" coords="1741,137,1952,167"/><area shape="rect" id="node21" href="classOSGTerrainEngineNode.html#a2feaf9a99b3123e328108c25152daa19" title="OSGTerrainEngineNode::createNode" alt="" coords="2000,137,2237,167"/><area shape="rect" id="node28" href="classTileBuilder.html#afbf384bc5f10099a4eb078f85271efe9" title="TileBuilder::createTile" alt="" coords="688,209,835,239"/><area shape="rect" id="node30" href="classSerialKeyNodeFactory.html#a46792fd57c610f50edcf87499281e274" title="SerialKeyNodeFactory::createNode" alt="" coords="937,216,1164,245"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a76587ee06b6e1651ab894bd72a804767"></a><!-- doxytag: member="osgEarth::ImageUtils::createMipmapBlendedImage" ref="a76587ee06b6e1651ab894bd72a804767" args="(const osg::Image *primary, const osg::Image *secondary)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Image * ImageUtils::createMipmapBlendedImage </td>
          <td>(</td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>primary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>secondary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates an Image that "blends" two images into a new image in which "primary" occupies mipmap level 0, and "secondary" occupies all the other mipmap levels.</p>
<p>WARNING: this method assumes that primary and seconday are the same exact size and the same exact format. </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00190">190</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// ASSUMPTION: primary and secondary are the same size, same format.</span>

    <span class="comment">// first, build the image that will hold all the mipmap levels.</span>
    <span class="keywordtype">int</span> numMipmapLevels = osg::Image::computeNumberOfMipmapLevels( primary-&gt;s(), primary-&gt;t() );
    <span class="keywordtype">int</span> pixelSizeBytes  = osg::Image::computeRowWidthInBytes( primary-&gt;s(), primary-&gt;getPixelFormat(), primary-&gt;getDataType(), primary-&gt;getPacking() ) / primary-&gt;s();
    <span class="keywordtype">int</span> totalSizeBytes  = 0;
    std::vector&lt; unsigned int &gt; mipmapDataOffsets;

    mipmapDataOffsets.reserve( numMipmapLevels-1 );

    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;numMipmapLevels; ++i )
    {
        <span class="keywordflow">if</span> ( i &gt; 0 )
            mipmapDataOffsets.push_back( totalSizeBytes );

        <span class="keywordtype">int</span> level_s = primary-&gt;s() &gt;&gt; i;
        <span class="keywordtype">int</span> level_t = primary-&gt;t() &gt;&gt; i;
        <span class="keywordtype">int</span> levelSizeBytes = level_s * level_t * pixelSizeBytes;

        totalSizeBytes += levelSizeBytes;
    }

    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* data = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[totalSizeBytes];

    osg::ref_ptr&lt;osg::Image&gt; result = <span class="keyword">new</span> osg::Image();
    result-&gt;setImage(
        primary-&gt;s(), primary-&gt;t(), 1,
        primary-&gt;getInternalTextureFormat(), 
        primary-&gt;getPixelFormat(), 
        primary-&gt;getDataType(), 
        data, osg::Image::USE_NEW_DELETE );

    result-&gt;setMipmapLevels( mipmapDataOffsets );

    <span class="comment">// now, populate the image levels.</span>
    <span class="keywordtype">int</span> level_s = primary-&gt;s();
    <span class="keywordtype">int</span> level_t = primary-&gt;t();

    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> level=0; level&lt;numMipmapLevels; ++level )
    {
        <span class="keywordflow">if</span> ( secondary &amp;&amp; level &gt; 0 )
            <a class="code" href="classosgEarth_1_1ImageUtils.html#a1d65f2162d9377db802798aa3b85edf9">ImageUtils::resizeImage</a>( secondary, level_s, level_t, result, level );
        <span class="keywordflow">else</span>
            <a class="code" href="classosgEarth_1_1ImageUtils.html#a1d65f2162d9377db802798aa3b85edf9">ImageUtils::resizeImage</a>( primary, level_s, level_t, result, level );

        level_s &gt;&gt;= 1;
        level_t &gt;&gt;= 1;
    }

    <span class="keywordflow">return</span> result.release();
}
</pre></div>
<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a76587ee06b6e1651ab894bd72a804767_cgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a76587ee06b6e1651ab894bd72a804767_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a76587ee06b6e1651ab894bd72a804767_cgraph" id="classosgEarth_1_1ImageUtils_a76587ee06b6e1651ab894bd72a804767_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ImageUtils.html#a1d65f2162d9377db802798aa3b85edf9" title="osgEarth::ImageUtils::resizeImage" alt="" coords="373,32,597,61"/><area shape="rect" id="node5" href="classosgEarth_1_1ImageUtils_1_1PixelWriter.html#a07171afa2aaceeb9b5111eb29e6739df" title="osgEarth::ImageUtils::PixelWriter::supports" alt="" coords="649,5,924,35"/><area shape="rect" id="node9" href="classosgEarth_1_1ImageUtils_1_1PixelReader.html#a989d213fab0a85098f0f61f70ed081b3" title="osgEarth::ImageUtils::PixelReader::supports" alt="" coords="645,59,928,88"/><area shape="rect" id="node7" href="namespaceanonymous__namespace_02ImageUtils_8cpp_03.html#af0b27d85e29e89fb7b2928a02a676596" title="anonymous_namespace\{ImageUtils::cpp\}::getWriter" alt="" coords="984,5,1307,35"/><area shape="rect" id="node11" href="namespaceanonymous__namespace_02HTTPClient_8cpp_03.html#aded5b15bd1c39a55b5809d05ac3afa9d" title="anonymous_namespace\{HTTPClient::cpp\}::getReader" alt="" coords="977,59,1313,88"/><area shape="rect" id="node13" href="classosgEarth_1_1HTTPResponse.html#a1510f46ba168edfcb48f40dbc123725f" title="osgEarth::HTTPResponse::getMimeType" alt="" coords="1389,5,1651,35"/><area shape="rect" id="node15" href="classosgEarth_1_1Registry.html#abfab9ddc09d2ecce49d8b6838e152692" title="osgEarth::Registry::getReaderWriterForMimeType" alt="" coords="1363,59,1677,88"/><area shape="rect" id="node17" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="1727,85,1913,115"/><area shape="rect" id="node19" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="1964,85,2151,115"/><area shape="rect" id="node21" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="2200,5,2528,35"/><area shape="rect" id="node24" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="2252,59,2476,88"/><area shape="rect" id="node26" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="2243,112,2485,141"/><area shape="rect" id="node28" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="2241,165,2487,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae2ac0a4883aec4b01321393349da01c7"></a><!-- doxytag: member="osgEarth::ImageUtils::cropImage" ref="ae2ac0a4883aec4b01321393349da01c7" args="(const osg::Image *image, double src_minx, double src_miny, double src_maxx, double src_maxy, double &amp;dst_minx, double &amp;dst_miny, double &amp;dst_maxx, double &amp;dst_maxy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Image * ImageUtils::cropImage </td>
          <td>(</td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>src_minx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>src_miny</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>src_maxx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>src_maxy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>dst_minx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>dst_miny</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>dst_maxx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>dst_maxy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Crops the input image to the dimensions provided and returns a new image. Returns a new image, leaving the input image unaltered. Note: The input destination bounds are modified to reflect the bounds of the actual output image. Due to the fact that you cannot crop in the middle of a pixel The specified destination extents and the output extents may vary slightly. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">src_minx</td><td>The minimum x coordinate of the input image. </td></tr>
    <tr><td class="paramname">src_miny</td><td>The minimum y coordinate of the input image. </td></tr>
    <tr><td class="paramname">src_maxx</td><td>The maximum x coordinate of the input image. </td></tr>
    <tr><td class="paramname">src_maxy</td><td>The maximum y coordinate of the input image. </td></tr>
    <tr><td class="paramname">dst_minx</td><td>The desired minimum x coordinate of the cropped image. </td></tr>
    <tr><td class="paramname">dst_miny</td><td>The desired minimum y coordinate of the cropped image. </td></tr>
    <tr><td class="paramname">dst_maxx</td><td>The desired maximum x coordinate of the cropped image. </td></tr>
    <tr><td class="paramname">dst_maxy</td><td>The desired maximum y coordinate of the cropped image. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00282">282</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">//Compute the desired cropping rectangle</span>
    <span class="keywordtype">int</span> windowX        = osg::clampBetween( (<span class="keywordtype">int</span>)floor( (dst_minx - src_minx) / (src_maxx - src_minx) * (<span class="keywordtype">double</span>)image-&gt;s()), 0, image-&gt;s()-1);
    <span class="keywordtype">int</span> windowY        = osg::clampBetween( (<span class="keywordtype">int</span>)floor( (dst_miny - src_miny) / (src_maxy - src_miny) * (<span class="keywordtype">double</span>)image-&gt;t()), 0, image-&gt;t()-1);
    <span class="keywordtype">int</span> windowWidth    = osg::clampBetween( (<span class="keywordtype">int</span>)ceil(  (dst_maxx - src_minx) / (src_maxx - src_minx) * (<span class="keywordtype">double</span>)image-&gt;s()) - windowX, 0, image-&gt;s());
    <span class="keywordtype">int</span> windowHeight   = osg::clampBetween( (<span class="keywordtype">int</span>)ceil(  (dst_maxy - src_miny) / (src_maxy - src_miny) * (<span class="keywordtype">double</span>)image-&gt;t()) - windowY, 0, image-&gt;t());    

    <span class="keywordflow">if</span> (windowX + windowWidth &gt; image-&gt;s())
    {
        windowWidth = image-&gt;s() - windowX;        
    }

    <span class="keywordflow">if</span> (windowY + windowHeight &gt; image-&gt;t())
    {
        windowHeight = image-&gt;t() - windowY;
    }
    
    <span class="keywordflow">if</span> ((windowWidth * windowHeight) == 0)
    {
        <span class="keywordflow">return</span> <a class="code" href="Export.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    }

    <span class="comment">//Compute the actual bounds of the area we are computing</span>
    <span class="keywordtype">double</span> res_s = (src_maxx - src_minx) / (<span class="keywordtype">double</span>)image-&gt;s();
    <span class="keywordtype">double</span> res_t = (src_maxy - src_miny) / (<span class="keywordtype">double</span>)image-&gt;t();

    dst_minx = src_minx + (double)windowX * res_s;
    dst_miny = src_miny + (double)windowY * res_t;
    dst_maxx = dst_minx + (double)windowWidth * res_s;
    dst_maxy = dst_miny + (double)windowHeight * res_t;

    <span class="comment">//OE_NOTICE &lt;&lt; &quot;Copying from &quot; &lt;&lt; windowX &lt;&lt; &quot;, &quot; &lt;&lt; windowY &lt;&lt; &quot;, &quot; &lt;&lt; windowWidth &lt;&lt; &quot;, &quot; &lt;&lt; windowHeight &lt;&lt; std::endl;</span>

    <span class="comment">//Allocate the croppped image</span>
    osg::Image* cropped = <span class="keyword">new</span> osg::Image;
    cropped-&gt;allocateImage(windowWidth, windowHeight, 1, image-&gt;getPixelFormat(), image-&gt;getDataType());
    cropped-&gt;setInternalTextureFormat( image-&gt;getInternalTextureFormat() );
    
    
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> src_row = windowY, dst_row=0; dst_row &lt; windowHeight; src_row++, dst_row++)
    {
        <span class="keywordflow">if</span> (src_row &gt; image-&gt;t()-1) <a class="code" href="Notify.html#a29c29c62ae325bf5871ce5b1695c1720">OE_NOTICE</a> &lt;&lt; <span class="stringliteral">&quot;HeightBroke&quot;</span> &lt;&lt; std::endl;
        <span class="keyword">const</span> <span class="keywordtype">void</span>* src_data = image-&gt;data(windowX, src_row, 0);
        <span class="keywordtype">void</span>* dst_data = cropped-&gt;data(0, dst_row, 0);
        memcpy( dst_data, src_data, cropped-&gt;getRowSizeInBytes());
    }

    <span class="keywordflow">return</span> cropped;
}
</pre></div>
<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_ae2ac0a4883aec4b01321393349da01c7_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_ae2ac0a4883aec4b01321393349da01c7_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_ae2ac0a4883aec4b01321393349da01c7_icgraph" id="classosgEarth_1_1ImageUtils_ae2ac0a4883aec4b01321393349da01c7_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1GeoImage.html#a6181f8f1702223be590e660e05c0270c" title="osgEarth::GeoImage::crop" alt="" coords="271,59,444,88"/><area shape="rect" id="node5" href="classOSGTileSource.html#a32e36bfa472b6249095f82840daf67bc" title="OSGTileSource::createImage" alt="" coords="513,32,705,61"/><area shape="rect" id="node7" href="classosgEarth_1_1ImageLayer.html#a8c5095996e9d3d9adca1d245eb1e41d3" title="osgEarth::ImageLayer::createImage" alt="" coords="495,85,724,115"/><area shape="rect" id="node9" href="classosgEarth_1_1CacheSeed.html#aeb1a12bba8bec20f6377497153bc05da" title="osgEarth::CacheSeed::cacheTile" alt="" coords="792,5,1005,35"/><area shape="rect" id="node11" href="classOSGTileFactory.html#a53a1bd8339ce73c5a45b6fa3464b2777" title="OSGTileFactory::createImageLayer" alt="" coords="785,59,1012,88"/><area shape="rect" id="node13" href="classOSGTileFactory.html#ab364d00d5d40d6da0822df2c78525927" title="OSGTileFactory::createPopulatedTile" alt="" coords="1073,137,1311,167"/><area shape="rect" id="node21" href="classOSGTileFactory.html#a1de6601ddf3830ebb93dac07c00bcfb3" title="OSGTileFactory::createValidGeoImage" alt="" coords="775,163,1023,192"/><area shape="rect" id="node15" href="classOSGTileFactory.html#ab44e3e3c02394e6d97443ae5a08bf6e4" title="OSGTileFactory::createTile" alt="" coords="1360,137,1541,167"/><area shape="rect" id="node17" href="classOSGTileFactory.html#ab8ed3db652e0f4ca68fd663d1f686821" title="OSGTileFactory::createSubTiles" alt="" coords="1589,137,1800,167"/><area shape="rect" id="node19" href="classOSGTerrainEngineNode.html#a2feaf9a99b3123e328108c25152daa19" title="OSGTerrainEngineNode::createNode" alt="" coords="1848,137,2085,167"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad43b062b9b0a9eb0a475ef6eb6f1ad60"></a><!-- doxytag: member="osgEarth::ImageUtils::hasAlphaChannel" ref="ad43b062b9b0a9eb0a475ef6eb6f1ad60" args="(const osg::Image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageUtils::hasAlphaChannel </td>
          <td>(</td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks whether the image has an alpha component </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00469">469</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> image &amp;&amp; (
        image-&gt;getPixelFormat() == GL_RGBA ||
        image-&gt;getPixelFormat() == GL_BGRA ||
        image-&gt;getPixelFormat() == GL_LUMINANCE_ALPHA );
}
</pre></div>
<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_ad43b062b9b0a9eb0a475ef6eb6f1ad60_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_ad43b062b9b0a9eb0a475ef6eb6f1ad60_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_ad43b062b9b0a9eb0a475ef6eb6f1ad60_icgraph" id="classosgEarth_1_1ImageUtils_ad43b062b9b0a9eb0a475ef6eb6f1ad60_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Symbology_1_1SkinResource.html#a54a54c4c1852d43305b0d8e7d2ca75bb" title="osgEarth::Symbology::SkinResource::createStateSet" alt="" coords="311,5,641,35"/><area shape="rect" id="node5" href="classOSGTileSource.html#a1536ee47f47b02642123ceb33f0f5d85" title="OSGTileSource::initialize" alt="" coords="392,59,560,88"/><area shape="rect" id="node7" href="classosgEarth_1_1ImageLayerTileProcessor.html#a0ea4a824611f0733f1df9931699874a0" title="osgEarth::ImageLayerTileProcessor::process" alt="" coords="335,112,617,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8414cd0e0ff334e107ce1b2ce4c862f4"></a><!-- doxytag: member="osgEarth::ImageUtils::isCompressed" ref="a8414cd0e0ff334e107ce1b2ce4c862f4" args="(const osg::Image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageUtils::isCompressed </td>
          <td>(</td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks whether the given image is compressed </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00478">478</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">//Later versions of OSG have an Image::isCompressed function but earlier versions like 2.8.3 do not.  This is a workaround so that </span>
    <span class="comment">//we can tell if an image is compressed on all versions of OSG.</span>
    <span class="keywordflow">switch</span>(image-&gt;getPixelFormat())
    {
        <span class="keywordflow">case</span>(GL_COMPRESSED_ALPHA_ARB):
        <span class="keywordflow">case</span>(GL_COMPRESSED_INTENSITY_ARB):
        <span class="keywordflow">case</span>(GL_COMPRESSED_LUMINANCE_ALPHA_ARB):
        <span class="keywordflow">case</span>(GL_COMPRESSED_LUMINANCE_ARB):
        <span class="keywordflow">case</span>(GL_COMPRESSED_RGBA_ARB):
        <span class="keywordflow">case</span>(GL_COMPRESSED_RGB_ARB):
        <span class="keywordflow">case</span>(GL_COMPRESSED_RGB_S3TC_DXT1_EXT):
        <span class="keywordflow">case</span>(GL_COMPRESSED_RGBA_S3TC_DXT1_EXT):
        <span class="keywordflow">case</span>(GL_COMPRESSED_RGBA_S3TC_DXT3_EXT):
        <span class="keywordflow">case</span>(GL_COMPRESSED_RGBA_S3TC_DXT5_EXT):
        <span class="keywordflow">case</span>(<a class="code" href="ImageUtils.html#a0b6c00eb9baed7a751017ce5cfb31d08">GL_COMPRESSED_SIGNED_RED_RGTC1_EXT</a>):
        <span class="keywordflow">case</span>(<a class="code" href="ImageUtils.html#addb713536e14f5b3cec8266ce7e76c95">GL_COMPRESSED_RED_RGTC1_EXT</a>):
        <span class="keywordflow">case</span>(<a class="code" href="ImageUtils.html#a5cd19ece159c5fc81cddc2b2389efbcd">GL_COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT</a>):
        <span class="keywordflow">case</span>(<a class="code" href="ImageUtils.html#a9eb0fdb9414d9a8cf7f569ece217f8da">GL_COMPRESSED_RED_GREEN_RGTC2_EXT</a>):
        <span class="keywordflow">case</span>(<a class="code" href="ImageUtils.html#a83455ba61c7de28dfac1b4ad4b807af6">GL_COMPRESSED_RGB_PVRTC_4BPPV1_IMG</a>): 
        <span class="keywordflow">case</span>(<a class="code" href="ImageUtils.html#ac4d1e86402347516711e1b9c352f236a">GL_COMPRESSED_RGB_PVRTC_2BPPV1_IMG</a>):
        <span class="keywordflow">case</span>(<a class="code" href="ImageUtils.html#ab551bdea83f8e9cca5160ab830d2444c">GL_COMPRESSED_RGBA_PVRTC_4BPPV1_IMG</a>):
        <span class="keywordflow">case</span>(<a class="code" href="ImageUtils.html#a6c53023473bc47e02c9c88aa3c9bfebc">GL_COMPRESSED_RGBA_PVRTC_2BPPV1_IMG</a>):
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
        <span class="keywordflow">default</span>:
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
}
</pre></div>
<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a8414cd0e0ff334e107ce1b2ce4c862f4_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a8414cd0e0ff334e107ce1b2ce4c862f4_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a8414cd0e0ff334e107ce1b2ce4c862f4_icgraph" id="classosgEarth_1_1ImageUtils_a8414cd0e0ff334e107ce1b2ce4c862f4_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1TextureCompositorMultiTexture.html#a5977d8111dd985bc6d7466c4181970b0" title="osgEarth::TextureCompositorMultiTexture::applyLayerUpdate" alt="" coords="291,5,669,35"/><area shape="rect" id="node5" href="classosgEarth_1_1ImageLayerTileProcessor.html#a0ea4a824611f0733f1df9931699874a0" title="osgEarth::ImageLayerTileProcessor::process" alt="" coords="339,59,621,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adc82eb06755c3da5c257d9db7e88f6f5"></a><!-- doxytag: member="osgEarth::ImageUtils::isPowerOfTwo" ref="adc82eb06755c3da5c257d9db7e88f6f5" args="(const osg::Image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageUtils::isPowerOfTwo </td>
          <td>(</td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets whether the input image's dimensions are powers of 2. </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00336">336</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> (((image-&gt;s() &amp; (image-&gt;s()-1))==0) &amp;&amp;
            ((image-&gt;t() &amp; (image-&gt;t()-1))==0));
}
</pre></div>
<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_adc82eb06755c3da5c257d9db7e88f6f5_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_adc82eb06755c3da5c257d9db7e88f6f5_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_adc82eb06755c3da5c257d9db7e88f6f5_icgraph" id="classosgEarth_1_1ImageUtils_adc82eb06755c3da5c257d9db7e88f6f5_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1TextureCompositorMultiTexture.html#a5977d8111dd985bc6d7466c4181970b0" title="osgEarth::TextureCompositorMultiTexture::applyLayerUpdate" alt="" coords="293,5,672,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7590d5935a196429007cd44755a16856"></a><!-- doxytag: member="osgEarth::ImageUtils::mix" ref="a7590d5935a196429007cd44755a16856" args="(osg::Image *dest, const osg::Image *src, float a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageUtils::mix </td>
          <td>(</td>
          <td class="paramtype">osg::Image *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Blends the "src" image into the "dest" image, based on the "a" value. The two images must be the same. </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00266">266</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!dest || !src || dest-&gt;s() != src-&gt;s() || dest-&gt;t() != src-&gt;t() )
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    
    PixelVisitor&lt;MixImage&gt; mixer;
    mixer._a = osg::clampBetween( a, 0.0f, 1.0f );
    mixer._srcHasAlpha = src-&gt;getPixelSizeInBits() == 32;
    mixer._destHasAlpha = src-&gt;getPixelSizeInBits() == 32;    

    mixer.accept( src, dest );  

    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a7590d5935a196429007cd44755a16856_cgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a7590d5935a196429007cd44755a16856_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a7590d5935a196429007cd44755a16856_cgraph" id="classosgEarth_1_1ImageUtils_a7590d5935a196429007cd44755a16856_cgraph">
<area shape="rect" id="node3" href="structosgEarth_1_1ImageUtils_1_1PixelVisitor.html#aadc93ccdf4e42649a4b8e1b6dd5f416e" title="osgEarth::ImageUtils::PixelVisitor::accept" alt="" coords="229,5,496,35"/></map>
</div>
</p>

<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a7590d5935a196429007cd44755a16856_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a7590d5935a196429007cd44755a16856_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a7590d5935a196429007cd44755a16856_icgraph" id="classosgEarth_1_1ImageUtils_a7590d5935a196429007cd44755a16856_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1CompositeTileSource.html#a9d81e23c2f648ab0446c503b686f872a" title="osgEarth::CompositeTileSource::createImage" alt="" coords="231,5,516,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acff13758e0dd09db246488410de3c5ab"></a><!-- doxytag: member="osgEarth::ImageUtils::normalizeImage" ref="acff13758e0dd09db246488410de3c5ab" args="(osg::Image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ImageUtils::normalizeImage </td>
          <td>(</td>
          <td class="paramtype">osg::Image *&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Tweaks an image for consistency. OpenGL allows enums like "GL_RGBA" et.al. to be used in the internal texture format, when really "GL_RGBA8" is the proper things to use. This method accounts for that. Some parts of <a class="el" href="namespaceosgEarth.html">osgEarth</a> (like the texture- array compositor) rely on the internal texture format being correct. (<a href="http://http.download.nvidia.com/developer/Papers/2005/Fast_Texture_Transfers/Fast_Texture_Transfers.pdf">http://http.download.nvidia.com/developer/Papers/2005/Fast_Texture_Transfers/Fast_Texture_Transfers.pdf</a>) </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00049">49</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// OpenGL is lax about internal texture formats, and e.g. allows GL_RGBA to be used</span>
    <span class="comment">// instead of the proper GL_RGBA8, etc. Correct that here, since some of our compositors</span>
    <span class="comment">// rely on having a proper internal texture format.</span>
    <span class="keywordflow">if</span> ( image-&gt;getDataType() == GL_UNSIGNED_BYTE )
    {
        <span class="keywordflow">if</span> ( image-&gt;getPixelFormat() == GL_RGB )
            image-&gt;setInternalTextureFormat( GL_RGB8 );
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( image-&gt;getPixelFormat() == GL_RGBA )
            image-&gt;setInternalTextureFormat( GL_RGBA8 );
    }
}
</pre></div>
<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_acff13758e0dd09db246488410de3c5ab_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_acff13758e0dd09db246488410de3c5ab_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_acff13758e0dd09db246488410de3c5ab_icgraph" id="classosgEarth_1_1ImageUtils_acff13758e0dd09db246488410de3c5ab_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ImageLayer.html#a8c5095996e9d3d9adca1d245eb1e41d3" title="osgEarth::ImageLayer::createImage" alt="" coords="300,85,529,115"/><area shape="rect" id="node5" href="classosgEarth_1_1CacheSeed.html#aeb1a12bba8bec20f6377497153bc05da" title="osgEarth::CacheSeed::cacheTile" alt="" coords="597,5,811,35"/><area shape="rect" id="node7" href="classOSGTileFactory.html#a53a1bd8339ce73c5a45b6fa3464b2777" title="OSGTileFactory::createImageLayer" alt="" coords="591,59,817,88"/><area shape="rect" id="node9" href="classOSGTileFactory.html#ab364d00d5d40d6da0822df2c78525927" title="OSGTileFactory::createPopulatedTile" alt="" coords="879,137,1116,167"/><area shape="rect" id="node17" href="classOSGTileFactory.html#a1de6601ddf3830ebb93dac07c00bcfb3" title="OSGTileFactory::createValidGeoImage" alt="" coords="580,163,828,192"/><area shape="rect" id="node11" href="classOSGTileFactory.html#ab44e3e3c02394e6d97443ae5a08bf6e4" title="OSGTileFactory::createTile" alt="" coords="1165,137,1347,167"/><area shape="rect" id="node13" href="classOSGTileFactory.html#ab8ed3db652e0f4ca68fd663d1f686821" title="OSGTileFactory::createSubTiles" alt="" coords="1395,137,1605,167"/><area shape="rect" id="node15" href="classOSGTerrainEngineNode.html#a2feaf9a99b3123e328108c25152daa19" title="OSGTerrainEngineNode::createNode" alt="" coords="1653,137,1891,167"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1d65f2162d9377db802798aa3b85edf9"></a><!-- doxytag: member="osgEarth::ImageUtils::resizeImage" ref="a1d65f2162d9377db802798aa3b85edf9" args="(const osg::Image *input, unsigned int new_s, unsigned int new_t, osg::ref_ptr&lt; osg::Image &gt; &amp;output, unsigned int mipmapLevel=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ImageUtils::resizeImage </td>
          <td>(</td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>new_s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>new_t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">osg::ref_ptr&lt; osg::Image &gt; &amp;&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mipmapLevel</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Resizes an image using nearest-neighbor resampling. Returns a new image, leaving the input image unaltered.</p>
<p>Note. If the output parameter is NULL, this method will allocate a new image and resize into that new image. If the output parameter is non-NULL, this method will assume that the output image is already allocated to the proper size, and will do a resize+copy into that image. In the latter case, it is your responsibility to make sure the output image is allocated to the proper size.</p>
<p>If the output parameter is non-NULL, then the mipmapLevel is also considered. This lets you resize directly into a particular mipmap level of the output image. </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00106">106</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( !input &amp;&amp; out_s == 0 &amp;&amp; out_t == 0 )
        <span class="keywordflow">return</span> <span class="keyword">false</span>;

    <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1ImageUtils_1_1PixelReader.html#a989d213fab0a85098f0f61f70ed081b3">PixelReader::supports</a>(input) )
    {
        <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <a class="code" href="ImageUtils_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;resizeImage: unsupported format&quot;</span> &lt;&lt; std::endl;
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    <span class="keywordflow">if</span> ( output.valid() &amp;&amp; !<a class="code" href="classosgEarth_1_1ImageUtils_1_1PixelWriter.html#a07171afa2aaceeb9b5111eb29e6739df">PixelWriter::supports</a>(output.get()) )
    {
        <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <a class="code" href="ImageUtils_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;resizeImage: pre-allocated output image is in an unsupported format&quot;</span> &lt;&lt; std::endl;
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> in_s = input-&gt;s();
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> in_t = input-&gt;t();

    <span class="keywordflow">if</span> ( !output.valid() )
    {
        output = <span class="keyword">new</span> osg::Image();

        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1ImageUtils_1_1PixelWriter.html#a07171afa2aaceeb9b5111eb29e6739df">PixelWriter::supports</a>(input) )
        {
            output-&gt;allocateImage( out_s, out_t, 1, input-&gt;getPixelFormat(), input-&gt;getDataType(), input-&gt;getPacking() );
            output-&gt;setInternalTextureFormat( input-&gt;getInternalTextureFormat() );
        }
        <span class="keywordflow">else</span>
        {
            <span class="comment">// for unsupported write formats, convert to RGBA8 automatically.</span>
            output-&gt;allocateImage( out_s, out_t, 1, GL_RGBA, GL_UNSIGNED_BYTE );
            output-&gt;setInternalTextureFormat( GL_RGBA8 );
        }
    }
    <span class="keywordflow">else</span>
    {
        <span class="comment">// make sure they match up</span>
        output-&gt;setInternalTextureFormat( input-&gt;getInternalTextureFormat() );
    }

    <span class="keywordflow">if</span> ( in_s == out_s &amp;&amp; in_t == out_t &amp;&amp; mipmapLevel == 0 &amp;&amp; input-&gt;getInternalTextureFormat() == output-&gt;getInternalTextureFormat() )
    {
        memcpy( output-&gt;data(), input-&gt;data(), input-&gt;getTotalSizeInBytes() );
    }
    <span class="keywordflow">else</span>
    {       
        PixelReader read( input );
        PixelWriter write( output.get() );

        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pixel_size_bytes = input-&gt;getRowSizeInBytes() / in_s;

        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* dataOffset = output-&gt;getMipmapData(mipmapLevel);
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>   dataRowSizeBytes = output-&gt;getRowSizeInBytes() &gt;&gt; mipmapLevel;

        <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> output_row=0; output_row &lt; out_t; output_row++ )
        {
            <span class="comment">// get an appropriate input row</span>
            <span class="keywordtype">float</span> output_row_ratio = (float)output_row/(<span class="keywordtype">float</span>)out_t;
            <span class="keywordtype">int</span> input_row = (<span class="keywordtype">unsigned</span> int)( output_row_ratio * (<span class="keywordtype">float</span>)in_t );
            <span class="keywordflow">if</span> ( input_row &gt;= input-&gt;t() ) input_row = in_t-1;
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( input_row &lt; 0 ) input_row = 0;

            <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> output_col = 0; output_col &lt; out_s; output_col++ )
            {
                <span class="keywordtype">float</span> output_col_ratio = (float)output_col/(<span class="keywordtype">float</span>)out_s;
                <span class="keywordtype">int</span> input_col = (<span class="keywordtype">unsigned</span> int)( output_col_ratio * (<span class="keywordtype">float</span>)in_s );
                <span class="keywordflow">if</span> ( input_col &gt;= (<span class="keywordtype">int</span>)in_s ) input_col = in_s-1;
                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( input_row &lt; 0 ) input_row = 0;

                osg::Vec4 color = read( input_col, input_row ); <span class="comment">// read pixel from mip level 0</span>
                write( color, output_col, output_row, 0, mipmapLevel ); <span class="comment">// write to target mip level</span>
            }
        }
    }

    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a1d65f2162d9377db802798aa3b85edf9_cgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a1d65f2162d9377db802798aa3b85edf9_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a1d65f2162d9377db802798aa3b85edf9_cgraph" id="classosgEarth_1_1ImageUtils_a1d65f2162d9377db802798aa3b85edf9_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ImageUtils_1_1PixelWriter.html#a07171afa2aaceeb9b5111eb29e6739df" title="osgEarth::ImageUtils::PixelWriter::supports" alt="" coords="281,5,556,35"/><area shape="rect" id="node7" href="classosgEarth_1_1ImageUtils_1_1PixelReader.html#a989d213fab0a85098f0f61f70ed081b3" title="osgEarth::ImageUtils::PixelReader::supports" alt="" coords="277,59,560,88"/><area shape="rect" id="node5" href="namespaceanonymous__namespace_02ImageUtils_8cpp_03.html#af0b27d85e29e89fb7b2928a02a676596" title="anonymous_namespace\{ImageUtils::cpp\}::getWriter" alt="" coords="616,5,939,35"/><area shape="rect" id="node9" href="namespaceanonymous__namespace_02HTTPClient_8cpp_03.html#aded5b15bd1c39a55b5809d05ac3afa9d" title="anonymous_namespace\{HTTPClient::cpp\}::getReader" alt="" coords="609,59,945,88"/><area shape="rect" id="node11" href="classosgEarth_1_1HTTPResponse.html#a1510f46ba168edfcb48f40dbc123725f" title="osgEarth::HTTPResponse::getMimeType" alt="" coords="1021,5,1283,35"/><area shape="rect" id="node13" href="classosgEarth_1_1Registry.html#abfab9ddc09d2ecce49d8b6838e152692" title="osgEarth::Registry::getReaderWriterForMimeType" alt="" coords="995,59,1309,88"/><area shape="rect" id="node15" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="1359,85,1545,115"/><area shape="rect" id="node17" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="1596,85,1783,115"/><area shape="rect" id="node19" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="1832,5,2160,35"/><area shape="rect" id="node22" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="1884,59,2108,88"/><area shape="rect" id="node24" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="1875,112,2117,141"/><area shape="rect" id="node26" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="1873,165,2119,195"/></map>
</div>
</p>

<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_a1d65f2162d9377db802798aa3b85edf9_icgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_a1d65f2162d9377db802798aa3b85edf9_icgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_a1d65f2162d9377db802798aa3b85edf9_icgraph" id="classosgEarth_1_1ImageUtils_a1d65f2162d9377db802798aa3b85edf9_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ImageUtils.html#a76587ee06b6e1651ab894bd72a804767" title="osgEarth::ImageUtils::createMipmapBlendedImage" alt="" coords="279,5,596,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af459d5fbcc39119a920268c817eab850"></a><!-- doxytag: member="osgEarth::ImageUtils::sharpenImage" ref="af459d5fbcc39119a920268c817eab850" args="(const osg::Image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Image * ImageUtils::sharpenImage </td>
          <td>(</td>
          <td class="paramtype">const osg::Image *&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates and returns a copy of the input image after applying a sharpening filter. Returns a new image, leaving the input image unaltered. </p>

<p>Definition at line <a class="el" href="ImageUtils_8cpp_source.html#l00344">344</a> of file <a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> filter[9] = { 0, -1, 0, -1, 5, -1, 0, -1, 0 };
    osg::Image* output = <a class="code" href="classosgEarth_1_1ImageUtils.html#a7933afbe98be55cbf1a80dc3c739cdbd">ImageUtils::cloneImage</a>(input);
    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> t=1; t&lt;input-&gt;t()-1; t++ )
    {
        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> s=1; s&lt;input-&gt;s()-1; s++ )
        {
            <span class="keywordtype">int</span> pixels[9] = {
                *(<span class="keywordtype">int</span>*)input-&gt;data(s-1,t-1), *(<span class="keywordtype">int</span>*)input-&gt;data(s,t-1), *(<span class="keywordtype">int</span>*)input-&gt;data(s+1,t-1),
                *(<span class="keywordtype">int</span>*)input-&gt;data(s-1,t  ), *(<span class="keywordtype">int</span>*)input-&gt;data(s,t  ), *(<span class="keywordtype">int</span>*)input-&gt;data(s+1,t  ),
                *(<span class="keywordtype">int</span>*)input-&gt;data(s-1,t+1), *(<span class="keywordtype">int</span>*)input-&gt;data(s,t+1), *(<span class="keywordtype">int</span>*)input-&gt;data(s+1,t+1) };

            <span class="keywordtype">int</span> shifts[4] = { 0, 8, 16, 32 };

            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> c=0; c&lt;4; c++ ) <span class="comment">// components</span>
            {
                <span class="keywordtype">int</span> mask = 0xff &lt;&lt; shifts[c];
                <span class="keywordtype">int</span> sum = 0;
                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;9; i++ )
                {
                    sum += ((pixels[i] &amp; mask) &gt;&gt; shifts[c]) * filter[i];
                }
                sum = sum &gt; 255? 255 : sum &lt; 0? 0 : sum;
                output-&gt;data(s,t)[c] = sum;
            }
        }
    }
    <span class="keywordflow">return</span> output;
}
</pre></div>
<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1ImageUtils_af459d5fbcc39119a920268c817eab850_cgraph.png" border="0" usemap="#classosgEarth_1_1ImageUtils_af459d5fbcc39119a920268c817eab850_cgraph" alt=""/></div>
<map name="classosgEarth_1_1ImageUtils_af459d5fbcc39119a920268c817eab850_cgraph" id="classosgEarth_1_1ImageUtils_af459d5fbcc39119a920268c817eab850_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1ImageUtils.html#a7933afbe98be55cbf1a80dc3c739cdbd" title="osgEarth::ImageUtils::cloneImage" alt="" coords="289,5,508,35"/></map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/cube/sources/osgearth/src/osgEarth/<a class="el" href="ImageUtils_source.html">ImageUtils</a></li>
<li>/home/cube/sources/osgearth/src/osgEarth/<a class="el" href="ImageUtils_8cpp_source.html">ImageUtils.cpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Jan 18 2012 15:02:52 for osgEarth by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
