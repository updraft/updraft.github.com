<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>osgEarth: Diamond Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">osgEarth&#160;<span id="projectnumber">2.1.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<h1>Diamond Struct Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Diamond" --><!-- doxytag: inherits="osg::Referenced" --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for Diamond:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond__inherit__graph.png" border="0" usemap="#Diamond_inherit__map" alt="Inheritance graph"/></div>
<map name="Diamond_inherit__map" id="Diamond_inherit__map">
<area shape="rect" id="node2" href="classosg_1_1Referenced.html" title="Referenced" alt="" coords="5,5,93,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Collaboration diagram for Diamond:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond__coll__graph.png" border="0" usemap="#Diamond_coll__map" alt="Collaboration graph"/></div>
<map name="Diamond_coll__map" id="Diamond_coll__map">
<area shape="rect" id="node2" href="classosg_1_1Referenced.html" title="Referenced" alt="" coords="5,5,93,35"/><area shape="rect" id="node4" href="classMeshManager.html" title="MeshManager" alt="" coords="87,101,191,131"/><area shape="rect" id="node7" href="structCullSettings.html" title="CullSettings" alt="" coords="117,5,211,35"/><area shape="rect" id="node9" href="structosgEarth_1_1Revision.html" title="osgEarth::Revision" alt="" coords="215,101,348,131"/><area shape="rect" id="node12" href="classosgEarth_1_1TileKey.html" title="osgEarth::TileKey" alt="" coords="381,101,507,131"/><area shape="rect" id="node15" href="classosgEarth_1_1GeoExtent.html" title="osgEarth::GeoExtent" alt="" coords="372,5,516,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="structDiamond-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a0bb775bc54a9a4781586a148f1743b61">Diamond</a> (<a class="el" href="classMeshManager.html">MeshManager</a> *mesh, const <a class="el" href="classosgEarth_1_1TileKey.html">osgEarth::TileKey</a> &amp;key, <a class="el" href="rivers_2engine__droam_2Common.html#abe08e330dab3140c34f1df2af8c190cd">Level</a> level, const std::string &amp;name=&quot;&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#aae7f81dd0362b91704578a8b5fff89e2">~Diamond</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a67a49af4cc8109874fa5e09d4946abf8">activate</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const osg::BoundingSphere &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a85645bf231669dc38712b791961f895d">visibleBound</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const osg::BoundingSphere &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a5ae68b430b173c2fc5677a6444d7ec6c">extendedBound</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#ab4e21947607715ecb9611c927a402d3e">dump</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a884f386ba5b0f292ef278fbcdcb2ba38">setCoord</a> (double x, double y, double z)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a550c0ca7f0ffa04dd7acb6bb73f1f64d">setCoord</a> (const osg::Vec3d &amp;coord)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDiamond.html">Diamond</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#ae4f06eac6fc1a10267d6a4772b7fff73">getOrCreateNeighbor</a> (<a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDiamond.html">Diamond</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#ad8655e5f02f59782bb5a83f48a76d8aa">getNeighbor</a> (<a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDiamond.html">Diamond</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96">getOrCreateChild</a> (<a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#ae1ef02049763861f989d9a37306071ca">removeChild</a> (<a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a34e1efa7ccc33b456902c21be7fa3e24">getIndexOfChild</a> (<a class="el" href="structDiamond.html">Diamond</a> *child)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#aeb9c76114fbe02e55a0d41fa6062b11d">getIndexOfChildEdgeStartingAt</a> (<a class="el" href="rivers_2engine__droam_2Common.html#a15280048c91257326bb356142ebe4ee6">NodeIndex</a> vi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#ae2f620bf2b10a6313abd1f593115f8e0">seed</a> (<a class="el" href="rivers_2engine__droam_2Common.html#abe08e330dab3140c34f1df2af8c190cd">Level</a> maxLevel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#ac292d950221eb5e48916943adb2363c5">split</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a63181f0cbc2a707e9653a1b5ae369f24">merge</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a8ae119c1a00584598d8840b8541f0b40">hasChildren</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a6e76b260c022331293d901ea054de8c8">hasAllChildren</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a92f8386bf6603e5146d0df6b0db0693c">computeBound</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a432a0496ce229e06b336e900dc5af518">cull</a> (osgUtil::CullVisitor *cv)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#af63b93743f9cbdf323d644628b2aca37">setChild</a> (<a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> index, <a class="el" href="structDiamond.html">Diamond</a> *child)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a99d5910fcf59bf2fb94ea4a4e15c0373">refreshDrawable</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc">dirty</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDiamond.html">Diamond</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b">q</a> (<a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> c)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classMeshNode.html">MeshNode</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1TileKey.html">osgEarth::TileKey</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a814198de692e29fbe4019e6e70eb24ca">_key</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#ae17dd63b89a5fa24bcde717db4b6e5e8">_name</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="rivers_2engine__droam_2Common.html#abe08e330dab3140c34f1df2af8c190cd">Level</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Diamond.html#a5f4337b82a15b3df46c2894a738a798c">Orientation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a95ea2713729a4fecd051d1743937905f">_orientation</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Diamond.html#a14f2cb6b85d7de86736527d3a14f98b7">DiamondStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#ae819cc68d85a3bcc735f985688eb401f">_status</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMeshManager.html">MeshManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; <a class="el" href="structDiamond.html">Diamond</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a> [4]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; <a class="el" href="structDiamond.html">Diamond</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a> [4]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a3d610442052a9ec0e874e56768f79a8a">_childValence</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a21f526b37a6ce9c26d973d3fa0476de9">_isSplit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="rivers_2engine__droam_2Common.html#a15280048c91257326bb356142ebe4ee6">NodeIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a53395e2aa6e55d422f4bbadd2dbc16e5">_vi</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="rivers_2engine__droam_2Common.html#ab7c6048a30397e8adb167a787a07cde8">TravNumber</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#ad97485f59f389debc8c56aa3ee7672c8">_lastCullFrame</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a92a87b307ac7016450fd04e0d8b6f8fa">_drawableDirty</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a130976951b5e6b73f7aae332646e4c67">_queuedForSplit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a8f159ffac485b90b8b5ec9464ae59b73">_queuedForMerge</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a4a638b0650d0a779511edf697a8fc372">_queuedForImage</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a4ed15b87b3f9d49b0a3ee66d2a99dd45">_bsComputed</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a1532af54d2342850b28c3372d4116b78">_imageRequested</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; <a class="el" href="structRevisionedStateSet.html">RevisionedStateSet</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a644a820d288559443b559d9157e32b49">_stateSet</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; <a class="el" href="classAMRDrawable.html">AMRDrawable</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDiamond.html">Diamond</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a41c62c5b6213f46b5d1c529edefa37d8">_targetStateSetOwner</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDiamond.html">Diamond</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a878a7541c0d5285ef650163c7b050f44">_currentStateSetOwner</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structosgEarth_1_1Revision.html">osgEarth::Revision</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a9e9db1f8af56e5531a0deeccf306c585">_targetStateSetRevision</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a59f4e155f9bd71802a449f531e2f6917">_hasFinalImage</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::BoundingSphere&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a03b6bd559d20cc32e4af2f5e451ab404">_visibleBound</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::BoundingSphere&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#aa782111d32fb1965c1d12246d490ddd0">_extendedBound</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr<br class="typebreak"/>
&lt; <a class="el" href="classosgEarth_1_1TaskRequest.html">osgEarth::TaskRequest</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDiamond.html#a0b1758479482447d81bd8748a406f614">_imageRequest</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A diamond is the basic unit object for the terrain mesh. There are two types of diamonds: Geometry diamonds reside at odd levels and contain actual geometry. Intermediate diamonds reside at even levels and serve to connect the continuous mesh between geometry levels, but contain no visible geometry themselves. </p>

<p>Definition at line <a class="el" href="Diamond_source.html#l00057">57</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0bb775bc54a9a4781586a148f1743b61"></a><!-- doxytag: member="Diamond::Diamond" ref="a0bb775bc54a9a4781586a148f1743b61" args="(MeshManager *mesh, const osgEarth::TileKey &amp;key, Level level, const std::string &amp;name=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Diamond::Diamond </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMeshManager.html">MeshManager</a> *&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1TileKey.html">osgEarth::TileKey</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rivers_2engine__droam_2Common.html#abe08e330dab3140c34f1df2af8c190cd">Level</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00041">41</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                    :
osg::Referenced(<span class="keyword">true</span>),
<a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>( mesh ),
<a class="code" href="structDiamond.html#a814198de692e29fbe4019e6e70eb24ca">_key</a>( key ),
<a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a>( level ),
<a class="code" href="structDiamond.html#ae17dd63b89a5fa24bcde717db4b6e5e8">_name</a>( name ),
<a class="code" href="structDiamond.html#ae819cc68d85a3bcc735f985688eb401f">_status</a>( <a class="code" href="Diamond.html#a14f2cb6b85d7de86736527d3a14f98b7a33cf1d8ef1d06ee698a7fabf40eb3a7f">ACTIVE</a> ),
<a class="code" href="structDiamond.html#a3d610442052a9ec0e874e56768f79a8a">_childValence</a>( 4 ),
<span class="comment">//_color(1,1,1,1),</span>
<a class="code" href="structDiamond.html#ad97485f59f389debc8c56aa3ee7672c8">_lastCullFrame</a>( 0 ),
<a class="code" href="structDiamond.html#a130976951b5e6b73f7aae332646e4c67">_queuedForSplit</a>( <span class="keyword">false</span> ),
<a class="code" href="structDiamond.html#a8f159ffac485b90b8b5ec9464ae59b73">_queuedForMerge</a>( <span class="keyword">false</span> ),
<a class="code" href="structDiamond.html#a4a638b0650d0a779511edf697a8fc372">_queuedForImage</a>( <span class="keyword">false</span> ),
<a class="code" href="structDiamond.html#a92a87b307ac7016450fd04e0d8b6f8fa">_drawableDirty</a>( <span class="keyword">false</span> ),
<a class="code" href="structDiamond.html#a4ed15b87b3f9d49b0a3ee66d2a99dd45">_bsComputed</a>( <span class="keyword">false</span> ),
<a class="code" href="structDiamond.html#a21f526b37a6ce9c26d973d3fa0476de9">_isSplit</a>( <span class="keyword">false</span> ),
<a class="code" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a>( level % 2 == 1 ),
<a class="code" href="structDiamond.html#a878a7541c0d5285ef650163c7b050f44">_currentStateSetOwner</a>( 0L ),
<a class="code" href="structDiamond.html#a41c62c5b6213f46b5d1c529edefa37d8">_targetStateSetOwner</a>( 0L ),
<a class="code" href="structDiamond.html#a9e9db1f8af56e5531a0deeccf306c585">_targetStateSetRevision</a>( -1 ),
<a class="code" href="structDiamond.html#a59f4e155f9bd71802a449f531e2f6917">_hasFinalImage</a>( <span class="keyword">false</span> )
{
    this-&gt;setThreadSafeRefUnref(<span class="keyword">true</span>);

    <span class="comment">// only ODD-numbered levels have actual geometry.</span>
    <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a> )
    {
        <a class="code" href="structDiamond.html#a644a820d288559443b559d9157e32b49">_stateSet</a> = <span class="keyword">new</span> <a class="code" href="structRevisionedStateSet.html">RevisionedStateSet</a>();
        <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a> = <span class="keyword">new</span> <a class="code" href="classAMRDrawable.html">AMRDrawable</a>();
    }

    <a class="code" href="Diamond_8cpp.html#a167763e0d09d46d9f8b4adbae27ed197">s_numDiamonds</a>++;
    <span class="comment">//OE_NOTICE &lt;&lt; s_numDiamonds &lt;&lt; &quot; ... &quot; &lt;&lt; std::endl;</span>

    <span class="comment">//if ( _key.valid() )</span>
    <span class="comment">//    OE_NOTICE &lt;&lt; &quot;New Diamond: &quot; &lt;&lt; _key-&gt;str() &lt;&lt; std::endl;</span>

    <span class="comment">//if ( _key.valid() )</span>
    <span class="comment">//    OE_NOTICE &lt;&lt; _name &lt;&lt; &quot;: &quot; &lt;&lt; _key-&gt;str() &lt;&lt; &quot; : &quot; &lt;&lt; _key-&gt;getGeoExtent().toString() &lt;&lt; std::endl;</span>

}
</pre></div>
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a0bb775bc54a9a4781586a148f1743b61_icgraph.png" border="0" usemap="#structDiamond_a0bb775bc54a9a4781586a148f1743b61_icgraph" alt=""/></div>
<map name="structDiamond_a0bb775bc54a9a4781586a148f1743b61_icgraph" id="structDiamond_a0bb775bc54a9a4781586a148f1743b61_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96" title="Diamond::getOrCreateChild" alt="" coords="191,56,372,85"/><area shape="rect" id="node5" href="structDiamond.html#ae2f620bf2b10a6313abd1f593115f8e0" title="Diamond::seed" alt="" coords="423,29,532,59"/><area shape="rect" id="node8" href="structDiamond.html#ac292d950221eb5e48916943adb2363c5" title="Diamond::split" alt="" coords="424,83,531,112"/><area shape="rect" id="node10" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="583,83,732,112"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aae7f81dd0362b91704578a8b5fff89e2"></a><!-- doxytag: member="Diamond::~Diamond" ref="aae7f81dd0362b91704578a8b5fff89e2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Diamond::~Diamond </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00083">83</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="Diamond_8cpp.html#a167763e0d09d46d9f8b4adbae27ed197">s_numDiamonds</a>--;
    <span class="comment">//OE_NOTICE &lt;&lt; s_numDiamonds &lt;&lt; &quot; ... &quot; &lt;&lt; std::endl;</span>
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a67a49af4cc8109874fa5e09d4946abf8"></a><!-- doxytag: member="Diamond::activate" ref="a67a49af4cc8109874fa5e09d4946abf8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Diamond::activate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00096">96</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// this can only be called once all ancestors are established</span>

    <a class="code" href="structDiamond.html#ae819cc68d85a3bcc735f985688eb401f">_status</a> = <a class="code" href="Diamond.html#a14f2cb6b85d7de86736527d3a14f98b7a33cf1d8ef1d06ee698a7fabf40eb3a7f">ACTIVE</a>;
    <a class="code" href="structDiamond.html#a92f8386bf6603e5146d0df6b0db0693c">computeBound</a>();

    <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a> )
    {
        <span class="comment">// assign this diamond the stateset of the appropriate quadtree ancestor:</span>
        <span class="keywordtype">int</span> stateSetLevel = (int)<a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a>;
        <span class="keywordflow">if</span> ( stateSetLevel &lt; (<span class="keywordtype">int</span>)<a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#a63244b349b18420f92ed3d27e6e5d791">_minActiveLevel</a> )
            stateSetLevel = <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#a63244b349b18420f92ed3d27e6e5d791">_minActiveLevel</a>;

        <span class="comment">// obtain a pointer to the Diamond that owns the StateSet we wish to use:</span>
        <a class="code" href="structDiamond.html#a41c62c5b6213f46b5d1c529edefa37d8">_targetStateSetOwner</a> = <span class="keyword">this</span>;
        <span class="keywordflow">while</span>( <a class="code" href="structDiamond.html#a41c62c5b6213f46b5d1c529edefa37d8">_targetStateSetOwner</a>-&gt;<a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a> &gt; stateSetLevel )
            <a class="code" href="structDiamond.html#a41c62c5b6213f46b5d1c529edefa37d8">_targetStateSetOwner</a> = <a class="code" href="structDiamond.html#a41c62c5b6213f46b5d1c529edefa37d8">_targetStateSetOwner</a>-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>].get();

        <span class="comment">// since that StateSet might not be populated yet, backtrack from there to find the</span>
        <span class="comment">// first available populated StateSet. This will serve as a temporary &quot;placeholder&quot;</span>
        <span class="comment">// until our target stateset is ready (i.e. the textures etc are loaded).</span>
        <a class="code" href="structDiamond.html#a878a7541c0d5285ef650163c7b050f44">_currentStateSetOwner</a> = <a class="code" href="structDiamond.html#a41c62c5b6213f46b5d1c529edefa37d8">_targetStateSetOwner</a>;
        <span class="keywordflow">while</span>( !<a class="code" href="structDiamond.html#a878a7541c0d5285ef650163c7b050f44">_currentStateSetOwner</a>-&gt;<a class="code" href="structDiamond.html#a59f4e155f9bd71802a449f531e2f6917">_hasFinalImage</a> &amp;&amp; <a class="code" href="structDiamond.html#a878a7541c0d5285ef650163c7b050f44">_currentStateSetOwner</a>-&gt;<a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a> &gt; <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#a63244b349b18420f92ed3d27e6e5d791">_minActiveLevel</a> )
        {
            <a class="code" href="structDiamond.html#a878a7541c0d5285ef650163c7b050f44">_currentStateSetOwner</a> = <a class="code" href="structDiamond.html#a878a7541c0d5285ef650163c7b050f44">_currentStateSetOwner</a>-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>].get();
        }

        <span class="comment">// assign the stateset to this Diamond&#39;s geometry.</span>
        <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;_stateSet = <a class="code" href="structDiamond.html#a878a7541c0d5285ef650163c7b050f44">_currentStateSetOwner</a>-&gt;<a class="code" href="structDiamond.html#a644a820d288559443b559d9157e32b49">_stateSet</a>.get();

        <span class="comment">// synchronize with the target state set. By doing this, we will detect when the target stateset</span>
        <span class="comment">// does finally get populated, and at that point we can replace the placeholder stateset with</span>
        <span class="comment">// the final stateset. (This check occurs in Diamond::cull.)</span>
        <a class="code" href="structDiamond.html#a41c62c5b6213f46b5d1c529edefa37d8">_targetStateSetOwner</a>-&gt;<a class="code" href="structDiamond.html#a644a820d288559443b559d9157e32b49">_stateSet</a>-&gt;sync( <a class="code" href="structDiamond.html#a9e9db1f8af56e5531a0deeccf306c585">_targetStateSetRevision</a> );

<span class="preprocessor">#ifdef USE_TEXTURES</span>
<span class="preprocessor"></span>
        <span class="comment">// finally, queue up a request to populate the stateset if necessary.</span>
        <span class="keywordflow">if</span> ( !<a class="code" href="structDiamond.html#a41c62c5b6213f46b5d1c529edefa37d8">_targetStateSetOwner</a>-&gt;<a class="code" href="structDiamond.html#a59f4e155f9bd71802a449f531e2f6917">_hasFinalImage</a> )
        {
            <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#a7533ed486cffaa5b6f22d392b02e43c2">queueForImage</a>( <a class="code" href="structDiamond.html#a41c62c5b6213f46b5d1c529edefa37d8">_targetStateSetOwner</a>, 1.0f );
        }    

<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    }
}
</pre></div>
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a67a49af4cc8109874fa5e09d4946abf8_cgraph.png" border="0" usemap="#structDiamond_a67a49af4cc8109874fa5e09d4946abf8_cgraph" alt=""/></div>
<map name="structDiamond_a67a49af4cc8109874fa5e09d4946abf8_cgraph" id="structDiamond_a67a49af4cc8109874fa5e09d4946abf8_cgraph">
<area shape="rect" id="node3" href="structDiamond.html#a92f8386bf6603e5146d0df6b0db0693c" title="Diamond::computeBound" alt="" coords="199,5,367,35"/><area shape="rect" id="node9" href="classMeshManager.html#a7533ed486cffaa5b6f22d392b02e43c2" title="MeshManager::queueForImage" alt="" coords="181,59,384,88"/><area shape="rect" id="node5" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47" title="Diamond::node" alt="" coords="433,5,543,35"/><area shape="rect" id="node7" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d" title="MeshManager::node" alt="" coords="593,5,732,35"/></map>
</div>
</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a67a49af4cc8109874fa5e09d4946abf8_icgraph.png" border="0" usemap="#structDiamond_a67a49af4cc8109874fa5e09d4946abf8_icgraph" alt=""/></div>
<map name="structDiamond_a67a49af4cc8109874fa5e09d4946abf8_icgraph" id="structDiamond_a67a49af4cc8109874fa5e09d4946abf8_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96" title="Diamond::getOrCreateChild" alt="" coords="183,56,364,85"/><area shape="rect" id="node5" href="structDiamond.html#ae2f620bf2b10a6313abd1f593115f8e0" title="Diamond::seed" alt="" coords="415,29,524,59"/><area shape="rect" id="node8" href="structDiamond.html#ac292d950221eb5e48916943adb2363c5" title="Diamond::split" alt="" coords="416,83,523,112"/><area shape="rect" id="node10" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="575,83,724,112"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a92f8386bf6603e5146d0df6b0db0693c"></a><!-- doxytag: member="Diamond::computeBound" ref="a92f8386bf6603e5146d0df6b0db0693c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Diamond::computeBound </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>recalcuates the squared radius of thid diamond. </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00376">376</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// in vert space.</span>
    <a class="code" href="structDiamond.html#a03b6bd559d20cc32e4af2f5e451ab404">_visibleBound</a> = osg::BoundingSphere( <a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>()._vertex, 1.0 );
    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;4; i++) 
        <a class="code" href="structDiamond.html#a03b6bd559d20cc32e4af2f5e451ab404">_visibleBound</a>.expandRadiusBy( <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[i]-&gt;node()._vertex );

    <a class="code" href="structDiamond.html#aa782111d32fb1965c1d12246d490ddd0">_extendedBound</a> = <a class="code" href="structDiamond.html#a03b6bd559d20cc32e4af2f5e451ab404">_visibleBound</a>;
    <a class="code" href="structDiamond.html#aa782111d32fb1965c1d12246d490ddd0">_extendedBound</a>.radius() = <a class="code" href="structDiamond.html#aa782111d32fb1965c1d12246d490ddd0">_extendedBound</a>.radius() * sqrt(2.0) * 2.0;

    <a class="code" href="structDiamond.html#a4ed15b87b3f9d49b0a3ee66d2a99dd45">_bsComputed</a> = <span class="keyword">true</span>;
}
</pre></div>
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a92f8386bf6603e5146d0df6b0db0693c_cgraph.png" border="0" usemap="#structDiamond_a92f8386bf6603e5146d0df6b0db0693c_cgraph" alt=""/></div>
<map name="structDiamond_a92f8386bf6603e5146d0df6b0db0693c_cgraph" id="structDiamond_a92f8386bf6603e5146d0df6b0db0693c_cgraph">
<area shape="rect" id="node3" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47" title="Diamond::node" alt="" coords="225,5,335,35"/><area shape="rect" id="node5" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d" title="MeshManager::node" alt="" coords="385,5,524,35"/></map>
</div>
</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a92f8386bf6603e5146d0df6b0db0693c_icgraph.png" border="0" usemap="#structDiamond_a92f8386bf6603e5146d0df6b0db0693c_icgraph" alt=""/></div>
<map name="structDiamond_a92f8386bf6603e5146d0df6b0db0693c_icgraph" id="structDiamond_a92f8386bf6603e5146d0df6b0db0693c_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#a67a49af4cc8109874fa5e09d4946abf8" title="Diamond::activate" alt="" coords="247,56,375,85"/><area shape="rect" id="node14" href="structDiamond.html#a5ae68b430b173c2fc5677a6444d7ec6c" title="Diamond::extendedBound" alt="" coords="225,109,396,139"/><area shape="rect" id="node18" href="structDiamond.html#a85645bf231669dc38712b791961f895d" title="Diamond::visibleBound" alt="" coords="233,163,388,192"/><area shape="rect" id="node5" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96" title="Diamond::getOrCreateChild" alt="" coords="447,56,628,85"/><area shape="rect" id="node7" href="structDiamond.html#ae2f620bf2b10a6313abd1f593115f8e0" title="Diamond::seed" alt="" coords="679,29,788,59"/><area shape="rect" id="node10" href="structDiamond.html#ac292d950221eb5e48916943adb2363c5" title="Diamond::split" alt="" coords="680,83,787,112"/><area shape="rect" id="node12" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="839,83,988,112"/><area shape="rect" id="node16" href="structDiamond.html#a432a0496ce229e06b336e900dc5af518" title="Diamond::cull" alt="" coords="487,136,588,165"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a432a0496ce229e06b336e900dc5af518"></a><!-- doxytag: member="Diamond::cull" ref="a432a0496ce229e06b336e900dc5af518" args="(osgUtil::CullVisitor *cv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int Diamond::cull </td>
          <td>(</td>
          <td class="paramtype">osgUtil::CullVisitor *&#160;</td>
          <td class="paramname"><em>cv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>update the culling status of the diamond and its children based on a new eyepoint. </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00242">242</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// NOTE:</span>
    <span class="comment">// the problem here is that if a diamond gets culled, none of its decendents are </span>
    <span class="comment">// considered for merging. Perhaps a CULL-OUT means immediate merge-queueing? Or,</span>
    <span class="comment">// maybe we should check the traversal-number-delta. And if it&#39;s more than X,</span>
    <span class="comment">// queueForMerge.</span>

    <span class="comment">// if this diamond if maked INACTIVE, we have a problem</span>
    <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#ae819cc68d85a3bcc735f985688eb401f">_status</a> == <a class="code" href="Diamond.html#a14f2cb6b85d7de86736527d3a14f98b7a3ff8ba88da6f8947ab7c22b7825c6bb6">INACTIVE</a> )
    {
        <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <span class="stringliteral">&quot;ILLEGAL STATE: &quot;</span> &lt;&lt; <a class="code" href="structDiamond.html#ae17dd63b89a5fa24bcde717db4b6e5e8">_name</a> &lt;&lt; <span class="stringliteral">&quot; is marked INACTIVE but is being tested for cull!&quot;</span> &lt;&lt; std::endl;
        <span class="keywordflow">return</span> 0;
    }

    <span class="comment">// trivial rejection: already traversed this diamond (multiple parenting)</span>
    <span class="keywordflow">if</span> ( cv-&gt;getTraversalNumber() &lt;= <a class="code" href="structDiamond.html#ad97485f59f389debc8c56aa3ee7672c8">_lastCullFrame</a> )
        <span class="keywordflow">return</span> 0;

    <span class="comment">// record the framestamp so we don&#39;t cull more than once</span>
    <a class="code" href="structDiamond.html#ad97485f59f389debc8c56aa3ee7672c8">_lastCullFrame</a> = cv-&gt;getTraversalNumber();
    
    <span class="keyword">const</span> osg::Vec3d&amp; eye = cv-&gt;getEyePoint();
    <span class="keywordtype">float</span> range = (eye - <a class="code" href="structDiamond.html#a85645bf231669dc38712b791961f895d">visibleBound</a>().center()).length();

    <span class="comment">// NOTE: we never cull intermediate (non-geometry) diamonds.</span>

    <span class="comment">// if this geometry diamond is outside the extended bounds, it is eligible for merge AND</span>
    <span class="comment">// the diamond is not visible.</span>
    <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a> &amp;&amp; cv-&gt;isCulled( <a class="code" href="structDiamond.html#a5ae68b430b173c2fc5677a6444d7ec6c">extendedBound</a>() ) )
    {
        <span class="comment">// start merging the children if this diamond fails the visibility tests.</span>
        <span class="keywordflow">if</span> (<a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a> &gt;= <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#a63244b349b18420f92ed3d27e6e5d791">_minActiveLevel</a> &amp;&amp; 
            _level &lt;  _mesh-&gt;_maxActiveLevel &amp;&amp; 
            <a class="code" href="structDiamond.html#a21f526b37a6ce9c26d973d3fa0476de9">_isSplit</a> &amp;&amp; 
            !<a class="code" href="structDiamond.html#a8f159ffac485b90b8b5ec9464ae59b73">_queuedForMerge</a> &amp;&amp; 
            !<a class="code" href="structDiamond.html#a130976951b5e6b73f7aae332646e4c67">_queuedForSplit</a> )
        {
            <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#a27d41073dc8c25a91a2b2ad5887a2ddb">queueForMerge</a>( <span class="keyword">this</span>, range );
            <span class="comment">//OE_NOTICE &lt;&lt; std::fixed &lt;&lt; &quot;isCUlled=false, range=&quot; &lt;&lt; range &lt;&lt; &quot;, radius=&quot; &lt;&lt; _bs.radius() &lt;&lt; std::endl;</span>
        }
        <span class="keywordflow">return</span> 0;
    }

    <span class="comment">// Back-face culling:</span>
    <span class="comment">// If the dot product of the eyepoint with each of the four ancestors is negative, then the</span>
    <span class="comment">// entire diamond is facing away from the camera and can be culled.</span>
    <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a> )
    {
        <span class="keywordtype">int</span> i;
        <span class="keywordflow">for</span>( i=0; i&lt;4; ++i )
        {
            osg::Vec3d eye_vec = eye - <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[i]-&gt;node()._vertex;
            <span class="keywordtype">double</span> len = eye_vec.length();
            <span class="keywordflow">if</span> ( len &lt;= <a class="code" href="structDiamond.html#a85645bf231669dc38712b791961f895d">visibleBound</a>().radius() ) <span class="keywordflow">break</span>; <span class="comment">// if we&#39;re inside the radius, bail</span>
            <span class="keywordtype">double</span> dev = ( eye_vec * <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[i]-&gt;node()._normal ) / len;
            <span class="keywordflow">if</span> ( dev &gt;= <a class="code" href="Diamond_8cpp.html#ab3a2e48ea0f22367d9d3a8ba0ba9a273">DEVIATION</a> ) <span class="keywordflow">break</span>;
        }
        <span class="keywordflow">if</span> ( i == 4 )
            <span class="keywordflow">return</span> 0;
    }

    <span class="comment">// this will determine whether we actually add this diamond to the draw list later. we still</span>
    <span class="comment">// have to traverse children that are in the extended bounds (even if they&#39;re not in the view</span>
    <span class="comment">// frustum) in order to satifsy split requirements.</span>
    <span class="keywordtype">bool</span> inVisibleFrustum =
        <a class="code" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a> &amp;&amp; !cv-&gt;isCulled( <a class="code" href="structDiamond.html#a85645bf231669dc38712b791961f895d">visibleBound</a>() );

    <span class="comment">// at this point, culling is now complete for this diamond.</span>

<span class="preprocessor">#ifdef USE_TEXTURES</span>
<span class="preprocessor"></span>
    <span class="comment">// check to see whether the target stateset is &quot;dirty&quot;.</span>
    <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a> &amp;&amp; <a class="code" href="structDiamond.html#a41c62c5b6213f46b5d1c529edefa37d8">_targetStateSetOwner</a>-&gt;<a class="code" href="structDiamond.html#a644a820d288559443b559d9157e32b49">_stateSet</a>-&gt;outOfSyncWith( <a class="code" href="structDiamond.html#a9e9db1f8af56e5531a0deeccf306c585">_targetStateSetRevision</a> ) )
    {
        <span class="comment">// flags the primitive set for regeneration</span>
        this-&gt;<a class="code" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc">dirty</a>();
    }

<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
    <span class="comment">// traverse the diamond&#39;s children.</span>
    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> numChildren = 0;
    <span class="keywordflow">for</span>( <a class="code" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> c = 0; c &lt; <a class="code" href="structDiamond.html#a3d610442052a9ec0e874e56768f79a8a">_childValence</a>; ++c )
    {
        <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[c].valid() )
        {
            ++numChildren;
            <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[c]-&gt;cull( cv );
        }
    }

    <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a> &amp;&amp; <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;_triangles.size() == 0 &amp;&amp; numChildren &lt; <a class="code" href="structDiamond.html#a3d610442052a9ec0e874e56768f79a8a">_childValence</a> )
        <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <span class="stringliteral">&quot;BOOGER&quot;</span> &lt;&lt; std::endl;

    <span class="comment">//if ( _hasGeometry &amp;&amp; _amrDrawable-&gt;_triangles.size() &gt; 0 )</span>
    <span class="keywordflow">if</span> ( inVisibleFrustum )
    {
        <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#a6c3f1f3f1050e5d204556b3e40955a9f">_amrDrawList</a>.push_back( <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>.get() );
    }
    
    <span class="comment">// culling is complete. next we will check to see if we need to split this diamond</span>
    <span class="comment">// based on LOD range.</span>
    <span class="comment">// FUTURE: splitting will depend on a couple factors: max split level (resolution),</span>
    <span class="comment">// available data, frame rate, etc.</span>
    <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a> &gt;= <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#a63244b349b18420f92ed3d27e6e5d791">_minActiveLevel</a> &amp;&amp; _level &lt; _mesh-&gt;_maxActiveLevel )
    {
        <span class="keywordflow">if</span> (!<a class="code" href="structDiamond.html#a21f526b37a6ce9c26d973d3fa0476de9">_isSplit</a> &amp;&amp; 
            range &lt; <a class="code" href="structDiamond.html#a5ae68b430b173c2fc5677a6444d7ec6c">extendedBound</a>().radius() * <a class="code" href="rivers_2engine__droam_2Common.html#ac21cb0c8fd5f49b4d26ac5d092b7c392">CULL_RANGE_FACTOR</a> &amp;&amp;
            !<a class="code" href="structDiamond.html#a130976951b5e6b73f7aae332646e4c67">_queuedForSplit</a> &amp;&amp;
            !<a class="code" href="structDiamond.html#a8f159ffac485b90b8b5ec9464ae59b73">_queuedForMerge</a> &amp;&amp;
            numChildren &lt; <a class="code" href="structDiamond.html#a3d610442052a9ec0e874e56768f79a8a">_childValence</a> )
        {
            <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#aef113563928c68f6d46b4adc5e2f5d89">queueForSplit</a>( <span class="keyword">this</span>, -range );
            <a class="code" href="structDiamond.html#a8f159ffac485b90b8b5ec9464ae59b73">_queuedForMerge</a> = <span class="keyword">false</span>;
        }

        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (
            <a class="code" href="structDiamond.html#a21f526b37a6ce9c26d973d3fa0476de9">_isSplit</a> &amp;&amp;
            range &gt; <a class="code" href="structDiamond.html#a5ae68b430b173c2fc5677a6444d7ec6c">extendedBound</a>().radius() * <a class="code" href="rivers_2engine__droam_2Common.html#ac21cb0c8fd5f49b4d26ac5d092b7c392">CULL_RANGE_FACTOR</a> &amp;&amp;
            !<a class="code" href="structDiamond.html#a130976951b5e6b73f7aae332646e4c67">_queuedForSplit</a> &amp;&amp;
            !<a class="code" href="structDiamond.html#a8f159ffac485b90b8b5ec9464ae59b73">_queuedForMerge</a> &amp;&amp;
            numChildren &gt; 0 )
        {
            <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#a27d41073dc8c25a91a2b2ad5887a2ddb">queueForMerge</a>( <span class="keyword">this</span>, range );
            <a class="code" href="structDiamond.html#a130976951b5e6b73f7aae332646e4c67">_queuedForSplit</a> = <span class="keyword">false</span>;
        }
    }

    <span class="keywordflow">return</span> 0;
    <span class="comment">//return _numGeometriesAdded;</span>
}
</pre></div>
<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a432a0496ce229e06b336e900dc5af518_cgraph.png" border="0" usemap="#structDiamond_a432a0496ce229e06b336e900dc5af518_cgraph" alt=""/></div>
<map name="structDiamond_a432a0496ce229e06b336e900dc5af518_cgraph" id="structDiamond_a432a0496ce229e06b336e900dc5af518_cgraph">
<area shape="rect" id="node3" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc" title="Diamond::dirty" alt="" coords="205,165,312,195"/><area shape="rect" id="node25" href="structDiamond.html#a5ae68b430b173c2fc5677a6444d7ec6c" title="Diamond::extendedBound" alt="" coords="173,219,344,248"/><area shape="rect" id="node30" href="classMeshManager.html#a27d41073dc8c25a91a2b2ad5887a2ddb" title="MeshManager::queueForMerge" alt="" coords="157,272,360,301"/><area shape="rect" id="node32" href="classMeshManager.html#aef113563928c68f6d46b4adc5e2f5d89" title="MeshManager::queueForSplit" alt="" coords="163,325,355,355"/><area shape="rect" id="node34" href="structDiamond.html#a85645bf231669dc38712b791961f895d" title="Diamond::visibleBound" alt="" coords="181,379,336,408"/><area shape="rect" id="node5" href="classMeshManager.html#ad166dbb08e9178a4d830847c91f711dc" title="MeshManager::queueForRefresh" alt="" coords="409,192,620,221"/><area shape="rect" id="node7" href="structDiamond.html#a99d5910fcf59bf2fb94ea4a4e15c0373" title="Diamond::refreshDrawable" alt="" coords="427,139,603,168"/><area shape="rect" id="node9" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4" title="osgEarth::TileKey::getExtent" alt="" coords="671,59,860,88"/><area shape="rect" id="node11" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="672,112,859,141"/><area shape="rect" id="node13" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47" title="Diamond::node" alt="" coords="711,272,820,301"/><area shape="rect" id="node17" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="675,165,856,195"/><area shape="rect" id="node21" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="676,219,855,248"/><area shape="rect" id="node23" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="676,5,855,35"/><area shape="rect" id="node15" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d" title="MeshManager::node" alt="" coords="965,272,1104,301"/><area shape="rect" id="node19" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="909,165,1160,195"/><area shape="rect" id="node27" href="structDiamond.html#a92f8386bf6603e5146d0df6b0db0693c" title="Diamond::computeBound" alt="" coords="431,272,599,301"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa6782b05916e296943538332d1fe3abc"></a><!-- doxytag: member="Diamond::dirty" ref="aa6782b05916e296943538332d1fe3abc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Diamond::dirty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>marks this diamond's primitive set as needing a refresh. </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00442">442</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// queue this diamond for a primitive set refresh .. but only if it actually has geometry.</span>
    <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a> &amp;&amp; <a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a> &gt;= <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#af5fb661a123d0ee342e718035e11ac62">_minGeomLevel</a> )
    {
        <span class="keywordflow">if</span> ( !<a class="code" href="structDiamond.html#a92a87b307ac7016450fd04e0d8b6f8fa">_drawableDirty</a> )
        {
            <a class="code" href="structDiamond.html#a92a87b307ac7016450fd04e0d8b6f8fa">_drawableDirty</a> = <span class="keyword">true</span>;
<span class="preprocessor">#ifdef USE_DIRTY_QUEUE</span>
<span class="preprocessor"></span>            <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#ad166dbb08e9178a4d830847c91f711dc">queueForRefresh</a>( <span class="keyword">this</span> );
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>            <a class="code" href="structDiamond.html#a99d5910fcf59bf2fb94ea4a4e15c0373">refreshDrawable</a>();
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
    }
    <span class="keywordflow">else</span>
    {
        <span class="comment">//OE_WARN &lt;&lt; &quot;ILLEGAL: dirty(): _hasGeometry = &quot; &lt;&lt; _hasGeometry &lt;&lt; &quot;, _level = &quot; &lt;&lt; _level &lt;&lt; std::endl;</span>
    }
}
</pre></div>
<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_aa6782b05916e296943538332d1fe3abc_cgraph.png" border="0" usemap="#structDiamond_aa6782b05916e296943538332d1fe3abc_cgraph" alt=""/></div>
<map name="structDiamond_aa6782b05916e296943538332d1fe3abc_cgraph" id="structDiamond_aa6782b05916e296943538332d1fe3abc_cgraph">
<area shape="rect" id="node3" href="classMeshManager.html#ad166dbb08e9178a4d830847c91f711dc" title="MeshManager::queueForRefresh" alt="" coords="161,85,372,115"/><area shape="rect" id="node5" href="structDiamond.html#a99d5910fcf59bf2fb94ea4a4e15c0373" title="Diamond::refreshDrawable" alt="" coords="179,139,355,168"/><area shape="rect" id="node7" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4" title="osgEarth::TileKey::getExtent" alt="" coords="423,5,612,35"/><area shape="rect" id="node9" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="424,59,611,88"/><area shape="rect" id="node11" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47" title="Diamond::node" alt="" coords="463,112,572,141"/><area shape="rect" id="node15" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="427,165,608,195"/><area shape="rect" id="node19" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="428,219,607,248"/><area shape="rect" id="node21" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="428,272,607,301"/><area shape="rect" id="node13" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d" title="MeshManager::node" alt="" coords="717,112,856,141"/><area shape="rect" id="node17" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="661,165,912,195"/></map>
</div>
</p>

<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_aa6782b05916e296943538332d1fe3abc_icgraph.png" border="0" usemap="#structDiamond_aa6782b05916e296943538332d1fe3abc_icgraph" alt=""/></div>
<map name="structDiamond_aa6782b05916e296943538332d1fe3abc_icgraph" id="structDiamond_aa6782b05916e296943538332d1fe3abc_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#a432a0496ce229e06b336e900dc5af518" title="Diamond::cull" alt="" coords="187,5,288,35"/><area shape="rect" id="node5" href="structDiamond.html#a63181f0cbc2a707e9653a1b5ae369f24" title="Diamond::merge" alt="" coords="396,85,513,115"/><area shape="rect" id="node9" href="structDiamond.html#ae1ef02049763861f989d9a37306071ca" title="Diamond::removeChild" alt="" coords="160,109,315,139"/><area shape="rect" id="node12" href="structDiamond.html#af63b93743f9cbdf323d644628b2aca37" title="Diamond::setChild" alt="" coords="172,163,303,192"/><area shape="rect" id="node19" href="structDiamond.html#ac292d950221eb5e48916943adb2363c5" title="Diamond::split" alt="" coords="597,215,704,244"/><area shape="rect" id="node7" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="756,151,905,180"/><area shape="rect" id="node14" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96" title="Diamond::getOrCreateChild" alt="" coords="364,163,545,192"/><area shape="rect" id="node16" href="structDiamond.html#ae2f620bf2b10a6313abd1f593115f8e0" title="Diamond::seed" alt="" coords="596,161,705,191"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab4e21947607715ecb9611c927a402d3e"></a><!-- doxytag: member="Diamond::dump" ref="ab4e21947607715ecb9611c927a402d3e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Diamond::dump </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>print debugging info </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00406">406</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="Notify.html#a29c29c62ae325bf5871ce5b1695c1720">OE_NOTICE</a>
        &lt;&lt; <span class="stringliteral">&quot;Diamond &quot;</span> &lt;&lt; <a class="code" href="structDiamond.html#ae17dd63b89a5fa24bcde717db4b6e5e8">_name</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span> <span class="comment">//&quot; (&quot; &lt;&lt; _v.x() &lt;&lt; &quot;,&quot; &lt;&lt; _v.y() &lt;&lt; &quot;,&quot; &lt;&lt; _v.z() &lt;&lt; &quot;) :\n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;  level    = &quot;</span> &lt;&lt; <a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;  parent_R = &quot;</span> &lt;&lt; <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a0138b2a9f89e5add2d2a64ced248f343">PARENT_R</a>]-&gt;_name &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;  parent_L = &quot;</span> &lt;&lt; <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696ae86ff5449523a391fcae04e43f7ff6f7">PARENT_L</a>]-&gt;_name &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;  quadtree = &quot;</span> &lt;&lt; <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>]-&gt;_name &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;  gdparent = &quot;</span> &lt;&lt; <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a6814cf04211862730485bf2975a0be56">GDPARENT</a>]-&gt;_name &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;  children = &quot;</span>;
    
    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="structDiamond.html#a3d610442052a9ec0e874e56768f79a8a">_childValence</a>; ++i )
        <a class="code" href="Notify.html#a29c29c62ae325bf5871ce5b1695c1720">OE_NOTICE</a> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;:&lt;&quot;</span> &lt;&lt; ( <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[i].valid()? <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[i]-&gt;<a class="code" href="structDiamond.html#ae17dd63b89a5fa24bcde717db4b6e5e8">_name</a> : <span class="stringliteral">&quot;&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;&gt;  &quot;</span>;

    <a class="code" href="Notify.html#a29c29c62ae325bf5871ce5b1695c1720">OE_NOTICE</a> &lt;&lt; std::endl &lt;&lt; std::endl;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5ae68b430b173c2fc5677a6444d7ec6c"></a><!-- doxytag: member="Diamond::extendedBound" ref="a5ae68b430b173c2fc5677a6444d7ec6c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const osg::BoundingSphere &amp; Diamond::extendedBound </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00398">398</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( !<a class="code" href="structDiamond.html#a4ed15b87b3f9d49b0a3ee66d2a99dd45">_bsComputed</a> )
        <span class="keyword">const_cast&lt;</span><a class="code" href="structDiamond.html">Diamond</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="structDiamond.html#a92f8386bf6603e5146d0df6b0db0693c">computeBound</a>();
    <span class="keywordflow">return</span> <a class="code" href="structDiamond.html#aa782111d32fb1965c1d12246d490ddd0">_extendedBound</a>;
}
</pre></div>
<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a5ae68b430b173c2fc5677a6444d7ec6c_cgraph.png" border="0" usemap="#structDiamond_a5ae68b430b173c2fc5677a6444d7ec6c_cgraph" alt=""/></div>
<map name="structDiamond_a5ae68b430b173c2fc5677a6444d7ec6c_cgraph" id="structDiamond_a5ae68b430b173c2fc5677a6444d7ec6c_cgraph">
<area shape="rect" id="node3" href="structDiamond.html#a92f8386bf6603e5146d0df6b0db0693c" title="Diamond::computeBound" alt="" coords="228,5,396,35"/><area shape="rect" id="node5" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47" title="Diamond::node" alt="" coords="447,5,556,35"/><area shape="rect" id="node7" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d" title="MeshManager::node" alt="" coords="607,5,745,35"/></map>
</div>
</p>

<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a5ae68b430b173c2fc5677a6444d7ec6c_icgraph.png" border="0" usemap="#structDiamond_a5ae68b430b173c2fc5677a6444d7ec6c_icgraph" alt=""/></div>
<map name="structDiamond_a5ae68b430b173c2fc5677a6444d7ec6c_icgraph" id="structDiamond_a5ae68b430b173c2fc5677a6444d7ec6c_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#a432a0496ce229e06b336e900dc5af518" title="Diamond::cull" alt="" coords="228,5,329,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a34e1efa7ccc33b456902c21be7fa3e24"></a><!-- doxytag: member="Diamond::getIndexOfChild" ref="a34e1efa7ccc33b456902c21be7fa3e24" args="(Diamond *child)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> Diamond::getIndexOfChild </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDiamond.html">Diamond</a> *&#160;</td>
          <td class="paramname"><em>child</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>gets the index of a child diamond in teh children array, or return _numChildren if not found </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00680">680</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">for</span>( <a class="code" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> c = 0; c &lt; <a class="code" href="structDiamond.html#a3d610442052a9ec0e874e56768f79a8a">_childValence</a>; ++c )
    {
        <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[c].<span class="keyword">get</span>() == child )
            <span class="keywordflow">return</span> c;
    }
    <span class="keywordflow">return</span> -1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aeb9c76114fbe02e55a0d41fa6062b11d"></a><!-- doxytag: member="Diamond::getIndexOfChildEdgeStartingAt" ref="aeb9c76114fbe02e55a0d41fa6062b11d" args="(NodeIndex vi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> Diamond::getIndexOfChildEdgeStartingAt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rivers_2engine__droam_2Common.html#a15280048c91257326bb356142ebe4ee6">NodeIndex</a>&#160;</td>
          <td class="paramname"><em>vi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the child index of the diamond edge that begins at the specified vertex. </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00712">712</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( vi == <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>]-&gt;<a class="code" href="structDiamond.html#a53395e2aa6e55d422f4bbadd2dbc16e5">_vi</a> ) <span class="keywordflow">return</span> 0;
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( vi == <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a0138b2a9f89e5add2d2a64ced248f343">PARENT_R</a>]-&gt;<a class="code" href="structDiamond.html#a53395e2aa6e55d422f4bbadd2dbc16e5">_vi</a> ) <span class="keywordflow">return</span> 1;
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( vi == <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a6814cf04211862730485bf2975a0be56">GDPARENT</a>]-&gt;<a class="code" href="structDiamond.html#a53395e2aa6e55d422f4bbadd2dbc16e5">_vi</a> ) <span class="keywordflow">return</span> 2;
    <span class="keywordflow">else</span> <span class="keywordflow">return</span> 3;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad8655e5f02f59782bb5a83f48a76d8aa"></a><!-- doxytag: member="Diamond::getNeighbor" ref="ad8655e5f02f59782bb5a83f48a76d8aa" args="(ChildIndex c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDiamond.html">Diamond</a> * Diamond::getNeighbor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a>&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets this diamond's neighbor across child-c boundary, returning NULL if it does not exist. </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00691">691</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{   
    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> parent = c &lt;= 1 ? <a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a0138b2a9f89e5add2d2a64ced248f343">PARENT_R</a> : <a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696ae86ff5449523a391fcae04e43f7ff6f7">PARENT_L</a>;
    <a class="code" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> myIndexInParent = <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[parent]-&gt;getIndexOfChild( <span class="keyword">this</span> );
    <a class="code" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> i = ( myIndexInParent + (c==0 || c==2? 1 : 3) ) % <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[parent]-&gt;_childValence;
    <span class="keywordflow">return</span> <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[parent]-&gt;_c[i].get();
}
</pre></div>
<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_ad8655e5f02f59782bb5a83f48a76d8aa_icgraph.png" border="0" usemap="#structDiamond_ad8655e5f02f59782bb5a83f48a76d8aa_icgraph" alt=""/></div>
<map name="structDiamond_ad8655e5f02f59782bb5a83f48a76d8aa_icgraph" id="structDiamond_ad8655e5f02f59782bb5a83f48a76d8aa_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#ae1ef02049763861f989d9a37306071ca" title="Diamond::removeChild" alt="" coords="205,7,360,36"/><area shape="rect" id="node9" href="structDiamond.html#ac292d950221eb5e48916943adb2363c5" title="Diamond::split" alt="" coords="415,59,521,88"/><area shape="rect" id="node5" href="structDiamond.html#a63181f0cbc2a707e9653a1b5ae369f24" title="Diamond::merge" alt="" coords="409,5,527,35"/><area shape="rect" id="node7" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="577,32,727,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7c2cc654038c8cdbd4f397f924731e96"></a><!-- doxytag: member="Diamond::getOrCreateChild" ref="a7c2cc654038c8cdbd4f397f924731e96" args="(ChildIndex c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDiamond.html">Diamond</a> * Diamond::getOrCreateChild </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a>&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets this diamond's child at index c, creating it if it does not exist. </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00721">721</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[c].valid() )
        <span class="keywordflow">return</span> <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[c].get();

    <span class="comment">// must force a split before creating children. dont&#39; need to call dirty() because</span>
    <span class="comment">// that gets called later by setChild()</span>
    <a class="code" href="structDiamond.html#a21f526b37a6ce9c26d973d3fa0476de9">_isSplit</a> = <span class="keyword">true</span>;

    <span class="comment">//OE_NOTICE &lt;&lt; &quot;Creating child of &quot; &lt;&lt; _name &lt;&lt; &quot; at &quot; &lt;&lt; c &lt;&lt; std::endl;</span>
    <span class="comment">//dump();</span>

    <a class="code" href="structDiamond.html">Diamond</a>* d  = <span class="keyword">this</span>;
    osg::ref_ptr&lt;Diamond&gt; d0 = <a class="code" href="structDiamond.html#ae4f06eac6fc1a10267d6a4772b7fff73">getOrCreateNeighbor</a>( c );

    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> whichParent = c &lt;= 1 ? <a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a0138b2a9f89e5add2d2a64ced248f343">PARENT_R</a> : <a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696ae86ff5449523a391fcae04e43f7ff6f7">PARENT_L</a>;
    osg::ref_ptr&lt;Diamond&gt; qa = d-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[whichParent].get(); <span class="comment">// the common parent</span>

    <a class="code" href="structDiamond.html">Diamond</a>* child = <span class="keyword">new</span> <a class="code" href="structDiamond.html#a0bb775bc54a9a4781586a148f1743b61">Diamond</a>( <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>, <a class="code" href="classosgEarth_1_1TileKey.html">TileKey</a>(), d-&gt;<a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a>+1 );
    <span class="comment">//Diamond* child = new Diamond( _mesh, 0L, d-&gt;_level+1,  &quot; (&quot;+_name+&quot; + &quot;+d0-&gt;_name+&quot;) &quot; );</span>

    <span class="comment">//OE_NOTICE &lt;&lt; &quot;...neighbor: &quot; &lt;&lt; d0-&gt;_name &lt;&lt; std::endl;   </span>
    <span class="comment">//OE_NOTICE &lt;&lt; &quot;...common parent: &quot; &lt;&lt; commonParent-&gt;_name &lt;&lt; std::endl;</span>
    
    <span class="comment">// assign child&#39;s quadtree ansector to d and d0&#39;s common parent.</span>
    child-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>] = qa.get();

    <span class="comment">// assign child&#39;s grandparent ansector pointer:</span>
    child-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a6814cf04211862730485bf2975a0be56">GDPARENT</a>] = c == 0 || c == 3 ? d-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>].get() : d-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a6814cf04211862730485bf2975a0be56">GDPARENT</a>].get();

    <span class="comment">// determine the child index of child in d0:</span>
    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> p = c==0 || c==2 ? <a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a> : <a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a6814cf04211862730485bf2975a0be56">GDPARENT</a>;
    <a class="code" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> c_d0 = d0-&gt;getIndexOfChildEdgeStartingAt( child-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[p]-&gt;_vi );
    <span class="keywordflow">if</span> ( c_d0 &lt; 0 )
    {
        <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <span class="stringliteral">&quot;Diamond: getOrCreateChild: illegal state, cannot find neighbor&#39;s child edge...crash immiment\n&quot;</span>;
    }

    <span class="comment">// assign the child&#39;s parent pointers</span>
    child-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a0138b2a9f89e5add2d2a64ced248f343">PARENT_R</a>] = (c == 0 || c == 2) ? d : d0.get();
    child-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696ae86ff5449523a391fcae04e43f7ff6f7">PARENT_L</a>] = (c == 0 || c == 2) ? d0.get() : d;

    <span class="comment">// how that we know the QUADTREE &amp; GDPARENT ancestors, create the diamond vertex.</span>
    osg::Vec3d newCoord = <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#a2a3d8289be35dfd59ab1086e5a6ae0e1">_manifold</a>-&gt;midpoint(
        child-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>]-&gt;node()._manifoldCoord,
        child-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a6814cf04211862730485bf2975a0be56">GDPARENT</a>]-&gt;node()._manifoldCoord );

    child-&gt;<a class="code" href="structDiamond.html#a884f386ba5b0f292ef278fbcdcb2ba38">setCoord</a>( newCoord );

    <span class="comment">// assign the new child in both d and d0:</span>
    d-&gt;<a class="code" href="structDiamond.html#af63b93743f9cbdf323d644628b2aca37">setChild</a>( c, child );
    d0-&gt;setChild( c_d0, child );

    <span class="keywordflow">if</span> ( child-&gt;<a class="code" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a> )
    {
        <span class="comment">// if this is a intermediate diamond, make a new key for the parent&#39;s quadtree descendant.</span>
        <span class="comment">// if this is a geometry diamond, the new intermediate child gets no key.</span>
        <span class="keywordtype">int</span> quadrant = -1;

        <span class="keywordflow">if</span> ( qa-&gt;_orientation == 0 )
        {
            quadrant = 
                qa-&gt;q(0) == child ? 2 :
                qa-&gt;<a class="code" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b">q</a>(1) == child ? 3 :
                qa-&gt;<a class="code" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b">q</a>(2) == child ? 1 : 0;
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( qa-&gt;_orientation == 2 )
        {
            quadrant =
                qa-&gt;<a class="code" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b">q</a>(0) == child ? 3 :
                qa-&gt;<a class="code" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b">q</a>(1) == child ? 1 :
                qa-&gt;<a class="code" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b">q</a>(2) == child ? 0 : 2;
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( qa-&gt;_orientation == 4 )
        {
            quadrant =
                qa-&gt;<a class="code" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b">q</a>(0) == child ? 1 :
                qa-&gt;<a class="code" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b">q</a>(1) == child ? 0 :
                qa-&gt;<a class="code" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b">q</a>(2) == child ? 2 : 3;
        }
        <span class="keywordflow">else</span> <span class="comment">// if ( qa-&gt;_orientation == 6 )</span>
        {
            quadrant =
                qa-&gt;<a class="code" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b">q</a>(0) == child ? 0 :
                qa-&gt;<a class="code" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b">q</a>(1) == child ? 2 :
                qa-&gt;<a class="code" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b">q</a>(2) == child ? 3 : 1;
        }

        child-&gt;<a class="code" href="structDiamond.html#a814198de692e29fbe4019e6e70eb24ca">_key</a> = qa-&gt;<a class="code" href="classosgEarth_1_1TileKey.html#afbe749737a61d2985f116e049eb9ab04">_key</a>.createChildKey( quadrant );

        child-&gt;<a class="code" href="structDiamond.html#a95ea2713729a4fecd051d1743937905f">_orientation</a> = 
            quadrant == 1 ? 0 :
            quadrant == 0 ? 2 :
            quadrant == 2 ? 4 : 6;
    }

    child-&gt;<a class="code" href="structDiamond.html#a67a49af4cc8109874fa5e09d4946abf8">activate</a>();

    <span class="keywordflow">return</span> child;
}
</pre></div>
<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a7c2cc654038c8cdbd4f397f924731e96_cgraph.png" border="0" usemap="#structDiamond_a7c2cc654038c8cdbd4f397f924731e96_cgraph" alt=""/></div>
<map name="structDiamond_a7c2cc654038c8cdbd4f397f924731e96_cgraph" id="structDiamond_a7c2cc654038c8cdbd4f397f924731e96_cgraph">
<area shape="rect" id="node3" href="structDiamond.html#a67a49af4cc8109874fa5e09d4946abf8" title="Diamond::activate" alt="" coords="276,5,404,35"/><area shape="rect" id="node13" href="structDiamond.html#a0bb775bc54a9a4781586a148f1743b61" title="Diamond::Diamond" alt="" coords="273,59,407,88"/><area shape="rect" id="node15" href="structDiamond.html#ae4f06eac6fc1a10267d6a4772b7fff73" title="Diamond::getOrCreateNeighbor" alt="" coords="237,112,443,141"/><area shape="rect" id="node17" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b" title="Diamond::q" alt="" coords="296,165,384,195"/><area shape="rect" id="node19" href="structDiamond.html#af63b93743f9cbdf323d644628b2aca37" title="Diamond::setChild" alt="" coords="275,219,405,248"/><area shape="rect" id="node40" href="structDiamond.html#a884f386ba5b0f292ef278fbcdcb2ba38" title="Diamond::setCoord" alt="" coords="273,296,407,325"/><area shape="rect" id="node5" href="structDiamond.html#a92f8386bf6603e5146d0df6b0db0693c" title="Diamond::computeBound" alt="" coords="764,32,932,61"/><area shape="rect" id="node11" href="classMeshManager.html#a7533ed486cffaa5b6f22d392b02e43c2" title="MeshManager::queueForImage" alt="" coords="491,57,693,87"/><area shape="rect" id="node7" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47" title="Diamond::node" alt="" coords="1044,45,1153,75"/><area shape="rect" id="node9" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d" title="MeshManager::node" alt="" coords="1299,45,1437,75"/><area shape="rect" id="node21" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc" title="Diamond::dirty" alt="" coords="539,212,645,241"/><area shape="rect" id="node23" href="classMeshManager.html#ad166dbb08e9178a4d830847c91f711dc" title="MeshManager::queueForRefresh" alt="" coords="743,159,953,188"/><area shape="rect" id="node25" href="structDiamond.html#a99d5910fcf59bf2fb94ea4a4e15c0373" title="Diamond::refreshDrawable" alt="" coords="760,212,936,241"/><area shape="rect" id="node27" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4" title="osgEarth::TileKey::getExtent" alt="" coords="1004,105,1193,135"/><area shape="rect" id="node29" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="1005,159,1192,188"/><area shape="rect" id="node32" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="1008,212,1189,241"/><area shape="rect" id="node36" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="1009,265,1188,295"/><area shape="rect" id="node38" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="1009,319,1188,348"/><area shape="rect" id="node34" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="1243,212,1493,241"/></map>
</div>
</p>

<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a7c2cc654038c8cdbd4f397f924731e96_icgraph.png" border="0" usemap="#structDiamond_a7c2cc654038c8cdbd4f397f924731e96_icgraph" alt=""/></div>
<map name="structDiamond_a7c2cc654038c8cdbd4f397f924731e96_icgraph" id="structDiamond_a7c2cc654038c8cdbd4f397f924731e96_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#ae2f620bf2b10a6313abd1f593115f8e0" title="Diamond::seed" alt="" coords="239,29,348,59"/><area shape="rect" id="node6" href="structDiamond.html#ac292d950221eb5e48916943adb2363c5" title="Diamond::split" alt="" coords="240,83,347,112"/><area shape="rect" id="node8" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="399,83,548,112"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae4f06eac6fc1a10267d6a4772b7fff73"></a><!-- doxytag: member="Diamond::getOrCreateNeighbor" ref="ae4f06eac6fc1a10267d6a4772b7fff73" args="(ChildIndex c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDiamond.html">Diamond</a> * Diamond::getOrCreateNeighbor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a>&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets this diamond's neibghor across child-c boundary, creating it if it does not exist </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00700">700</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{   
    <span class="comment">//OE_NOTICE &lt;&lt; &quot;Looking up neighbor (&quot; &lt;&lt; c &lt;&lt; &quot;) of &quot; &lt;&lt; _name &lt;&lt; std::endl;</span>
    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> parent = c &lt;= 1 ? <a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a0138b2a9f89e5add2d2a64ced248f343">PARENT_R</a> : <a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696ae86ff5449523a391fcae04e43f7ff6f7">PARENT_L</a>;
    <a class="code" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> myIndexInParent = <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[parent]-&gt;getIndexOfChild( <span class="keyword">this</span> );
    <a class="code" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> i = ( myIndexInParent + (c==0 || c==2? 1 : 3) ) % <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[parent]-&gt;_childValence;
    <span class="comment">//if ( !_a[parent]-&gt;_c[i].valid() )</span>
    <span class="comment">//    OE_NOTICE &lt;&lt; &quot;...doesn&#39;t exist, creating:&quot; &lt;&lt; std::endl;</span>
    <span class="keywordflow">return</span> <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[parent]-&gt;getOrCreateChild( i );
}
</pre></div>
<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_ae4f06eac6fc1a10267d6a4772b7fff73_icgraph.png" border="0" usemap="#structDiamond_ae4f06eac6fc1a10267d6a4772b7fff73_icgraph" alt=""/></div>
<map name="structDiamond_ae4f06eac6fc1a10267d6a4772b7fff73_icgraph" id="structDiamond_ae4f06eac6fc1a10267d6a4772b7fff73_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96" title="Diamond::getOrCreateChild" alt="" coords="260,56,441,85"/><area shape="rect" id="node5" href="structDiamond.html#ae2f620bf2b10a6313abd1f593115f8e0" title="Diamond::seed" alt="" coords="492,29,601,59"/><area shape="rect" id="node8" href="structDiamond.html#ac292d950221eb5e48916943adb2363c5" title="Diamond::split" alt="" coords="493,83,600,112"/><area shape="rect" id="node10" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="652,83,801,112"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6e76b260c022331293d901ea054de8c8"></a><!-- doxytag: member="Diamond::hasAllChildren" ref="a6e76b260c022331293d901ea054de8c8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Diamond::hasAllChildren </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns true if this diamond is "split", i.e. it has all possible children. </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00669">669</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> c = 0; c &lt; <a class="code" href="structDiamond.html#a3d610442052a9ec0e874e56768f79a8a">_childValence</a>; ++c )
    {
        <span class="keywordflow">if</span> ( !<a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[c].valid() )
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8ae119c1a00584598d8840b8541f0b40"></a><!-- doxytag: member="Diamond::hasChildren" ref="a8ae119c1a00584598d8840b8541f0b40" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Diamond::hasChildren </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns true is this diamond has at least one child. </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00658">658</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> c = 0; c &lt; <a class="code" href="structDiamond.html#a3d610442052a9ec0e874e56768f79a8a">_childValence</a>; ++c )
    {
        <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[c].valid() )
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a63181f0cbc2a707e9653a1b5ae369f24"></a><!-- doxytag: member="Diamond::merge" ref="a63181f0cbc2a707e9653a1b5ae369f24" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Diamond::merge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>merges a split diamond (and removes all children). </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00214">214</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// have to remove/merge all the children before we can merge.</span>
    <span class="keywordflow">for</span>( <a class="code" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> c = 0; c &lt; <a class="code" href="structDiamond.html#a3d610442052a9ec0e874e56768f79a8a">_childValence</a>; ++c )
    {
        <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[c].valid() )
            <a class="code" href="structDiamond.html#ae1ef02049763861f989d9a37306071ca">removeChild</a>( c );
    }
    <a class="code" href="structDiamond.html#a21f526b37a6ce9c26d973d3fa0476de9">_isSplit</a> = <span class="keyword">false</span>;

    <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a> )
    {
        this-&gt;<a class="code" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc">dirty</a>();
        <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>]-&gt;dirty();
    }
    <span class="keywordflow">else</span>
    {
        <span class="comment">// for intermediate diamonds, merging means we must rebuild each immediate parent.</span>
        <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696ae86ff5449523a391fcae04e43f7ff6f7">PARENT_L</a>]-&gt;dirty();
        <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a0138b2a9f89e5add2d2a64ced248f343">PARENT_R</a>]-&gt;dirty();
    }

    <a class="code" href="structDiamond.html#a8f159ffac485b90b8b5ec9464ae59b73">_queuedForMerge</a> = <span class="keyword">false</span>;
}
</pre></div>
<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a63181f0cbc2a707e9653a1b5ae369f24_cgraph.png" border="0" usemap="#structDiamond_a63181f0cbc2a707e9653a1b5ae369f24_cgraph" alt=""/></div>
<map name="structDiamond_a63181f0cbc2a707e9653a1b5ae369f24_cgraph" id="structDiamond_a63181f0cbc2a707e9653a1b5ae369f24_cgraph">
<area shape="rect" id="node3" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc" title="Diamond::dirty" alt="" coords="416,112,523,141"/><area shape="rect" id="node25" href="structDiamond.html#ae1ef02049763861f989d9a37306071ca" title="Diamond::removeChild" alt="" coords="173,165,328,195"/><area shape="rect" id="node5" href="classMeshManager.html#ad166dbb08e9178a4d830847c91f711dc" title="MeshManager::queueForRefresh" alt="" coords="612,85,823,115"/><area shape="rect" id="node7" href="structDiamond.html#a99d5910fcf59bf2fb94ea4a4e15c0373" title="Diamond::refreshDrawable" alt="" coords="629,139,805,168"/><area shape="rect" id="node9" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4" title="osgEarth::TileKey::getExtent" alt="" coords="873,5,1063,35"/><area shape="rect" id="node11" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="875,59,1061,88"/><area shape="rect" id="node13" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47" title="Diamond::node" alt="" coords="913,112,1023,141"/><area shape="rect" id="node17" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="877,165,1059,195"/><area shape="rect" id="node21" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="879,219,1057,248"/><area shape="rect" id="node23" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="879,272,1057,301"/><area shape="rect" id="node15" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d" title="MeshManager::node" alt="" coords="1168,112,1307,141"/><area shape="rect" id="node19" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="1112,165,1363,195"/><area shape="rect" id="node28" href="structDiamond.html#ad8655e5f02f59782bb5a83f48a76d8aa" title="Diamond::getNeighbor" alt="" coords="393,165,545,195"/><area shape="rect" id="node30" href="classMeshManager.html#acaed7501a0a46f3d9b7adb1bb0f18278" title="MeshManager::removeNode" alt="" coords="376,219,563,248"/></map>
</div>
</p>

<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a63181f0cbc2a707e9653a1b5ae369f24_icgraph.png" border="0" usemap="#structDiamond_a63181f0cbc2a707e9653a1b5ae369f24_icgraph" alt=""/></div>
<map name="structDiamond_a63181f0cbc2a707e9653a1b5ae369f24_icgraph" id="structDiamond_a63181f0cbc2a707e9653a1b5ae369f24_icgraph">
<area shape="rect" id="node3" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="175,5,324,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaa003d1932c27e6444e20ef2de94fa47"></a><!-- doxytag: member="Diamond::node" ref="aaa003d1932c27e6444e20ef2de94fa47" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classMeshNode.html">MeshNode</a> &amp; Diamond::node </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00090">90</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d">node</a>( <a class="code" href="structDiamond.html#a53395e2aa6e55d422f4bbadd2dbc16e5">_vi</a> );
}
</pre></div>
<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_aaa003d1932c27e6444e20ef2de94fa47_cgraph.png" border="0" usemap="#structDiamond_aaa003d1932c27e6444e20ef2de94fa47_cgraph" alt=""/></div>
<map name="structDiamond_aaa003d1932c27e6444e20ef2de94fa47_cgraph" id="structDiamond_aaa003d1932c27e6444e20ef2de94fa47_cgraph">
<area shape="rect" id="node3" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d" title="MeshManager::node" alt="" coords="167,5,305,35"/></map>
</div>
</p>

<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_aaa003d1932c27e6444e20ef2de94fa47_icgraph.png" border="0" usemap="#structDiamond_aaa003d1932c27e6444e20ef2de94fa47_icgraph" alt=""/></div>
<map name="structDiamond_aaa003d1932c27e6444e20ef2de94fa47_icgraph" id="structDiamond_aaa003d1932c27e6444e20ef2de94fa47_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#a92f8386bf6603e5146d0df6b0db0693c" title="Diamond::computeBound" alt="" coords="171,251,339,280"/><area shape="rect" id="node23" href="structDiamond.html#a99d5910fcf59bf2fb94ea4a4e15c0373" title="Diamond::refreshDrawable" alt="" coords="167,147,343,176"/><area shape="rect" id="node5" href="structDiamond.html#a67a49af4cc8109874fa5e09d4946abf8" title="Diamond::activate" alt="" coords="627,251,755,280"/><area shape="rect" id="node16" href="structDiamond.html#a5ae68b430b173c2fc5677a6444d7ec6c" title="Diamond::extendedBound" alt="" coords="393,329,564,359"/><area shape="rect" id="node20" href="structDiamond.html#a85645bf231669dc38712b791961f895d" title="Diamond::visibleBound" alt="" coords="401,276,556,305"/><area shape="rect" id="node7" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96" title="Diamond::getOrCreateChild" alt="" coords="817,147,999,176"/><area shape="rect" id="node9" href="structDiamond.html#ae2f620bf2b10a6313abd1f593115f8e0" title="Diamond::seed" alt="" coords="1049,132,1159,161"/><area shape="rect" id="node12" href="structDiamond.html#ac292d950221eb5e48916943adb2363c5" title="Diamond::split" alt="" coords="1051,185,1157,215"/><area shape="rect" id="node14" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="1209,49,1359,79"/><area shape="rect" id="node18" href="structDiamond.html#a432a0496ce229e06b336e900dc5af518" title="Diamond::cull" alt="" coords="640,304,741,333"/><area shape="rect" id="node25" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc" title="Diamond::dirty" alt="" coords="425,147,532,176"/><area shape="rect" id="node28" href="structDiamond.html#a63181f0cbc2a707e9653a1b5ae369f24" title="Diamond::merge" alt="" coords="849,49,967,79"/><area shape="rect" id="node31" href="structDiamond.html#ae1ef02049763861f989d9a37306071ca" title="Diamond::removeChild" alt="" coords="613,43,768,72"/><area shape="rect" id="node34" href="structDiamond.html#af63b93743f9cbdf323d644628b2aca37" title="Diamond::setChild" alt="" coords="625,147,756,176"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a422c2a134b5ca3c64871ecda8d649e4b"></a><!-- doxytag: member="Diamond::q" ref="a422c2a134b5ca3c64871ecda8d649e4b" args="(ChildIndex c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDiamond.html">Diamond</a>* Diamond::q </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a>&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>access a quadtree decendant </p>

<p>Definition at line <a class="el" href="Diamond_source.html#l00157">157</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>
<div class="fragment"><pre class="fragment">                                    {
        <a class="code" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> c2 = c == 0 || c == 2 ? 1 : 3;
        <span class="keywordflow">return</span> <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[c].valid() ? <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[c]-&gt;_c[c2].get() : 0L;
    }
</pre></div>
<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a422c2a134b5ca3c64871ecda8d649e4b_icgraph.png" border="0" usemap="#structDiamond_a422c2a134b5ca3c64871ecda8d649e4b_icgraph" alt=""/></div>
<map name="structDiamond_a422c2a134b5ca3c64871ecda8d649e4b_icgraph" id="structDiamond_a422c2a134b5ca3c64871ecda8d649e4b_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96" title="Diamond::getOrCreateChild" alt="" coords="145,56,327,85"/><area shape="rect" id="node5" href="structDiamond.html#ae2f620bf2b10a6313abd1f593115f8e0" title="Diamond::seed" alt="" coords="377,29,487,59"/><area shape="rect" id="node8" href="structDiamond.html#ac292d950221eb5e48916943adb2363c5" title="Diamond::split" alt="" coords="379,83,485,112"/><area shape="rect" id="node10" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="537,83,687,112"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a99d5910fcf59bf2fb94ea4a4e15c0373"></a><!-- doxytag: member="Diamond::refreshDrawable" ref="a99d5910fcf59bf2fb94ea4a4e15c0373" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Diamond::refreshDrawable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>rebuilds this diamond's draw list if necessary (and updates its precense in the mesh) </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00496">496</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// the primitive set may have already been refreshed (due to double-parenting)</span>
    <span class="keywordflow">if</span> ( !<a class="code" href="structDiamond.html#a92a87b307ac7016450fd04e0d8b6f8fa">_drawableDirty</a> )
        <span class="keywordflow">return</span>;

    <span class="comment">// this level does not generate primitive sets</span>
    <span class="keywordflow">if</span> ( _level &lt; _mesh-&gt;_minGeomLevel )
        <span class="keywordflow">return</span>;

    <span class="keywordflow">if</span> ( !<a class="code" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a> )
    {
        <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <span class="stringliteral">&quot;ILLEGAL: refreshPrimitiveSet called on Diamond at no-geom level &quot;</span> &lt;&lt; <a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a> &lt;&lt; std::endl;
        <span class="keywordflow">return</span>;
    }

    <span class="comment">// figure out the subrange transformation.</span>
    osg::Vec2f offset( 0.0, 0.0 );
    <span class="keywordtype">double</span> span = 1.0;

    <span class="keyword">const</span> <a class="code" href="classosgEarth_1_1TileKey.html">TileKey</a>&amp; ssaKey = <a class="code" href="structDiamond.html#a878a7541c0d5285ef650163c7b050f44">_currentStateSetOwner</a>-&gt;<a class="code" href="structDiamond.html#a814198de692e29fbe4019e6e70eb24ca">_key</a>;
    <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a> &gt; <a class="code" href="structDiamond.html#a878a7541c0d5285ef650163c7b050f44">_currentStateSetOwner</a>-&gt;<a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a> ) <span class="comment">//_currentStateSetOwner != _targetStateSetOwner )</span>
    {
        span = 1.0/(double)(1 &lt;&lt; ((<a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a>-<a class="code" href="structDiamond.html#a878a7541c0d5285ef650163c7b050f44">_currentStateSetOwner</a>-&gt;<a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a>)/2));
        offset.x() = (<a class="code" href="structDiamond.html#a814198de692e29fbe4019e6e70eb24ca">_key</a>.<a class="code" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4">getExtent</a>().<a class="code" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b">xMin</a>()-ssaKey.<a class="code" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4">getExtent</a>().<a class="code" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b">xMin</a>())/ssaKey.<a class="code" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4">getExtent</a>().<a class="code" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d">width</a>();
        offset.y() = (<a class="code" href="structDiamond.html#a814198de692e29fbe4019e6e70eb24ca">_key</a>.<a class="code" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4">getExtent</a>().<a class="code" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c">yMin</a>()-ssaKey.<a class="code" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4">getExtent</a>().<a class="code" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c">yMin</a>())/ssaKey.<a class="code" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4">getExtent</a>().<a class="code" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d">height</a>();
    }

    <span class="keywordtype">int</span> o = <a class="code" href="structDiamond.html#a95ea2713729a4fecd051d1743937905f">_orientation</a>;
    
    <span class="comment">// Start by clearing out the old primitive set:</span>
    <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;_triangles.clear();

    <span class="comment">//if ( false ) //!_isSplit ) // took this out to preserve the diamond center point.</span>
    <span class="comment">//{</span>
    <span class="comment">//    // if the diamond is not split, simply draw the two triangles.</span>
    <span class="comment">//    _amrDrawable-&gt;add( new AMRTriangle(</span>
    <span class="comment">//        _a[GDPARENT]-&gt;coord(), _a[GDPARENT]-&gt;vert(), offset + OT(T_GDPARENT,o) * span,</span>
    <span class="comment">//        _a[QUADTREE]-&gt;coord(), _a[QUADTREE]-&gt;vert(), offset + OT(T_QUADTREE,o) * span,</span>
    <span class="comment">//        _a[PARENT_R]-&gt;coord(), _a[PARENT_R]-&gt;vert(), offset + OT(T_PARENT_R,o) * span ) );</span>

    <span class="comment">//    _amrDrawable-&gt;add( new AMRTriangle(</span>
    <span class="comment">//        _a[GDPARENT]-&gt;coord(), _a[GDPARENT]-&gt;vert(), offset + OT(T_GDPARENT,o) * span,</span>
    <span class="comment">//        _a[PARENT_L]-&gt;coord(), _a[PARENT_L]-&gt;vert(), offset + OT(T_PARENT_L,o) * span,</span>
    <span class="comment">//        _a[QUADTREE]-&gt;coord(), _a[QUADTREE]-&gt;vert(), offset + OT(T_QUADTREE,o) * span ) );</span>
    <span class="comment">//}</span>
    <span class="comment">//else</span>
    {
        <span class="comment">// find this diamond&#39;s four quadtree descendants:</span>
        <a class="code" href="structDiamond.html">Diamond</a>* q0 = <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[0].valid() ? <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[0]-&gt;_c[1].get() : 0L;
        <a class="code" href="structDiamond.html">Diamond</a>* q1 = <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[1].valid() ? <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[1]-&gt;_c[3].get() : 0L;
        <a class="code" href="structDiamond.html">Diamond</a>* q2 = <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[2].valid() ? <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[2]-&gt;_c[1].get() : 0L;
        <a class="code" href="structDiamond.html">Diamond</a>* q3 = <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[3].valid() ? <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[3]-&gt;_c[3].get() : 0L;

        osg::Vec2f center = osg::Vec2f(.5,.5);

        <span class="keywordflow">if</span> ( !<a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[0].valid() || !<a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[0]-&gt;<a class="code" href="structDiamond.html#a21f526b37a6ce9c26d973d3fa0476de9">_isSplit</a> )
        {
            <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;add( <span class="keyword">new</span> <a class="code" href="classAMRTriangle.html">AMRTriangle</a>(
                <a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),               offset + center * span,
                <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#a70766ed65e4fdd0389b4707411a6e425">T_QUADTREE</a>,o) * span,
                <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a0138b2a9f89e5add2d2a64ced248f343">PARENT_R</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#aa75bbf167276c0557cacd2a143dc6f1f">T_PARENT_R</a>,o) * span ) );
        }
        <span class="keywordflow">else</span>
        {
            <span class="keywordflow">if</span> ( !q0 )
            {
                <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;add( <span class="keyword">new</span> <a class="code" href="classAMRTriangle.html">AMRTriangle</a>(
                    <a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),               offset + center * span,
                    <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#a70766ed65e4fdd0389b4707411a6e425">T_QUADTREE</a>,o) * span,
                    <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[0]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),        offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#a823cee5018941c3f9a571cf0b26bff9c">T_CHILD_0</a>,o) * span ) );
            }
            <span class="keywordflow">if</span> ( !q1 )
            {
                <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;add( <span class="keyword">new</span> <a class="code" href="classAMRTriangle.html">AMRTriangle</a>(
                    <a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),               offset + center * span,
                    <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[0]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),        offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#a823cee5018941c3f9a571cf0b26bff9c">T_CHILD_0</a>,o) * span,
                    <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a0138b2a9f89e5add2d2a64ced248f343">PARENT_R</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#aa75bbf167276c0557cacd2a143dc6f1f">T_PARENT_R</a>,o) * span ) );
            }
        }

        <span class="keywordflow">if</span> ( !<a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[1].valid() || !<a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[1]-&gt;<a class="code" href="structDiamond.html#a21f526b37a6ce9c26d973d3fa0476de9">_isSplit</a> )
        {
            <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;add( <span class="keyword">new</span> <a class="code" href="classAMRTriangle.html">AMRTriangle</a>(
                <a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),               offset + center * span,
                <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a0138b2a9f89e5add2d2a64ced248f343">PARENT_R</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#aa75bbf167276c0557cacd2a143dc6f1f">T_PARENT_R</a>,o) * span,
                <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a6814cf04211862730485bf2975a0be56">GDPARENT</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#a458488d366c4d4f3678b20c387d72076">T_GDPARENT</a>,o) * span ) );
        }
        <span class="keywordflow">else</span>
        {
            <span class="keywordflow">if</span> ( !q1 )
            {
                <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;add( <span class="keyword">new</span> <a class="code" href="classAMRTriangle.html">AMRTriangle</a>(
                    <a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),               offset + center * span,
                    <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a0138b2a9f89e5add2d2a64ced248f343">PARENT_R</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#aa75bbf167276c0557cacd2a143dc6f1f">T_PARENT_R</a>,o) * span,
                    <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[1]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),        offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#a211549c2a9fab88b472d0dcc7654d6b4">T_CHILD_1</a>,o) * span ) );
            }
            <span class="keywordflow">if</span> ( !q2 )
            {
                <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;add( <span class="keyword">new</span> <a class="code" href="classAMRTriangle.html">AMRTriangle</a>(
                    <a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),               offset + center * span,
                    <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[1]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),        offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#a211549c2a9fab88b472d0dcc7654d6b4">T_CHILD_1</a>,o) * span,
                    <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a6814cf04211862730485bf2975a0be56">GDPARENT</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#a458488d366c4d4f3678b20c387d72076">T_GDPARENT</a>,o) * span ) );
            }
        }

        <span class="keywordflow">if</span> ( !<a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[2].valid() || !<a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[2]-&gt;<a class="code" href="structDiamond.html#a21f526b37a6ce9c26d973d3fa0476de9">_isSplit</a> )
        {
            <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;add( <span class="keyword">new</span> <a class="code" href="classAMRTriangle.html">AMRTriangle</a>(
                <a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),               offset + center * span,
                <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a6814cf04211862730485bf2975a0be56">GDPARENT</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#a458488d366c4d4f3678b20c387d72076">T_GDPARENT</a>,o) * span,
                <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696ae86ff5449523a391fcae04e43f7ff6f7">PARENT_L</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#ab92b546700e4da002e575cff549d5c61">T_PARENT_L</a>,o) * span ) );
        }
        <span class="keywordflow">else</span>
        {
            <span class="keywordflow">if</span> ( !q2 )
            {
                <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;add( <span class="keyword">new</span> <a class="code" href="classAMRTriangle.html">AMRTriangle</a>(
                    <a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),               offset + center * span,
                    <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a6814cf04211862730485bf2975a0be56">GDPARENT</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#a458488d366c4d4f3678b20c387d72076">T_GDPARENT</a>,o) * span,
                    <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[2]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),        offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#a37b3924cb6a0d027a633aa97f0d757f3">T_CHILD_2</a>,o) * span ) );
            }
            <span class="keywordflow">if</span> ( !q3 )
            {
                <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;add( <span class="keyword">new</span> <a class="code" href="classAMRTriangle.html">AMRTriangle</a>(
                    <a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),               offset + center * span,
                    <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[2]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),        offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#a37b3924cb6a0d027a633aa97f0d757f3">T_CHILD_2</a>,o) * span,
                    <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696ae86ff5449523a391fcae04e43f7ff6f7">PARENT_L</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#ab92b546700e4da002e575cff549d5c61">T_PARENT_L</a>,o) * span ) );
            }
        }

        <span class="keywordflow">if</span> ( !<a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[3].valid() || !<a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[3]-&gt;<a class="code" href="structDiamond.html#a21f526b37a6ce9c26d973d3fa0476de9">_isSplit</a> )
        {
            <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;add( <span class="keyword">new</span> <a class="code" href="classAMRTriangle.html">AMRTriangle</a>(
                <a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),               offset + center * span,
                <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696ae86ff5449523a391fcae04e43f7ff6f7">PARENT_L</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#ab92b546700e4da002e575cff549d5c61">T_PARENT_L</a>,o) * span,
                <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#a70766ed65e4fdd0389b4707411a6e425">T_QUADTREE</a>,o) * span ) );
        }
        <span class="keywordflow">else</span>
        {
            <span class="keywordflow">if</span> ( !q3 )
            {
                <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;add( <span class="keyword">new</span> <a class="code" href="classAMRTriangle.html">AMRTriangle</a>(
                    <a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),               offset + center * span,
                    <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696ae86ff5449523a391fcae04e43f7ff6f7">PARENT_L</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#ab92b546700e4da002e575cff549d5c61">T_PARENT_L</a>,o) * span,
                    <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[3]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),        offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#aef64935398d947943bdbf319b479a7a0">T_CHILD_3</a>,o) * span ) );
            }
            <span class="keywordflow">if</span> ( !q0 )
            {
                <a class="code" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">_amrDrawable</a>-&gt;add( <span class="keyword">new</span> <a class="code" href="classAMRTriangle.html">AMRTriangle</a>(
                    <a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),               offset + center * span,
                    <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[3]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(),        offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#aef64935398d947943bdbf319b479a7a0">T_CHILD_3</a>,o) * span,
                    <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>]-&gt;<a class="code" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47">node</a>(), offset + <a class="code" href="Diamond_8cpp.html#a2b2871031d03029905b2f2e92ae7b050">OT</a>(<a class="code" href="Diamond_8cpp.html#a70766ed65e4fdd0389b4707411a6e425">T_QUADTREE</a>,o) * span ) );
            }
        }        
    }

    <span class="comment">// dirty the underlying element buffer object</span>
    <a class="code" href="structDiamond.html#a92a87b307ac7016450fd04e0d8b6f8fa">_drawableDirty</a> = <span class="keyword">false</span>;
}
</pre></div>
<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a99d5910fcf59bf2fb94ea4a4e15c0373_cgraph.png" border="0" usemap="#structDiamond_a99d5910fcf59bf2fb94ea4a4e15c0373_cgraph" alt=""/></div>
<map name="structDiamond_a99d5910fcf59bf2fb94ea4a4e15c0373_cgraph" id="structDiamond_a99d5910fcf59bf2fb94ea4a4e15c0373_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4" title="osgEarth::TileKey::getExtent" alt="" coords="233,5,423,35"/><area shape="rect" id="node5" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="235,59,421,88"/><area shape="rect" id="node7" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47" title="Diamond::node" alt="" coords="273,112,383,141"/><area shape="rect" id="node11" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="237,165,419,195"/><area shape="rect" id="node15" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="239,219,417,248"/><area shape="rect" id="node17" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="239,272,417,301"/><area shape="rect" id="node9" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d" title="MeshManager::node" alt="" coords="528,112,667,141"/><area shape="rect" id="node13" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="472,165,723,195"/></map>
</div>
</p>

<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a99d5910fcf59bf2fb94ea4a4e15c0373_icgraph.png" border="0" usemap="#structDiamond_a99d5910fcf59bf2fb94ea4a4e15c0373_icgraph" alt=""/></div>
<map name="structDiamond_a99d5910fcf59bf2fb94ea4a4e15c0373_icgraph" id="structDiamond_a99d5910fcf59bf2fb94ea4a4e15c0373_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc" title="Diamond::dirty" alt="" coords="232,136,339,165"/><area shape="rect" id="node9" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="983,215,1132,244"/><area shape="rect" id="node5" href="structDiamond.html#a432a0496ce229e06b336e900dc5af518" title="Diamond::cull" alt="" coords="413,5,515,35"/><area shape="rect" id="node7" href="structDiamond.html#a63181f0cbc2a707e9653a1b5ae369f24" title="Diamond::merge" alt="" coords="623,85,740,115"/><area shape="rect" id="node11" href="structDiamond.html#ae1ef02049763861f989d9a37306071ca" title="Diamond::removeChild" alt="" coords="387,109,541,139"/><area shape="rect" id="node14" href="structDiamond.html#af63b93743f9cbdf323d644628b2aca37" title="Diamond::setChild" alt="" coords="399,163,529,192"/><area shape="rect" id="node21" href="structDiamond.html#ac292d950221eb5e48916943adb2363c5" title="Diamond::split" alt="" coords="824,215,931,244"/><area shape="rect" id="node16" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96" title="Diamond::getOrCreateChild" alt="" coords="591,163,772,192"/><area shape="rect" id="node18" href="structDiamond.html#ae2f620bf2b10a6313abd1f593115f8e0" title="Diamond::seed" alt="" coords="823,161,932,191"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae1ef02049763861f989d9a37306071ca"></a><!-- doxytag: member="Diamond::removeChild" ref="ae1ef02049763861f989d9a37306071ca" args="(ChildIndex c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Diamond::removeChild </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a>&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes the child at the specified index. </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00823">823</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    osg::ref_ptr&lt;Diamond&gt; child = <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[c].get();
    <span class="keywordflow">if</span> ( !child.valid() ) <span class="keywordflow">return</span>;

    <span class="comment">// first we must merge the child (i.e. remove all of ITS children recursively).</span>
    <span class="comment">// TODO: this probably needs to queue up another merge operation with a higher priority.</span>
    <span class="comment">// that should probably happen in the mesh manager.</span>
    child-&gt;merge();

    <span class="comment">// deactivate the child. it&#39;s possible that the child is in a queue somewhere. this</span>
    <span class="comment">// will prevent it from being processed after it&#39;s been removed.</span>
    child-&gt;_status = <a class="code" href="Diamond.html#a14f2cb6b85d7de86736527d3a14f98b7a3ff8ba88da6f8947ab7c22b7825c6bb6">INACTIVE</a>;

    <span class="comment">// remove it from its other parent as well.</span>
    osg::ref_ptr&lt;Diamond&gt; d0 = <a class="code" href="structDiamond.html#ad8655e5f02f59782bb5a83f48a76d8aa">getNeighbor</a>( c );
    <span class="keywordflow">if</span> ( d0.valid() )
    {
        <a class="code" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> c_d0 = d0-&gt;getIndexOfChild( child.get() );
        <span class="keywordflow">if</span> ( c_d0 &gt;= 0 )
        {
            d0-&gt;_c[c_d0] = 0L;
        }
    }

    <span class="comment">// now clear out the child slot and invalidate the primitive set.</span>
    this-&gt;<a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[c] = 0L;

    <span class="comment">// notify the common ancestry of the change</span>
    <span class="keywordflow">if</span> ( child-&gt;_hasGeometry )
    {
        child-&gt;_a[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>]-&gt;dirty();
        this-&gt;<a class="code" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc">dirty</a>();
    }
    <span class="keywordflow">else</span>
    {
        <span class="comment">// probably not strictly necessary since a split() will take care of this.. gw</span>
        child-&gt;_a[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696ae86ff5449523a391fcae04e43f7ff6f7">PARENT_L</a>]-&gt;dirty();
        child-&gt;_a[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a0138b2a9f89e5add2d2a64ced248f343">PARENT_R</a>]-&gt;dirty();
    }

    <span class="comment">// zero out the child&#39;s ancestor pointers.</span>
    <span class="keywordflow">for</span>( <a class="code" href="rivers_2engine__droam_2Common.html#a49de0debddd4f4aee0ce830fb4ecb020">AncestorIndex</a> i = 0; i &lt; 4; ++i )
        child-&gt;_a[i] = 0L;
    <span class="keywordflow">for</span>( <a class="code" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> i = 0; i &lt; 4; ++i )
        child-&gt;_c[i] = 0L;

    <span class="comment">// remove the child&#39;s vertex from the VBO.</span>
    <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#acaed7501a0a46f3d9b7adb1bb0f18278">removeNode</a>( child-&gt;_vi );
}
</pre></div>
<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_ae1ef02049763861f989d9a37306071ca_cgraph.png" border="0" usemap="#structDiamond_ae1ef02049763861f989d9a37306071ca_cgraph" alt=""/></div>
<map name="structDiamond_ae1ef02049763861f989d9a37306071ca_cgraph" id="structDiamond_ae1ef02049763861f989d9a37306071ca_cgraph">
<area shape="rect" id="node3" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc" title="Diamond::dirty" alt="" coords="248,112,355,141"/><area shape="rect" id="node25" href="structDiamond.html#ad8655e5f02f59782bb5a83f48a76d8aa" title="Diamond::getNeighbor" alt="" coords="225,165,377,195"/><area shape="rect" id="node27" href="classMeshManager.html#acaed7501a0a46f3d9b7adb1bb0f18278" title="MeshManager::removeNode" alt="" coords="208,219,395,248"/><area shape="rect" id="node5" href="classMeshManager.html#ad166dbb08e9178a4d830847c91f711dc" title="MeshManager::queueForRefresh" alt="" coords="444,85,655,115"/><area shape="rect" id="node7" href="structDiamond.html#a99d5910fcf59bf2fb94ea4a4e15c0373" title="Diamond::refreshDrawable" alt="" coords="461,139,637,168"/><area shape="rect" id="node9" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4" title="osgEarth::TileKey::getExtent" alt="" coords="705,5,895,35"/><area shape="rect" id="node11" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="707,59,893,88"/><area shape="rect" id="node13" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47" title="Diamond::node" alt="" coords="745,112,855,141"/><area shape="rect" id="node17" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="709,165,891,195"/><area shape="rect" id="node21" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="711,219,889,248"/><area shape="rect" id="node23" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="711,272,889,301"/><area shape="rect" id="node15" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d" title="MeshManager::node" alt="" coords="1000,112,1139,141"/><area shape="rect" id="node19" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="944,165,1195,195"/></map>
</div>
</p>

<p><div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_ae1ef02049763861f989d9a37306071ca_icgraph.png" border="0" usemap="#structDiamond_ae1ef02049763861f989d9a37306071ca_icgraph" alt=""/></div>
<map name="structDiamond_ae1ef02049763861f989d9a37306071ca_icgraph" id="structDiamond_ae1ef02049763861f989d9a37306071ca_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#a63181f0cbc2a707e9653a1b5ae369f24" title="Diamond::merge" alt="" coords="209,5,327,35"/><area shape="rect" id="node5" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="377,5,527,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae2f620bf2b10a6313abd1f593115f8e0"></a><!-- doxytag: member="Diamond::seed" ref="ae2f620bf2b10a6313abd1f593115f8e0" args="(Level maxLevel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Diamond::seed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rivers_2engine__droam_2Common.html#abe08e330dab3140c34f1df2af8c190cd">Level</a>&#160;</td>
          <td class="paramname"><em>maxLevel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>recursively populate the diamond bintree up to a maximum depth level. </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00162">162</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( maxLevel &gt; <a class="code" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">_level</a> )
    {
        <span class="keywordflow">for</span>( <a class="code" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> c = 0; c &lt; <a class="code" href="structDiamond.html#a3d610442052a9ec0e874e56768f79a8a">_childValence</a>; ++c )
        {
            <a class="code" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96">getOrCreateChild</a>( c )-&gt;<a class="code" href="structDiamond.html#ae2f620bf2b10a6313abd1f593115f8e0">seed</a>( maxLevel );
        }
    }
}
</pre></div>
<p><div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_ae2f620bf2b10a6313abd1f593115f8e0_cgraph.png" border="0" usemap="#structDiamond_ae2f620bf2b10a6313abd1f593115f8e0_cgraph" alt=""/></div>
<map name="structDiamond_ae2f620bf2b10a6313abd1f593115f8e0_cgraph" id="structDiamond_ae2f620bf2b10a6313abd1f593115f8e0_cgraph">
<area shape="rect" id="node3" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96" title="Diamond::getOrCreateChild" alt="" coords="167,139,348,168"/><area shape="rect" id="node5" href="structDiamond.html#a67a49af4cc8109874fa5e09d4946abf8" title="Diamond::activate" alt="" coords="436,5,564,35"/><area shape="rect" id="node15" href="structDiamond.html#a0bb775bc54a9a4781586a148f1743b61" title="Diamond::Diamond" alt="" coords="433,59,567,88"/><area shape="rect" id="node17" href="structDiamond.html#ae4f06eac6fc1a10267d6a4772b7fff73" title="Diamond::getOrCreateNeighbor" alt="" coords="397,112,603,141"/><area shape="rect" id="node19" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b" title="Diamond::q" alt="" coords="456,165,544,195"/><area shape="rect" id="node21" href="structDiamond.html#af63b93743f9cbdf323d644628b2aca37" title="Diamond::setChild" alt="" coords="435,219,565,248"/><area shape="rect" id="node42" href="structDiamond.html#a884f386ba5b0f292ef278fbcdcb2ba38" title="Diamond::setCoord" alt="" coords="433,296,567,325"/><area shape="rect" id="node7" href="structDiamond.html#a92f8386bf6603e5146d0df6b0db0693c" title="Diamond::computeBound" alt="" coords="924,32,1092,61"/><area shape="rect" id="node13" href="classMeshManager.html#a7533ed486cffaa5b6f22d392b02e43c2" title="MeshManager::queueForImage" alt="" coords="651,57,853,87"/><area shape="rect" id="node9" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47" title="Diamond::node" alt="" coords="1204,45,1313,75"/><area shape="rect" id="node11" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d" title="MeshManager::node" alt="" coords="1459,45,1597,75"/><area shape="rect" id="node23" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc" title="Diamond::dirty" alt="" coords="699,212,805,241"/><area shape="rect" id="node25" href="classMeshManager.html#ad166dbb08e9178a4d830847c91f711dc" title="MeshManager::queueForRefresh" alt="" coords="903,159,1113,188"/><area shape="rect" id="node27" href="structDiamond.html#a99d5910fcf59bf2fb94ea4a4e15c0373" title="Diamond::refreshDrawable" alt="" coords="920,212,1096,241"/><area shape="rect" id="node29" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4" title="osgEarth::TileKey::getExtent" alt="" coords="1164,105,1353,135"/><area shape="rect" id="node31" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="1165,159,1352,188"/><area shape="rect" id="node34" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="1168,212,1349,241"/><area shape="rect" id="node38" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="1169,265,1348,295"/><area shape="rect" id="node40" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="1169,319,1348,348"/><area shape="rect" id="node36" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="1403,212,1653,241"/></map>
</div>
</p>

<p><div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_ae2f620bf2b10a6313abd1f593115f8e0_icgraph.png" border="0" usemap="#structDiamond_ae2f620bf2b10a6313abd1f593115f8e0_icgraph" alt=""/></div>
<map name="structDiamond_ae2f620bf2b10a6313abd1f593115f8e0_icgraph" id="structDiamond_ae2f620bf2b10a6313abd1f593115f8e0_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af63b93743f9cbdf323d644628b2aca37"></a><!-- doxytag: member="Diamond::setChild" ref="af63b93743f9cbdf323d644628b2aca37" args="(ChildIndex index, Diamond *child)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Diamond::setChild </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a>&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDiamond.html">Diamond</a> *&#160;</td>
          <td class="paramname"><em>child</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>assigns a new child to this diamond and invalidates the primitive set. </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00424">424</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[index] = child;

    <span class="keywordflow">if</span> ( child-&gt;<a class="code" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a> )
    {
        <span class="comment">// if this is a geometry diamond, invalidate the quadtree ancestor so it can include it.</span>
        child-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>]-&gt;dirty();
        child-&gt;<a class="code" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc">dirty</a>();
    }
    <span class="keywordflow">else</span>
    {
        this-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696ae86ff5449523a391fcae04e43f7ff6f7">PARENT_L</a>]-&gt;dirty();
        this-&gt;<a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a0138b2a9f89e5add2d2a64ced248f343">PARENT_R</a>]-&gt;dirty();
    }
}
</pre></div>
<p><div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_af63b93743f9cbdf323d644628b2aca37_cgraph.png" border="0" usemap="#structDiamond_af63b93743f9cbdf323d644628b2aca37_cgraph" alt=""/></div>
<map name="structDiamond_af63b93743f9cbdf323d644628b2aca37_cgraph" id="structDiamond_af63b93743f9cbdf323d644628b2aca37_cgraph">
<area shape="rect" id="node3" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc" title="Diamond::dirty" alt="" coords="184,112,291,141"/><area shape="rect" id="node5" href="classMeshManager.html#ad166dbb08e9178a4d830847c91f711dc" title="MeshManager::queueForRefresh" alt="" coords="340,85,551,115"/><area shape="rect" id="node7" href="structDiamond.html#a99d5910fcf59bf2fb94ea4a4e15c0373" title="Diamond::refreshDrawable" alt="" coords="357,139,533,168"/><area shape="rect" id="node9" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4" title="osgEarth::TileKey::getExtent" alt="" coords="601,5,791,35"/><area shape="rect" id="node11" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="603,59,789,88"/><area shape="rect" id="node13" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47" title="Diamond::node" alt="" coords="641,112,751,141"/><area shape="rect" id="node17" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="605,165,787,195"/><area shape="rect" id="node21" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="607,219,785,248"/><area shape="rect" id="node23" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="607,272,785,301"/><area shape="rect" id="node15" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d" title="MeshManager::node" alt="" coords="896,112,1035,141"/><area shape="rect" id="node19" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="840,165,1091,195"/></map>
</div>
</p>

<p><div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_af63b93743f9cbdf323d644628b2aca37_icgraph.png" border="0" usemap="#structDiamond_af63b93743f9cbdf323d644628b2aca37_icgraph" alt=""/></div>
<map name="structDiamond_af63b93743f9cbdf323d644628b2aca37_icgraph" id="structDiamond_af63b93743f9cbdf323d644628b2aca37_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96" title="Diamond::getOrCreateChild" alt="" coords="185,56,367,85"/><area shape="rect" id="node5" href="structDiamond.html#ae2f620bf2b10a6313abd1f593115f8e0" title="Diamond::seed" alt="" coords="417,29,527,59"/><area shape="rect" id="node8" href="structDiamond.html#ac292d950221eb5e48916943adb2363c5" title="Diamond::split" alt="" coords="419,83,525,112"/><area shape="rect" id="node10" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="577,83,727,112"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a550c0ca7f0ffa04dd7acb6bb73f1f64d"></a><!-- doxytag: member="Diamond::setCoord" ref="a550c0ca7f0ffa04dd7acb6bb73f1f64d" args="(const osg::Vec3d &amp;coord)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Diamond::setCoord </td>
          <td>(</td>
          <td class="paramtype">const osg::Vec3d &amp;&#160;</td>
          <td class="paramname"><em>coord</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00156">156</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structDiamond.html#a53395e2aa6e55d422f4bbadd2dbc16e5">_vi</a> = <a class="code" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">_mesh</a>-&gt;<a class="code" href="classMeshManager.html#aaf1622e2e1b305172cf9d2b265fa4127">addNode</a>( coord );
}
</pre></div>
<p><div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a550c0ca7f0ffa04dd7acb6bb73f1f64d_cgraph.png" border="0" usemap="#structDiamond_a550c0ca7f0ffa04dd7acb6bb73f1f64d_cgraph" alt=""/></div>
<map name="structDiamond_a550c0ca7f0ffa04dd7acb6bb73f1f64d_cgraph" id="structDiamond_a550c0ca7f0ffa04dd7acb6bb73f1f64d_cgraph">
<area shape="rect" id="node3" href="classMeshManager.html#aaf1622e2e1b305172cf9d2b265fa4127" title="MeshManager::addNode" alt="" coords="191,5,353,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a884f386ba5b0f292ef278fbcdcb2ba38"></a><!-- doxytag: member="Diamond::setCoord" ref="a884f386ba5b0f292ef278fbcdcb2ba38" args="(double x, double y, double z)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Diamond::setCoord </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the diamond centroid coordinate and adds it to the mesh. </p>

<p>Definition at line <a class="el" href="Diamond_source.html#l00104">104</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>
<div class="fragment"><pre class="fragment">{ <a class="code" href="structDiamond.html#a884f386ba5b0f292ef278fbcdcb2ba38">setCoord</a>( osg::Vec3d(x,y,z) ); }
</pre></div>
<p><div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a884f386ba5b0f292ef278fbcdcb2ba38_cgraph.png" border="0" usemap="#structDiamond_a884f386ba5b0f292ef278fbcdcb2ba38_cgraph" alt=""/></div>
<map name="structDiamond_a884f386ba5b0f292ef278fbcdcb2ba38_cgraph" id="structDiamond_a884f386ba5b0f292ef278fbcdcb2ba38_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a884f386ba5b0f292ef278fbcdcb2ba38_icgraph.png" border="0" usemap="#structDiamond_a884f386ba5b0f292ef278fbcdcb2ba38_icgraph" alt=""/></div>
<map name="structDiamond_a884f386ba5b0f292ef278fbcdcb2ba38_icgraph" id="structDiamond_a884f386ba5b0f292ef278fbcdcb2ba38_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96" title="Diamond::getOrCreateChild" alt="" coords="191,56,372,85"/><area shape="rect" id="node5" href="structDiamond.html#ae2f620bf2b10a6313abd1f593115f8e0" title="Diamond::seed" alt="" coords="423,29,532,59"/><area shape="rect" id="node8" href="structDiamond.html#ac292d950221eb5e48916943adb2363c5" title="Diamond::split" alt="" coords="424,83,531,112"/><area shape="rect" id="node10" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="583,83,732,112"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac292d950221eb5e48916943adb2363c5"></a><!-- doxytag: member="Diamond::split" ref="ac292d950221eb5e48916943adb2363c5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Diamond::split </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>splits the diamond (making children possible). </p>

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00174">174</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// mark as split, and mark the primitive set as needing a refesh:</span>
    <a class="code" href="structDiamond.html#a21f526b37a6ce9c26d973d3fa0476de9">_isSplit</a> = <span class="keyword">true</span>;

    <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">_hasGeometry</a> )
    {
        <span class="comment">// for geometry diamonds, a split means we must regenerate this diamond</span>
        <span class="comment">// AND its quadtree ancestor.</span>
        this-&gt;<a class="code" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc">dirty</a>();
        <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a48aeb588607379b91df5b94a528c2064">QUADTREE</a>]-&gt;dirty();
    }
    <span class="keywordflow">else</span>
    {
        <span class="comment">// for intermediate diamonds, splitting means we must rebuild each immediate parent.</span>
        <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696ae86ff5449523a391fcae04e43f7ff6f7">PARENT_L</a>]-&gt;dirty();
        <a class="code" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">_a</a>[<a class="code" href="Diamond.html#abb258efa2c0e86d6e6d2f4ba8edfb696a0138b2a9f89e5add2d2a64ced248f343">PARENT_R</a>]-&gt;dirty();
    }

    <a class="code" href="structDiamond.html#a130976951b5e6b73f7aae332646e4c67">_queuedForSplit</a> = <span class="keyword">false</span>;

    <span class="comment">// check to see whether any of our neighbors are split. If a neighbor is also</span>
    <span class="comment">// split, spawn a common child.</span>
    <span class="keywordflow">for</span>( <a class="code" href="rivers_2engine__droam_2Common.html#af758888672f3414ac075d2e2a482a903">ChildIndex</a> c = 0; c &lt; <a class="code" href="structDiamond.html#a3d610442052a9ec0e874e56768f79a8a">_childValence</a>; ++c )
    {
        <span class="comment">// debugging assertion:</span>
        <span class="keywordflow">if</span> ( <a class="code" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">_c</a>[c].valid() )
        {
            <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <span class="stringliteral">&quot;ILLEGAL STATE: diamond just split but has kids!&quot;</span> &lt;&lt; std::endl;
        }

        <a class="code" href="structDiamond.html">Diamond</a>* d0 = <a class="code" href="structDiamond.html#ad8655e5f02f59782bb5a83f48a76d8aa">getNeighbor</a>( c );
        <span class="keywordflow">if</span> ( d0 &amp;&amp; d0-&gt;<a class="code" href="structDiamond.html#a21f526b37a6ce9c26d973d3fa0476de9">_isSplit</a> )
        {
            <a class="code" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96">getOrCreateChild</a>( c );
        }
    }
}
</pre></div>
<p><div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_ac292d950221eb5e48916943adb2363c5_cgraph.png" border="0" usemap="#structDiamond_ac292d950221eb5e48916943adb2363c5_cgraph" alt=""/></div>
<map name="structDiamond_ac292d950221eb5e48916943adb2363c5_cgraph" id="structDiamond_ac292d950221eb5e48916943adb2363c5_cgraph">
<area shape="rect" id="node3" href="structDiamond.html#aa6782b05916e296943538332d1fe3abc" title="Diamond::dirty" alt="" coords="693,167,800,196"/><area shape="rect" id="node25" href="structDiamond.html#ad8655e5f02f59782bb5a83f48a76d8aa" title="Diamond::getNeighbor" alt="" coords="176,299,328,328"/><area shape="rect" id="node27" href="structDiamond.html#a7c2cc654038c8cdbd4f397f924731e96" title="Diamond::getOrCreateChild" alt="" coords="161,245,343,275"/><area shape="rect" id="node5" href="classMeshManager.html#ad166dbb08e9178a4d830847c91f711dc" title="MeshManager::queueForRefresh" alt="" coords="897,193,1108,223"/><area shape="rect" id="node7" href="structDiamond.html#a99d5910fcf59bf2fb94ea4a4e15c0373" title="Diamond::refreshDrawable" alt="" coords="915,140,1091,169"/><area shape="rect" id="node9" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4" title="osgEarth::TileKey::getExtent" alt="" coords="1159,59,1348,88"/><area shape="rect" id="node11" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="1160,112,1347,141"/><area shape="rect" id="node13" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47" title="Diamond::node" alt="" coords="1199,272,1308,301"/><area shape="rect" id="node17" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="1163,165,1344,195"/><area shape="rect" id="node21" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="1164,219,1343,248"/><area shape="rect" id="node23" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="1164,5,1343,35"/><area shape="rect" id="node15" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d" title="MeshManager::node" alt="" coords="1453,272,1592,301"/><area shape="rect" id="node19" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="1397,165,1648,195"/><area shape="rect" id="node29" href="structDiamond.html#a67a49af4cc8109874fa5e09d4946abf8" title="Diamond::activate" alt="" coords="431,245,559,275"/><area shape="rect" id="node36" href="structDiamond.html#a0bb775bc54a9a4781586a148f1743b61" title="Diamond::Diamond" alt="" coords="428,299,561,328"/><area shape="rect" id="node38" href="structDiamond.html#ae4f06eac6fc1a10267d6a4772b7fff73" title="Diamond::getOrCreateNeighbor" alt="" coords="392,352,597,381"/><area shape="rect" id="node40" href="structDiamond.html#a422c2a134b5ca3c64871ecda8d649e4b" title="Diamond::q" alt="" coords="451,405,539,435"/><area shape="rect" id="node42" href="structDiamond.html#af63b93743f9cbdf323d644628b2aca37" title="Diamond::setChild" alt="" coords="429,192,560,221"/><area shape="rect" id="node45" href="structDiamond.html#a884f386ba5b0f292ef278fbcdcb2ba38" title="Diamond::setCoord" alt="" coords="428,139,561,168"/><area shape="rect" id="node31" href="structDiamond.html#a92f8386bf6603e5146d0df6b0db0693c" title="Diamond::computeBound" alt="" coords="919,272,1087,301"/><area shape="rect" id="node34" href="classMeshManager.html#a7533ed486cffaa5b6f22d392b02e43c2" title="MeshManager::queueForImage" alt="" coords="645,220,848,249"/></map>
</div>
</p>

<p><div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_ac292d950221eb5e48916943adb2363c5_icgraph.png" border="0" usemap="#structDiamond_ac292d950221eb5e48916943adb2363c5_icgraph" alt=""/></div>
<map name="structDiamond_ac292d950221eb5e48916943adb2363c5_icgraph" id="structDiamond_ac292d950221eb5e48916943adb2363c5_icgraph">
<area shape="rect" id="node3" href="classMeshManager.html#adaaf589067ef0e73a3f215e9a9cf4ad1" title="MeshManager::update" alt="" coords="161,5,311,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a85645bf231669dc38712b791961f895d"></a><!-- doxytag: member="Diamond::visibleBound" ref="a85645bf231669dc38712b791961f895d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const osg::BoundingSphere &amp; Diamond::visibleBound </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_8cpp_source.html#l00390">390</a> of file <a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( !<a class="code" href="structDiamond.html#a4ed15b87b3f9d49b0a3ee66d2a99dd45">_bsComputed</a> )
        <span class="keyword">const_cast&lt;</span><a class="code" href="structDiamond.html">Diamond</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="structDiamond.html#a92f8386bf6603e5146d0df6b0db0693c">computeBound</a>();
    <span class="keywordflow">return</span> <a class="code" href="structDiamond.html#a03b6bd559d20cc32e4af2f5e451ab404">_visibleBound</a>;
}
</pre></div>
<p><div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a85645bf231669dc38712b791961f895d_cgraph.png" border="0" usemap="#structDiamond_a85645bf231669dc38712b791961f895d_cgraph" alt=""/></div>
<map name="structDiamond_a85645bf231669dc38712b791961f895d_cgraph" id="structDiamond_a85645bf231669dc38712b791961f895d_cgraph">
<area shape="rect" id="node3" href="structDiamond.html#a92f8386bf6603e5146d0df6b0db0693c" title="Diamond::computeBound" alt="" coords="212,5,380,35"/><area shape="rect" id="node5" href="structDiamond.html#aaa003d1932c27e6444e20ef2de94fa47" title="Diamond::node" alt="" coords="431,5,540,35"/><area shape="rect" id="node7" href="classMeshManager.html#aaabb61d8f0f173737b48dd238cbe9a4d" title="MeshManager::node" alt="" coords="591,5,729,35"/></map>
</div>
</p>

<p><div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><img src="structDiamond_a85645bf231669dc38712b791961f895d_icgraph.png" border="0" usemap="#structDiamond_a85645bf231669dc38712b791961f895d_icgraph" alt=""/></div>
<map name="structDiamond_a85645bf231669dc38712b791961f895d_icgraph" id="structDiamond_a85645bf231669dc38712b791961f895d_icgraph">
<area shape="rect" id="node3" href="structDiamond.html#a432a0496ce229e06b336e900dc5af518" title="Diamond::cull" alt="" coords="212,5,313,35"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a3180f78d019e097f5275152b7007117f"></a><!-- doxytag: member="Diamond::_a" ref="a3180f78d019e097f5275152b7007117f" args="[4]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;<a class="el" href="structDiamond.html">Diamond</a>&gt; <a class="el" href="structDiamond.html#a3180f78d019e097f5275152b7007117f">Diamond::_a</a>[4]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00070">70</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a9abfde64d7b6fa657fc4cfec9a8dee99"></a><!-- doxytag: member="Diamond::_amrDrawable" ref="a9abfde64d7b6fa657fc4cfec9a8dee99" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;<a class="el" href="classAMRDrawable.html">AMRDrawable</a>&gt; <a class="el" href="structDiamond.html#a9abfde64d7b6fa657fc4cfec9a8dee99">Diamond::_amrDrawable</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00084">84</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a4ed15b87b3f9d49b0a3ee66d2a99dd45"></a><!-- doxytag: member="Diamond::_bsComputed" ref="a4ed15b87b3f9d49b0a3ee66d2a99dd45" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structDiamond.html#a4ed15b87b3f9d49b0a3ee66d2a99dd45">Diamond::_bsComputed</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00081">81</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="ab727406cd4213d995fcee3a39587651c"></a><!-- doxytag: member="Diamond::_c" ref="ab727406cd4213d995fcee3a39587651c" args="[4]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;<a class="el" href="structDiamond.html">Diamond</a>&gt; <a class="el" href="structDiamond.html#ab727406cd4213d995fcee3a39587651c">Diamond::_c</a>[4]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00071">71</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a3d610442052a9ec0e874e56768f79a8a"></a><!-- doxytag: member="Diamond::_childValence" ref="a3d610442052a9ec0e874e56768f79a8a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short <a class="el" href="structDiamond.html#a3d610442052a9ec0e874e56768f79a8a">Diamond::_childValence</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00072">72</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a878a7541c0d5285ef650163c7b050f44"></a><!-- doxytag: member="Diamond::_currentStateSetOwner" ref="a878a7541c0d5285ef650163c7b050f44" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDiamond.html">Diamond</a>* <a class="el" href="structDiamond.html#a878a7541c0d5285ef650163c7b050f44">Diamond::_currentStateSetOwner</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00086">86</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a92a87b307ac7016450fd04e0d8b6f8fa"></a><!-- doxytag: member="Diamond::_drawableDirty" ref="a92a87b307ac7016450fd04e0d8b6f8fa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structDiamond.html#a92a87b307ac7016450fd04e0d8b6f8fa">Diamond::_drawableDirty</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00077">77</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="aa782111d32fb1965c1d12246d490ddd0"></a><!-- doxytag: member="Diamond::_extendedBound" ref="aa782111d32fb1965c1d12246d490ddd0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::BoundingSphere <a class="el" href="structDiamond.html#aa782111d32fb1965c1d12246d490ddd0">Diamond::_extendedBound</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00093">93</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a59f4e155f9bd71802a449f531e2f6917"></a><!-- doxytag: member="Diamond::_hasFinalImage" ref="a59f4e155f9bd71802a449f531e2f6917" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structDiamond.html#a59f4e155f9bd71802a449f531e2f6917">Diamond::_hasFinalImage</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00088">88</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a0071f8300e0807644fb568e84d973d61"></a><!-- doxytag: member="Diamond::_hasGeometry" ref="a0071f8300e0807644fb568e84d973d61" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structDiamond.html#a0071f8300e0807644fb568e84d973d61">Diamond::_hasGeometry</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00074">74</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a0b1758479482447d81bd8748a406f614"></a><!-- doxytag: member="Diamond::_imageRequest" ref="a0b1758479482447d81bd8748a406f614" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;<a class="el" href="classosgEarth_1_1TaskRequest.html">osgEarth::TaskRequest</a>&gt; <a class="el" href="structDiamond.html#a0b1758479482447d81bd8748a406f614">Diamond::_imageRequest</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00096">96</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a1532af54d2342850b28c3372d4116b78"></a><!-- doxytag: member="Diamond::_imageRequested" ref="a1532af54d2342850b28c3372d4116b78" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structDiamond.html#a1532af54d2342850b28c3372d4116b78">Diamond::_imageRequested</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00082">82</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a21f526b37a6ce9c26d973d3fa0476de9"></a><!-- doxytag: member="Diamond::_isSplit" ref="a21f526b37a6ce9c26d973d3fa0476de9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structDiamond.html#a21f526b37a6ce9c26d973d3fa0476de9">Diamond::_isSplit</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00073">73</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a814198de692e29fbe4019e6e70eb24ca"></a><!-- doxytag: member="Diamond::_key" ref="a814198de692e29fbe4019e6e70eb24ca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1TileKey.html">osgEarth::TileKey</a> <a class="el" href="structDiamond.html#a814198de692e29fbe4019e6e70eb24ca">Diamond::_key</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00064">64</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="ad97485f59f389debc8c56aa3ee7672c8"></a><!-- doxytag: member="Diamond::_lastCullFrame" ref="ad97485f59f389debc8c56aa3ee7672c8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rivers_2engine__droam_2Common.html#ab7c6048a30397e8adb167a787a07cde8">TravNumber</a> <a class="el" href="structDiamond.html#ad97485f59f389debc8c56aa3ee7672c8">Diamond::_lastCullFrame</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00076">76</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a0c16c419fbfd76e6cb15af5da5f578c1"></a><!-- doxytag: member="Diamond::_level" ref="a0c16c419fbfd76e6cb15af5da5f578c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rivers_2engine__droam_2Common.html#abe08e330dab3140c34f1df2af8c190cd">Level</a> <a class="el" href="structDiamond.html#a0c16c419fbfd76e6cb15af5da5f578c1">Diamond::_level</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00066">66</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a5727cc04af065dc3d51516bb745dc876"></a><!-- doxytag: member="Diamond::_mesh" ref="a5727cc04af065dc3d51516bb745dc876" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMeshManager.html">MeshManager</a>* <a class="el" href="structDiamond.html#a5727cc04af065dc3d51516bb745dc876">Diamond::_mesh</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00069">69</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="ae17dd63b89a5fa24bcde717db4b6e5e8"></a><!-- doxytag: member="Diamond::_name" ref="ae17dd63b89a5fa24bcde717db4b6e5e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="structDiamond.html#ae17dd63b89a5fa24bcde717db4b6e5e8">Diamond::_name</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00065">65</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a95ea2713729a4fecd051d1743937905f"></a><!-- doxytag: member="Diamond::_orientation" ref="a95ea2713729a4fecd051d1743937905f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Diamond.html#a5f4337b82a15b3df46c2894a738a798c">Orientation</a> <a class="el" href="structDiamond.html#a95ea2713729a4fecd051d1743937905f">Diamond::_orientation</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00067">67</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a4a638b0650d0a779511edf697a8fc372"></a><!-- doxytag: member="Diamond::_queuedForImage" ref="a4a638b0650d0a779511edf697a8fc372" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structDiamond.html#a4a638b0650d0a779511edf697a8fc372">Diamond::_queuedForImage</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00080">80</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a8f159ffac485b90b8b5ec9464ae59b73"></a><!-- doxytag: member="Diamond::_queuedForMerge" ref="a8f159ffac485b90b8b5ec9464ae59b73" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structDiamond.html#a8f159ffac485b90b8b5ec9464ae59b73">Diamond::_queuedForMerge</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00079">79</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a130976951b5e6b73f7aae332646e4c67"></a><!-- doxytag: member="Diamond::_queuedForSplit" ref="a130976951b5e6b73f7aae332646e4c67" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structDiamond.html#a130976951b5e6b73f7aae332646e4c67">Diamond::_queuedForSplit</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00078">78</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a644a820d288559443b559d9157e32b49"></a><!-- doxytag: member="Diamond::_stateSet" ref="a644a820d288559443b559d9157e32b49" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;<a class="el" href="structRevisionedStateSet.html">RevisionedStateSet</a>&gt; <a class="el" href="structDiamond.html#a644a820d288559443b559d9157e32b49">Diamond::_stateSet</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00083">83</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="ae819cc68d85a3bcc735f985688eb401f"></a><!-- doxytag: member="Diamond::_status" ref="ae819cc68d85a3bcc735f985688eb401f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Diamond.html#a14f2cb6b85d7de86736527d3a14f98b7">DiamondStatus</a> <a class="el" href="structDiamond.html#ae819cc68d85a3bcc735f985688eb401f">Diamond::_status</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00068">68</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a41c62c5b6213f46b5d1c529edefa37d8"></a><!-- doxytag: member="Diamond::_targetStateSetOwner" ref="a41c62c5b6213f46b5d1c529edefa37d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDiamond.html">Diamond</a>* <a class="el" href="structDiamond.html#a41c62c5b6213f46b5d1c529edefa37d8">Diamond::_targetStateSetOwner</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00085">85</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a9e9db1f8af56e5531a0deeccf306c585"></a><!-- doxytag: member="Diamond::_targetStateSetRevision" ref="a9e9db1f8af56e5531a0deeccf306c585" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structosgEarth_1_1Revision.html">osgEarth::Revision</a> <a class="el" href="structDiamond.html#a9e9db1f8af56e5531a0deeccf306c585">Diamond::_targetStateSetRevision</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00087">87</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a53395e2aa6e55d422f4bbadd2dbc16e5"></a><!-- doxytag: member="Diamond::_vi" ref="a53395e2aa6e55d422f4bbadd2dbc16e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rivers_2engine__droam_2Common.html#a15280048c91257326bb356142ebe4ee6">NodeIndex</a> <a class="el" href="structDiamond.html#a53395e2aa6e55d422f4bbadd2dbc16e5">Diamond::_vi</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00075">75</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<a class="anchor" id="a03b6bd559d20cc32e4af2f5e451ab404"></a><!-- doxytag: member="Diamond::_visibleBound" ref="a03b6bd559d20cc32e4af2f5e451ab404" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::BoundingSphere <a class="el" href="structDiamond.html#a03b6bd559d20cc32e4af2f5e451ab404">Diamond::_visibleBound</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Diamond_source.html#l00090">90</a> of file <a class="el" href="Diamond_source.html">Diamond</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>/home/cube/sources/osgearth/src/osgEarthDrivers/engine_droam/<a class="el" href="Diamond_source.html">Diamond</a></li>
<li>/home/cube/sources/osgearth/src/osgEarthDrivers/engine_droam/<a class="el" href="Diamond_8cpp_source.html">Diamond.cpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Jan 18 2012 15:02:44 for osgEarth by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
