<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>osgEarth: osgEarth::OverlayDecorator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">osgEarth&#160;<span id="projectnumber">2.1.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceosgEarth.html">osgEarth</a>      </li>
      <li class="navelem"><a class="el" href="classosgEarth_1_1OverlayDecorator.html">OverlayDecorator</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<h1>osgEarth::OverlayDecorator Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="osgEarth::OverlayDecorator" --><!-- doxytag: inherits="osgEarth::TerrainDecorator" --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for osgEarth::OverlayDecorator:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator__inherit__graph.png" border="0" usemap="#osgEarth_1_1OverlayDecorator_inherit__map" alt="Inheritance graph"/></div>
<map name="osgEarth_1_1OverlayDecorator_inherit__map" id="osgEarth_1_1OverlayDecorator_inherit__map">
<area shape="rect" id="node2" href="classosgEarth_1_1TerrainDecorator.html" title="osgEarth::TerrainDecorator" alt="" coords="8,5,187,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Collaboration diagram for osgEarth::OverlayDecorator:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator__coll__graph.png" border="0" usemap="#osgEarth_1_1OverlayDecorator_coll__map" alt="Collaboration graph"/></div>
<map name="osgEarth_1_1OverlayDecorator_coll__map" id="osgEarth_1_1OverlayDecorator_coll__map">
<area shape="rect" id="node2" href="classosgEarth_1_1TerrainDecorator.html" title="osgEarth::TerrainDecorator" alt="" coords="5,5,184,35"/><area shape="rect" id="node4" href="structosgEarth_1_1optional.html" title="osgEarth::optional\&lt; int \&gt;" alt="" coords="208,5,373,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classosgEarth_1_1OverlayDecorator-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#ab3fcceacab083f39ae82af8793b9c4bd">OverlayDecorator</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a93dce0a2a37a19eba33217c9086b99bc">setOverlayGraph</a> (osg::Node *node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::Node *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#aff733043850892a1b50591749e273a2f">getOverlayGraph</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a4cfb28a7c83dda0a390de1c50be677c0">setTextureUnit</a> (int unit)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a0a8457b95402791fe0dcb23b5d4d85f6">getTextureUnit</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a44844cff4ad6d8865697a25276b0237d">setTextureSize</a> (int texSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a73914ff96e55e3f9d19d39d6950aa84c">getTextureSize</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a2d94eb6b9b28ffd129025e14cb869c91">setMipmapping</a> (bool value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a2803f345d12d7aa44372b9cd0f321a59">getMipmapping</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#aef2375c1e1d802785b2efe041f12ed09">setVertexWarping</a> (bool value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#acb0c97ca534aeac6ebad29290b12eae9">getVertexWarping</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a54200fa4ab69d206d25064c3a6a5c4c7">setOverlayBlending</a> (bool value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#ac51e2434789f20ea2584bdad911829e5">getOverlayBlending</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a09cce99ca2428ba54e4dd3d88c82eace">onInstall</a> (<a class="el" href="classosgEarth_1_1TerrainEngineNode.html">TerrainEngineNode</a> *engine)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a9ac6cce0d2546cfac4ba4152b0e0e3a0">onUninstall</a> (<a class="el" href="classosgEarth_1_1TerrainEngineNode.html">TerrainEngineNode</a> *engine)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a1022044ae90c5bdf154fe708440db84e">traverse</a> (osg::NodeVisitor &amp;nv)</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a601fc06c1551c801e9ba4f2a33b6559e">updateRTTCamera</a> (osg::NodeVisitor &amp;nv)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a4b3f3da5c3b79ae6fd7b1280333bb75a">cull</a> (osgUtil::CullVisitor *cv)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad">reinit</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#af521bc095b4ca1ecfb187370cf1b70d1">initSubgraphShaders</a> (osg::StateSet *set)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a84677df2ac8f2786733e6605b9638b15">initRTTShaders</a> (osg::StateSet *set)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; osg::Node &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; osg::Camera &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; osg::Texture2D &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">_projTexture</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; osg::TexGenNode &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#af23fcb963c00261962bf8316f3ea191d">_texGenNode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; osg::Uniform &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a47ed4f79df81ef3db7191b1c7cfa996b">_texGenUniform</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; osg::Uniform &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a1e125aa9284f5e95e601f144d495a60c">_warpUniform</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; osg::StateSet &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a1a754148ea5b7a9baa1eb5f4734e7130">_subgraphStateSet</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structosgEarth_1_1optional.html">optional</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a39a25b5a01e3e8a8ca68588e75516d2e">_explicitTextureUnit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structosgEarth_1_1optional.html">optional</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structosgEarth_1_1optional.html">optional</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a0c4fca2f6dd2eb23c41c2c73139781ee">_textureSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#ab0c8cb79dcd42a3b0040e7b1928e9cdc">_useShaders</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a21b5cf5ca4206bd9027082db05abdea5">_useWarping</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a36f494627331813948e5e3beb6ff5e4a">_warp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a8bbacde8eb9a26923b0a7be407d7977f">_warping</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a45f25e8aaa7ee92082ddb166d863f8e4">_visualizeWarp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#aee3b28b8beea021fb62cfa19e4c553d9">_isGeocentric</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#aa3211b55be88bda9fd8e259fc7bbbb5a">_maxProjectedMapExtent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a688251c3e08aa07fa5167cb7f245da9d">_mipmapping</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#afb354db0c0776315f6e3cac9ab0b1752">_rttBlending</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::Matrixd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a5434eae58e5d4989bf5b040c16570425">_rttViewMatrix</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::Matrixd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a004c916b9eec306f0c2bea63b1ca801d">_rttProjMatrix</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::Matrixd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#abaf3823935b68663a9c65107512cfa0d">_projectorViewMatrix</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::Matrixd&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#ae0fa1407829903a6dd64960787cdf5dd">_projectorProjMatrix</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; const <br class="typebreak"/>
osg::EllipsoidModel &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a19587a90325d62eacfda44fa65dd938a">_ellipsoid</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr<br class="typebreak"/>
&lt; <a class="el" href="classosgEarth_1_1VirtualProgram.html">osgEarth::VirtualProgram</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a79bd770a60a6074648bc42785f4ff49a">_vp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; <a class="el" href="classosgEarth_1_1TerrainEngineNode.html">TerrainEngineNode</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1OverlayDecorator.html#a7add4331cdd533856504a3ebb1de2d25">_engine</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Projects an overlay scene graph onto the main model.</p>
<p>The <a class="el" href="classosgEarth_1_1OverlayDecorator.html">OverlayDecorator</a> is automatically installed in the <a class="el" href="classosgEarth_1_1MapNode.html">MapNode</a> and is used to display ModelLayer's whose "overlay" property is set to true.</p>
<p>This class is similar in scope to osgSim::OverlayNode, but is optimized for use with <a class="el" href="namespaceosgEarth.html">osgEarth</a> and geocentric terrains. </p>

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00043">43</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab3fcceacab083f39ae82af8793b9c4bd"></a><!-- doxytag: member="osgEarth::OverlayDecorator::OverlayDecorator" ref="ab3fcceacab083f39ae82af8793b9c4bd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OverlayDecorator::OverlayDecorator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00218">218</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                   :
<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a>  ( 1 ),
<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a0c4fca2f6dd2eb23c41c2c73139781ee">_textureSize</a>  ( 1024 ),
<a class="code" href="classosgEarth_1_1OverlayDecorator.html#ab0c8cb79dcd42a3b0040e7b1928e9cdc">_useShaders</a>   ( <span class="keyword">false</span> ),
<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a21b5cf5ca4206bd9027082db05abdea5">_useWarping</a>   ( <span class="keyword">false</span> ),
<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a36f494627331813948e5e3beb6ff5e4a">_warp</a>         ( 1.0f ),
<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a45f25e8aaa7ee92082ddb166d863f8e4">_visualizeWarp</a>( <span class="keyword">false</span> ),
<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a688251c3e08aa07fa5167cb7f245da9d">_mipmapping</a>   ( <span class="keyword">true</span> ),
<a class="code" href="classosgEarth_1_1OverlayDecorator.html#afb354db0c0776315f6e3cac9ab0b1752">_rttBlending</a>  ( <span class="keyword">true</span> )
{
    <span class="comment">// nop</span>
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a4b3f3da5c3b79ae6fd7b1280333bb75a"></a><!-- doxytag: member="osgEarth::OverlayDecorator::cull" ref="a4b3f3da5c3b79ae6fd7b1280333bb75a" args="(osgUtil::CullVisitor *cv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OverlayDecorator::cull </td>
          <td>(</td>
          <td class="paramtype">osgUtil::CullVisitor *&#160;</td>
          <td class="paramname"><em>cv</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00646">646</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">static</span> <span class="keywordtype">int</span> s_frame = 1;

    osg::Vec3 eye = cv-&gt;getEyePoint();

    <span class="keywordtype">double</span> eyeLen;
    osg::Vec3d worldUp;

    <span class="comment">// height above sea level</span>
    <span class="keywordtype">double</span> hasl;

    <span class="comment">// weight of the HASL value when calculating extent compensation</span>
    <span class="keywordtype">double</span> haslWeight;

    <span class="comment">// approximate distance to the visible horizon</span>
    <span class="keywordtype">double</span> horizonDistance; 

    <span class="comment">// distance to the horizon, projected into the RTT camera&#39;s tangent plane.</span>
    <span class="keywordtype">double</span> horizonDistanceInRTTPlane;

    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#aee3b28b8beea021fb62cfa19e4c553d9">_isGeocentric</a> )
    {
        <span class="keywordtype">double</span> lat, lon;
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a19587a90325d62eacfda44fa65dd938a">_ellipsoid</a>-&gt;convertXYZToLatLongHeight( eye.x(), eye.y(), eye.z(), lat, lon, hasl );
        hasl = osg::maximum( hasl, 100.0 );

        worldUp = <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a19587a90325d62eacfda44fa65dd938a">_ellipsoid</a>-&gt;computeLocalUpVector(eye.x(), eye.y(), eye.z());

        eyeLen = eye.length();

        <span class="comment">// radius of the earth under the eyepoint</span>
        <span class="keywordtype">double</span> radius = eyeLen - hasl; 
        horizonDistance = sqrt( 2.0 * radius * hasl ); 
    
        <span class="comment">// calculate the distance to the horizon, projected into the RTT camera plane.</span>
        <span class="comment">// This is the maximum limit of eMax since there is no point in drawing overlay</span>
        <span class="comment">// data beyond the visible horizon.</span>
        <span class="keywordtype">double</span> pitchAngleOfHorizon_rad = acos( horizonDistance/eyeLen );
        horizonDistanceInRTTPlane = horizonDistance * sin( pitchAngleOfHorizon_rad );
    }
    <span class="keywordflow">else</span> <span class="comment">// projected map</span>
    {
        hasl = eye.z();
        hasl = osg::maximum( hasl, 100.0 );
        worldUp.set( 0.0, 0.0, 1.0 );
        eyeLen = hasl * 2.0;

        <span class="comment">// there is no maximum horizon distance in a projected map</span>
        horizonDistance = DBL_MAX;
        horizonDistanceInRTTPlane = DBL_MAX;

        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a5434eae58e5d4989bf5b040c16570425">_rttViewMatrix</a> = osg::Matrixd::lookAt( eye, eye-worldUp*hasl, osg::Vec3(0,1,0) );
    }

    <span class="comment">// create a &quot;weighting&quot; that weights HASL against the camera&#39;s pitch.</span>
    osg::Vec3d lookVector = cv-&gt;getLookVectorLocal();
    haslWeight = osg::absolute(worldUp * lookVector);

    <span class="comment">// unit look-vector of the eye:</span>
    osg::Vec3d from, to, up;
    <span class="keyword">const</span> osg::Matrix&amp; mvMatrix = *cv-&gt;getModelViewMatrix();
    mvMatrix.getLookAt( from, to, up, eyeLen);
    osg::Vec3 camLookVec = to-from;
    camLookVec.normalize();

    <span class="comment">// unit look-vector of the RTT camera:</span>
    osg::Vec3d rttLookVec = -worldUp;

    <span class="comment">// the minimum and maximum extents of the overlay ortho projector:</span>
    <span class="keywordtype">double</span> eMin = 0.1;
    <span class="keywordtype">double</span> eMax = DBL_MAX;

    <span class="comment">// Save and reset the current near/far planes before traversing the subgraph.</span>
    <span class="comment">// We do this because we want a projection matrix that includes ONLY the clip</span>
    <span class="comment">// planes from the subgraph, and not anything traversed up to this point.</span>
    <span class="keywordtype">double</span> zSavedNear = cv-&gt;getCalculatedNearPlane();
    <span class="keywordtype">double</span> zSavedFar  = cv-&gt;getCalculatedFarPlane();

    cv-&gt;setCalculatedNearPlane( FLT_MAX );
    cv-&gt;setCalculatedFarPlane( -FLT_MAX );

    <span class="comment">// cull the subgraph here. This doubles as the subgraph&#39;s official cull traversal</span>
    <span class="comment">// and a gathering of its clip planes.</span>
    cv-&gt;pushStateSet( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a1a754148ea5b7a9baa1eb5f4734e7130">_subgraphStateSet</a>.get() );
    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a1022044ae90c5bdf154fe708440db84e">osg::Group::traverse</a>( *cv );
    cv-&gt;popStateSet();

    <span class="comment">// Pull a copy of the projection matrix; we will use this to calculate the optimum</span>
    <span class="comment">// projected texture extent</span>
    osg::Matrixd projMatrix = *cv-&gt;getProjectionMatrix();

    <span class="comment">// Clamp the projection matrix to the newly calculated clip planes. This prevents</span>
    <span class="comment">// any &quot;leakage&quot; from outside the subraph.</span>
    <span class="keywordtype">double</span> zNear = cv-&gt;getCalculatedNearPlane();
    <span class="keywordtype">double</span> zFar  = cv-&gt;getCalculatedFarPlane();
    cv-&gt;clampProjectionMatrix( projMatrix, zNear, zFar );

    <span class="comment">//OE_NOTICE &lt;&lt; std::fixed &lt;&lt; &quot;zNear = &quot; &lt;&lt; zNear &lt;&lt; &quot;, zFar = &quot; &lt;&lt; zFar &lt;&lt; std::endl;</span>

    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#aee3b28b8beea021fb62cfa19e4c553d9">_isGeocentric</a> )
    {
        <span class="comment">// in geocentric mode, clamp the far clip plane to the horizon.</span>
        <span class="keywordtype">double</span> maxDistance = (1.0 - haslWeight)  * horizonDistance  + haslWeight * hasl;
        maxDistance *= 1.5;
        <span class="keywordflow">if</span> (zFar - zNear &gt;= maxDistance)
            zFar = zNear + maxDistance;

        cv-&gt;clampProjectionMatrix( projMatrix, zNear, zFar );
    }

    <span class="comment">// restore the clip planes in the cull visitor, now that we have our subgraph</span>
    <span class="comment">// projection matrix.</span>
    cv-&gt;setCalculatedNearPlane( osg::minimum(zSavedNear, zNear) );
    cv-&gt;setCalculatedFarPlane( osg::maximum(zSavedFar, zFar) );
       
    <span class="comment">// contruct the polyhedron representing the viewing frustum.</span>
    <span class="comment">//osgShadow::ConvexPolyhedron frustumPH;</span>
    MyConvexPolyhedron frustumPH;
    frustumPH.setToUnitFrustum( <span class="keyword">true</span>, <span class="keyword">true</span> );
    osg::Matrixd MVP = *cv-&gt;getModelViewMatrix() * projMatrix;
    osg::Matrixd inverseMVP;
    inverseMVP.invert(MVP);
    frustumPH.transform( inverseMVP, MVP );

    <span class="comment">// make a polyhedron representing the viewing frustum of the overlay, and cut it to</span>
    <span class="comment">// intersect the viewing frustum:</span>
    osgShadow::ConvexPolyhedron visiblePH;

    <span class="comment">// get the bounds of the overlay graph model. </span>
    osg::BoundingBox visibleOverlayBBox;
    CoarsePolytopeIntersector cpi( frustumPH, visibleOverlayBBox );
    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a>-&gt;accept( cpi );
    visiblePH.setToBoundingBox( visibleOverlayBBox );

    <span class="comment">// this intersects the viewing frustum with the subgraph&#39;s bounding box, basically giving us</span>
    <span class="comment">// a &quot;minimal&quot; polyhedron containing all potentially visible geometry. (It can&#39;t be truly </span>
    <span class="comment">// minimal without clipping at the geometry level, but that would probably be too expensive.)</span>
    visiblePH.cut( frustumPH );

    <span class="comment">// calculate the extents for our orthographic RTT camera (clamping it to the</span>
    <span class="comment">// visible horizon)</span>
    std::vector&lt;osg::Vec3d&gt; verts;
    visiblePH.getPoints( verts );

    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#aee3b28b8beea021fb62cfa19e4c553d9">_isGeocentric</a> )
    {
        <span class="comment">// for a geocentric map, try to place the RTT camera position at an optimal point</span>
        <span class="comment">// that will minimize the span of the RTT texture. Take the centroid of the </span>
        <span class="comment">// visible polyhedron and clamp it&#39;s distance to the eyepoint by half the horizon</span>
        <span class="comment">// distance.</span>
        osg::BoundingBox box = visiblePH.computeBoundingBox();
        osg::Vec3d bc = box.center();
        osg::Vec3d eye2bc = eye - bc;
        <span class="keywordflow">if</span> ( eye2bc.length() &gt; horizonDistance )
        {
            eye2bc.normalize();
            bc = eye + eye2bc * 0.5*horizonDistance;
        }
        
        rttLookVec = -bc;
        rttLookVec.normalize();

        <span class="keywordtype">double</span> new_eMax;
        <a class="code" href="namespaceanonymous__namespace_02OverlayDecorator_8cpp_03.html#a9c34873e920bb8ed5c5f5d4df6600d76">getMinMaxExtentInSilhouette</a>( bc, rttLookVec, verts, eMin, new_eMax );
        eMax = std::min( eMax, new_eMax );
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a5434eae58e5d4989bf5b040c16570425">_rttViewMatrix</a> = osg::Matrixd::lookAt( bc, osg::Vec3d(0,0,0), osg::Vec3d(0,0,1) );
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a004c916b9eec306f0c2bea63b1ca801d">_rttProjMatrix</a> = osg::Matrixd::ortho( -eMax, eMax, -eMax, eMax, -eyeLen, bc.length() );

        <span class="comment">//OE_INFO &lt;&lt; std::fixed &lt;&lt; std::setprecision(1)</span>
        <span class="comment">//    &lt;&lt; &quot;eMax = &quot; &lt;&lt; eMax</span>
        <span class="comment">//    &lt;&lt; &quot;, bc = &quot; &lt;&lt; bc.x() &lt;&lt; &quot;, &quot; &lt;&lt; bc.y() &lt;&lt; &quot;, &quot; &lt;&lt; bc.z()</span>
        <span class="comment">//    &lt;&lt; &quot;, eye = &quot; &lt;&lt; eye.x() &lt;&lt; &quot;, &quot; &lt;&lt; eye.y() &lt;&lt; &quot;, &quot; &lt;&lt; eye.z()</span>
        <span class="comment">//    &lt;&lt; &quot;, eyeLen = &quot; &lt;&lt; eyeLen</span>
        <span class="comment">//    &lt;&lt; std::endl;</span>
    }
    <span class="keywordflow">else</span>
    {
        <span class="comment">// for a projected map, just point the RTT straight down at the camera position.</span>
        <span class="comment">// TODO: this could be optimized, probably.</span>
        <span class="keywordtype">double</span> new_eMax;
        <a class="code" href="namespaceanonymous__namespace_02OverlayDecorator_8cpp_03.html#a9c34873e920bb8ed5c5f5d4df6600d76">getMinMaxExtentInSilhouette</a>( from, osg::Vec3d(0,0,-1), verts, eMin, new_eMax );   
        eMax = std::min( eMax, new_eMax ); 
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a004c916b9eec306f0c2bea63b1ca801d">_rttProjMatrix</a> = osg::Matrix::ortho( -eMax, eMax, -eMax, eMax, -eyeLen, eyeLen );
    }

    <span class="comment">//OE_NOTICE &lt;&lt; LC &lt;&lt; &quot;EMIN = &quot; &lt;&lt; eMin &lt;&lt; &quot;, EMAX = &quot; &lt;&lt; eMax &lt;&lt; std::endl;</span>

    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a21b5cf5ca4206bd9027082db05abdea5">_useWarping</a> )
    {
        <span class="comment">// calculate the warping paramaters. This uses shaders to warp the verts and</span>
        <span class="comment">// tex coords to favor data closer to the camera when necessary.</span>

<span class="preprocessor">    #define WARP_LIMIT 3.0</span>
<span class="preprocessor"></span>
        <span class="keywordtype">double</span> pitchStrength = ( camLookVec * rttLookVec ); <span class="comment">// eye pitch relative to rtt pitch</span>
        <span class="keywordtype">double</span> devStrength = 1.0 - (pitchStrength*pitchStrength);
        <span class="keywordtype">double</span> haslStrength = 1.0 - osg::clampBetween( hasl/1e6, 0.0, 1.0 );

        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a36f494627331813948e5e3beb6ff5e4a">_warp</a> = 1.0 + devStrength * haslStrength * <a class="code" href="OverlayDecorator_8cpp.html#a4c8e09c1dfa8a0c486b8bf9f874521fd">WARP_LIMIT</a>;

        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a45f25e8aaa7ee92082ddb166d863f8e4">_visualizeWarp</a> )
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a36f494627331813948e5e3beb6ff5e4a">_warp</a> = 4.0;

<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>        <a class="code" href="Notify.html#a47e8673ea1af7af40d431820bf3856fa">OE_INFO</a> &lt;&lt; <a class="code" href="OverlayDecorator_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; std::fixed
            &lt;&lt; <span class="stringliteral">&quot;hasl=&quot;</span> &lt;&lt; hasl
            &lt;&lt; <span class="stringliteral">&quot;, eMin=&quot;</span> &lt;&lt; eMin
            &lt;&lt; <span class="stringliteral">&quot;, eMax=&quot;</span> &lt;&lt; eMax
            &lt;&lt; <span class="stringliteral">&quot;, eyeLen=&quot;</span> &lt;&lt; eyeLen
            <span class="comment">//&lt;&lt; &quot;, ratio=&quot; &lt;&lt; ratio</span>
            <span class="comment">//&lt;&lt; &quot;, dev=&quot; &lt;&lt; devStrength</span>
            <span class="comment">//&lt;&lt; &quot;, has=&quot; &lt;&lt; haeStrength</span>
            &lt;&lt; <span class="stringliteral">&quot;, warp=&quot;</span> &lt;&lt; <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a36f494627331813948e5e3beb6ff5e4a">_warp</a>
            &lt;&lt; std::endl;
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>    }

<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>    <span class="keywordflow">if</span> ( s_frame++ % 100 == 0 )
    {
        osgShadow::ConvexPolyhedron rttPH;
        rttPH.setToUnitFrustum( <span class="keyword">true</span>, <span class="keyword">true</span> );
        osg::Matrixd MVP = <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a5434eae58e5d4989bf5b040c16570425">_rttViewMatrix</a> * <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a004c916b9eec306f0c2bea63b1ca801d">_rttProjMatrix</a>;
        osg::Matrixd inverseMVP;
        inverseMVP.invert(MVP);
        rttPH.transform( inverseMVP, MVP );
        rttPH.dumpGeometry();
    }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
    <span class="comment">// projector matrices are the same as for the RTT camera. Tim was right.</span>
    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#abaf3823935b68663a9c65107512cfa0d">_projectorViewMatrix</a> = <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a5434eae58e5d4989bf5b040c16570425">_rttViewMatrix</a>;
    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#ae0fa1407829903a6dd64960787cdf5dd">_projectorProjMatrix</a> = <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a004c916b9eec306f0c2bea63b1ca801d">_rttProjMatrix</a>;
}
</pre></div>
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a4b3f3da5c3b79ae6fd7b1280333bb75a_cgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a4b3f3da5c3b79ae6fd7b1280333bb75a_cgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a4b3f3da5c3b79ae6fd7b1280333bb75a_cgraph" id="classosgEarth_1_1OverlayDecorator_a4b3f3da5c3b79ae6fd7b1280333bb75a_cgraph">
<area shape="rect" id="node3" href="namespaceanonymous__namespace_02OverlayDecorator_8cpp_03.html#a9c34873e920bb8ed5c5f5d4df6600d76" title="anonymous_namespace\{OverlayDecorator::cpp\}::getMinMaxExtentInSilhouette" alt="" coords="268,5,748,35"/><area shape="rect" id="node5" href="classosgEarth_1_1OverlayDecorator.html#a1022044ae90c5bdf154fe708440db84e" title="osgEarth::OverlayDecorator::traverse" alt="" coords="389,59,627,88"/><area shape="rect" id="node8" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="867,32,1032,61"/><area shape="rect" id="node10" href="classosgEarth_1_1OverlayDecorator.html#a601fc06c1551c801e9ba4f2a33b6559e" title="osgEarth::OverlayDecorator::updateRTTCamera" alt="" coords="799,85,1100,115"/></map>
</div>
</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a4b3f3da5c3b79ae6fd7b1280333bb75a_icgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a4b3f3da5c3b79ae6fd7b1280333bb75a_icgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a4b3f3da5c3b79ae6fd7b1280333bb75a_icgraph" id="classosgEarth_1_1OverlayDecorator_a4b3f3da5c3b79ae6fd7b1280333bb75a_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1OverlayDecorator.html#a1022044ae90c5bdf154fe708440db84e" title="osgEarth::OverlayDecorator::traverse" alt="" coords="268,5,505,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2803f345d12d7aa44372b9cd0f321a59"></a><!-- doxytag: member="osgEarth::OverlayDecorator::getMipmapping" ref="a2803f345d12d7aa44372b9cd0f321a59" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool osgEarth::OverlayDecorator::getMipmapping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00076">76</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a688251c3e08aa07fa5167cb7f245da9d">_mipmapping</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="ac51e2434789f20ea2584bdad911829e5"></a><!-- doxytag: member="osgEarth::OverlayDecorator::getOverlayBlending" ref="ac51e2434789f20ea2584bdad911829e5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool osgEarth::OverlayDecorator::getOverlayBlending </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00093">93</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1OverlayDecorator.html#afb354db0c0776315f6e3cac9ab0b1752">_rttBlending</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="aff733043850892a1b50591749e273a2f"></a><!-- doxytag: member="osgEarth::OverlayDecorator::getOverlayGraph" ref="aff733043850892a1b50591749e273a2f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Node* osgEarth::OverlayDecorator::getOverlayGraph </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00052">52</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a>.get(); }
</pre></div>
</div>
</div>
<a class="anchor" id="a73914ff96e55e3f9d19d39d6950aa84c"></a><!-- doxytag: member="osgEarth::OverlayDecorator::getTextureSize" ref="a73914ff96e55e3f9d19d39d6950aa84c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osgEarth::OverlayDecorator::getTextureSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00068">68</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a0c4fca2f6dd2eb23c41c2c73139781ee">_textureSize</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="a0a8457b95402791fe0dcb23b5d4d85f6"></a><!-- doxytag: member="osgEarth::OverlayDecorator::getTextureUnit" ref="a0a8457b95402791fe0dcb23b5d4d85f6" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int osgEarth::OverlayDecorator::getTextureUnit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00060">60</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="acb0c97ca534aeac6ebad29290b12eae9"></a><!-- doxytag: member="osgEarth::OverlayDecorator::getVertexWarping" ref="acb0c97ca534aeac6ebad29290b12eae9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool osgEarth::OverlayDecorator::getVertexWarping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00084">84</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a8bbacde8eb9a26923b0a7be407d7977f">_warping</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="a84677df2ac8f2786733e6605b9638b15"></a><!-- doxytag: member="osgEarth::OverlayDecorator::initRTTShaders" ref="a84677df2ac8f2786733e6605b9638b15" args="(osg::StateSet *set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OverlayDecorator::initRTTShaders </td>
          <td>(</td>
          <td class="paramtype">osg::StateSet *&#160;</td>
          <td class="paramname"><em>set</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00348">348</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">//TODO: convert this to VP so the overlay graph can use shadercomp too.</span>
    osg::Program* program = <span class="keyword">new</span> osg::Program();
    program-&gt;setName( <span class="stringliteral">&quot;OverlayDecorator RTT shader&quot;</span> );
    <span class="keyword">set</span>-&gt;setAttributeAndModes( program, osg::StateAttribute::ON );

    std::stringstream buf;
    buf &lt;&lt; <span class="stringliteral">&quot;#version 110 \n&quot;</span>;

    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a21b5cf5ca4206bd9027082db05abdea5">_useWarping</a> )
    {
        buf &lt;&lt; <span class="stringliteral">&quot;uniform float warp; \n&quot;</span>

            <span class="comment">// because the built-in pow() is busted</span>
            &lt;&lt; <span class="stringliteral">&quot;float mypow( in float x, in float y ) \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;{ \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;    return x/(x+y-y*x); \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;} \n&quot;</span>

            &lt;&lt; <span class="stringliteral">&quot;vec4 warpVertex( in vec4 src ) \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;{ \n&quot;</span>
            <span class="comment">//      normalize to [-1..1], then take the absolute values since we</span>
            <span class="comment">//      want to apply the warping in [0..1] on each side of zero:</span>
            &lt;&lt; <span class="stringliteral">&quot;    vec2 srct = vec2( abs(src.x)/src.w, abs(src.y)/src.w ); \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;    vec2 sign = vec2( src.x &gt; 0.0 ? 1.0 : -1.0, src.y &gt; 0.0 ? 1.0 : -1.0 ); \n&quot;</span>

            <span class="comment">//      apply the deformation using a &quot;deceleration&quot; curve:</span>
            &lt;&lt; <span class="stringliteral">&quot;    vec2 srcp = vec2( 1.0-mypow(1.0-srct.x,warp), 1.0-mypow(1.0-srct.y,warp) ); \n&quot;</span>

            <span class="comment">//      re-apply the sign. no need to un-normalize, just use w=1 instead</span>
            &lt;&lt; <span class="stringliteral">&quot;    return vec4( sign.x*srcp.x, sign.y*srcp.y, src.z/src.w, 1.0 ); \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;} \n&quot;</span>

            &lt;&lt; <span class="stringliteral">&quot;void main() \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;{ \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;    gl_Position = warpVertex( gl_ModelViewProjectionMatrix * gl_Vertex ); \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;    gl_FrontColor = gl_Color; \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;    gl_TexCoord[0] = gl_MultiTexCoord0;\n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;} \n&quot;</span>;
    }

    <span class="keywordflow">else</span> <span class="comment">// no vertex warping</span>
    {
        buf &lt;&lt; <span class="stringliteral">&quot;void main() \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;{ \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;    gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex; \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;    gl_FrontColor = gl_Color; \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;    gl_TexCoord[0] = gl_MultiTexCoord0;\n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;} \n&quot;</span>;
    }

    std::string vertSource = buf.str();
    program-&gt;addShader( <span class="keyword">new</span> osg::Shader( osg::Shader::VERTEX, vertSource ) );

    std::stringstream fragBuf;
    fragBuf    &lt;&lt; <span class="stringliteral">&quot;#version 110 \n&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;uniform sampler2D texture_0; \n&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;void main() \n&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;{\n&quot;</span>                              
               &lt;&lt; <span class="stringliteral">&quot;    vec4 tex = texture2D(texture_0, gl_TexCoord[0].xy);\n&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;    vec3 mixed_color = mix(gl_Color.rgb, tex.rgb, tex.a);\n&quot;</span>
               <span class="comment">//&lt;&lt; &quot;    gl_FragColor = vec4(mixed_color, gl_Color.a); \n&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;    gl_FragColor = vec4(mixed_color, gl_Color.a); \n&quot;</span>
               &lt;&lt; <span class="stringliteral">&quot;}\n&quot;</span>;
    
    std::string fragSource = fragBuf.str();
    
    program-&gt;addShader( <span class="keyword">new</span> osg::Shader( osg::Shader::FRAGMENT, fragSource ) );
    <span class="keyword">set</span>-&gt;addUniform(<span class="keyword">new</span> osg::Uniform(<span class="stringliteral">&quot;texture_0&quot;</span>,0));
}
</pre></div>
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a84677df2ac8f2786733e6605b9638b15_icgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a84677df2ac8f2786733e6605b9638b15_icgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a84677df2ac8f2786733e6605b9638b15_icgraph" id="classosgEarth_1_1OverlayDecorator_a84677df2ac8f2786733e6605b9638b15_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad" title="osgEarth::OverlayDecorator::reinit" alt="" coords="337,165,556,195"/><area shape="rect" id="node5" href="classosgEarth_1_1OverlayDecorator.html#a09cce99ca2428ba54e4dd3d88c82eace" title="osgEarth::OverlayDecorator::onInstall" alt="" coords="639,5,879,35"/><area shape="rect" id="node7" href="classosgEarth_1_1OverlayDecorator.html#a2d94eb6b9b28ffd129025e14cb869c91" title="osgEarth::OverlayDecorator::setMipmapping" alt="" coords="619,59,899,88"/><area shape="rect" id="node9" href="classosgEarth_1_1OverlayDecorator.html#a54200fa4ab69d206d25064c3a6a5c4c7" title="osgEarth::OverlayDecorator::setOverlayBlending" alt="" coords="607,112,911,141"/><area shape="rect" id="node11" href="classosgEarth_1_1OverlayDecorator.html#a93dce0a2a37a19eba33217c9086b99bc" title="osgEarth::OverlayDecorator::setOverlayGraph" alt="" coords="613,165,904,195"/><area shape="rect" id="node13" href="classosgEarth_1_1OverlayDecorator.html#a44844cff4ad6d8865697a25276b0237d" title="osgEarth::OverlayDecorator::setTextureSize" alt="" coords="619,219,899,248"/><area shape="rect" id="node15" href="classosgEarth_1_1OverlayDecorator.html#a4cfb28a7c83dda0a390de1c50be677c0" title="osgEarth::OverlayDecorator::setTextureUnit" alt="" coords="620,272,897,301"/><area shape="rect" id="node17" href="classosgEarth_1_1OverlayDecorator.html#aef2375c1e1d802785b2efe041f12ed09" title="osgEarth::OverlayDecorator::setVertexWarping" alt="" coords="611,325,907,355"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af521bc095b4ca1ecfb187370cf1b70d1"></a><!-- doxytag: member="osgEarth::OverlayDecorator::initSubgraphShaders" ref="af521bc095b4ca1ecfb187370cf1b70d1" args="(osg::StateSet *set)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OverlayDecorator::initSubgraphShaders </td>
          <td>(</td>
          <td class="paramtype">osg::StateSet *&#160;</td>
          <td class="paramname"><em>set</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00421">421</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1VirtualProgram.html">VirtualProgram</a>* vp = <span class="keyword">new</span> <a class="code" href="classosgEarth_1_1VirtualProgram.html">VirtualProgram</a>();
    vp-&gt;setName( <span class="stringliteral">&quot;OverlayDecorator subgraph shader&quot;</span> );
    <span class="keyword">set</span>-&gt;setAttributeAndModes( vp, osg::StateAttribute::ON );

    <span class="comment">// sampler for projected texture:</span>
    <span class="keyword">set</span>-&gt;getOrCreateUniform( <span class="stringliteral">&quot;osgearth_overlay_ProjTex&quot;</span>, osg::Uniform::SAMPLER_2D )-&gt;set( *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a> );

    <span class="comment">// the texture projection matrix uniform.</span>
    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a47ed4f79df81ef3db7191b1c7cfa996b">_texGenUniform</a> = <span class="keyword">set</span>-&gt;getOrCreateUniform( <span class="stringliteral">&quot;osgearth_overlay_TexGenMatrix&quot;</span>, osg::Uniform::FLOAT_MAT4 );

    std::stringstream buf;

    <span class="comment">// vertex shader - subgraph</span>
    buf &lt;&lt; <span class="stringliteral">&quot;#version 110 \n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;uniform mat4 osgearth_overlay_TexGenMatrix; \n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;uniform mat4 osg_ViewMatrixInverse; \n&quot;</span>

        &lt;&lt; <span class="stringliteral">&quot;void osgearth_overlay_vertex(void) \n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;{ \n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;    gl_TexCoord[&quot;</span>&lt;&lt; *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a> &lt;&lt; <span class="stringliteral">&quot;] = osgearth_overlay_TexGenMatrix * osg_ViewMatrixInverse * gl_ModelViewMatrix * gl_Vertex; \n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;} \n&quot;</span>;

    std::string vertexSource = buf.str();
    vp-&gt;<a class="code" href="classosgEarth_1_1VirtualProgram.html#af9da03697906650ba02f2da3a8fdd04e">setFunction</a>( <span class="stringliteral">&quot;osgearth_overlay_vertex&quot;</span>, vertexSource, <a class="code" href="namespaceosgEarth_1_1ShaderComp.html#aa58583ccd17a04d01aaec664bd42cdcaaa299bbc4180a44e8600da5d476cca8cf">ShaderComp::LOCATION_VERTEX_POST_LIGHTING</a> );

    <span class="comment">// fragment shader - subgraph</span>
    buf.str(<span class="stringliteral">&quot;&quot;</span>);
    buf &lt;&lt; <span class="stringliteral">&quot;#version 110 \n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;uniform sampler2D osgearth_overlay_ProjTex; \n&quot;</span>;

    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a21b5cf5ca4206bd9027082db05abdea5">_useWarping</a> )
    {
        buf &lt;&lt; <span class="stringliteral">&quot;uniform float warp; \n&quot;</span>

            <span class="comment">// because the built-in pow() is busted</span>
            &lt;&lt; <span class="stringliteral">&quot;float mypow( in float x, in float y ) \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;{ \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;    return x/(x+y-y*x); \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;} \n&quot;</span>

            &lt;&lt; <span class="stringliteral">&quot;vec2 warpTexCoord( in vec2 src ) \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;{ \n&quot;</span>
            <span class="comment">//      incoming tex coord is [0..1], so we scale to [-1..1]</span>
            &lt;&lt; <span class="stringliteral">&quot;    vec2 srcn = vec2( src.x*2.0 - 1.0, src.y*2.0 - 1.0 ); \n&quot;</span> 

            <span class="comment">//      we want to work in the [0..1] space on each side of 0, so can the abs</span>
            <span class="comment">//      and store the signs for later:</span>
            &lt;&lt; <span class="stringliteral">&quot;    vec2 srct = vec2( abs(srcn.x), abs(srcn.y) ); \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;    vec2 sign = vec2( srcn.x &gt; 0.0 ? 1.0 : -1.0, srcn.y &gt; 0.0 ? 1.0 : -1.0 ); \n&quot;</span>

            <span class="comment">//      apply the deformation using a deceleration curve:</span>
            &lt;&lt; <span class="stringliteral">&quot;    vec2 srcp = vec2( 1.0-mypow(1.0-srct.x,warp), 1.0-mypow(1.0-srct.y,warp) ); \n&quot;</span>

            <span class="comment">//      reapply the sign, and scale back to [0..1]:</span>
            &lt;&lt; <span class="stringliteral">&quot;    vec2 srcr = vec2( sign.x*srcp.x, sign.y*srcp.y ); \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;    return vec2( 0.5*(srcr.x + 1.0), 0.5*(srcr.y + 1.0) ); \n&quot;</span>
            &lt;&lt; <span class="stringliteral">&quot;} \n&quot;</span>;
    }

    buf &lt;&lt; <span class="stringliteral">&quot;void osgearth_overlay_fragment( inout vec4 color ) \n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;{ \n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;    vec2 texCoord = gl_TexCoord[&quot;</span>&lt;&lt; *_textureUnit &lt;&lt; <span class="stringliteral">&quot;].xy / gl_TexCoord[&quot;</span>&lt;&lt; *_textureUnit &lt;&lt; <span class="stringliteral">&quot;].q; \n&quot;</span>;

    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a21b5cf5ca4206bd9027082db05abdea5">_useWarping</a> &amp;&amp; !<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a45f25e8aaa7ee92082ddb166d863f8e4">_visualizeWarp</a> )
        buf  &lt;&lt; <span class="stringliteral">&quot;    texCoord = warpTexCoord( texCoord ); \n&quot;</span>;

    buf &lt;&lt; <span class="stringliteral">&quot;    vec4 texel = texture2D(osgearth_overlay_ProjTex, texCoord); \n&quot;</span>  
        &lt;&lt; <span class="stringliteral">&quot;    color = vec4( mix( color.rgb, texel.rgb, texel.a ), color.a); \n&quot;</span>
        &lt;&lt; <span class="stringliteral">&quot;} \n&quot;</span>;

    std::string fragmentSource = buf.str();
    vp-&gt;<a class="code" href="classosgEarth_1_1VirtualProgram.html#af9da03697906650ba02f2da3a8fdd04e">setFunction</a>( <span class="stringliteral">&quot;osgearth_overlay_fragment&quot;</span>, fragmentSource, <a class="code" href="namespaceosgEarth_1_1ShaderComp.html#aa58583ccd17a04d01aaec664bd42cdcaa530b35016567d1f2baec6d92146726d2">ShaderComp::LOCATION_FRAGMENT_PRE_LIGHTING</a> );
}
</pre></div>
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_af521bc095b4ca1ecfb187370cf1b70d1_cgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_af521bc095b4ca1ecfb187370cf1b70d1_cgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_af521bc095b4ca1ecfb187370cf1b70d1_cgraph" id="classosgEarth_1_1OverlayDecorator_af521bc095b4ca1ecfb187370cf1b70d1_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1VirtualProgram.html#af9da03697906650ba02f2da3a8fdd04e" title="osgEarth::VirtualProgram::setFunction" alt="" coords="367,5,609,35"/><area shape="rect" id="node5" href="classosgEarth_1_1VirtualProgram.html#a0dde219eb0e46b7c3b019a65111b8a61" title="osgEarth::VirtualProgram::setShader" alt="" coords="659,5,893,35"/></map>
</div>
</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_af521bc095b4ca1ecfb187370cf1b70d1_icgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_af521bc095b4ca1ecfb187370cf1b70d1_icgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_af521bc095b4ca1ecfb187370cf1b70d1_icgraph" id="classosgEarth_1_1OverlayDecorator_af521bc095b4ca1ecfb187370cf1b70d1_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad" title="osgEarth::OverlayDecorator::reinit" alt="" coords="367,165,585,195"/><area shape="rect" id="node5" href="classosgEarth_1_1OverlayDecorator.html#a09cce99ca2428ba54e4dd3d88c82eace" title="osgEarth::OverlayDecorator::onInstall" alt="" coords="668,5,908,35"/><area shape="rect" id="node7" href="classosgEarth_1_1OverlayDecorator.html#a2d94eb6b9b28ffd129025e14cb869c91" title="osgEarth::OverlayDecorator::setMipmapping" alt="" coords="648,59,928,88"/><area shape="rect" id="node9" href="classosgEarth_1_1OverlayDecorator.html#a54200fa4ab69d206d25064c3a6a5c4c7" title="osgEarth::OverlayDecorator::setOverlayBlending" alt="" coords="636,112,940,141"/><area shape="rect" id="node11" href="classosgEarth_1_1OverlayDecorator.html#a93dce0a2a37a19eba33217c9086b99bc" title="osgEarth::OverlayDecorator::setOverlayGraph" alt="" coords="643,165,933,195"/><area shape="rect" id="node13" href="classosgEarth_1_1OverlayDecorator.html#a44844cff4ad6d8865697a25276b0237d" title="osgEarth::OverlayDecorator::setTextureSize" alt="" coords="648,219,928,248"/><area shape="rect" id="node15" href="classosgEarth_1_1OverlayDecorator.html#a4cfb28a7c83dda0a390de1c50be677c0" title="osgEarth::OverlayDecorator::setTextureUnit" alt="" coords="649,272,927,301"/><area shape="rect" id="node17" href="classosgEarth_1_1OverlayDecorator.html#aef2375c1e1d802785b2efe041f12ed09" title="osgEarth::OverlayDecorator::setVertexWarping" alt="" coords="640,325,936,355"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a09cce99ca2428ba54e4dd3d88c82eace"></a><!-- doxytag: member="osgEarth::OverlayDecorator::onInstall" ref="a09cce99ca2428ba54e4dd3d88c82eace" args="(TerrainEngineNode *engine)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OverlayDecorator::onInstall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1TerrainEngineNode.html">TerrainEngineNode</a> *&#160;</td>
          <td class="paramname"><em>engine</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classosgEarth_1_1TerrainDecorator.html#a81e65314d1637a2fe5785996c7bdb18a">osgEarth::TerrainDecorator</a>.</p>

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00576">576</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a7add4331cdd533856504a3ebb1de2d25">_engine</a> = engine;

    <span class="comment">// establish the earth&#39;s major axis:</span>
    <a class="code" href="classosgEarth_1_1MapInfo.html">MapInfo</a> info(engine-&gt;<a class="code" href="classosgEarth_1_1TerrainEngineNode.html#a719bff8ddb0f444f5f7e19c4a71bc9e3">getMap</a>());
    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#aee3b28b8beea021fb62cfa19e4c553d9">_isGeocentric</a> = info.isGeocentric();
    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a19587a90325d62eacfda44fa65dd938a">_ellipsoid</a> = info.getProfile()-&gt;getSRS()-&gt;getEllipsoid();

    <span class="comment">// the maximum extent (for projected maps only)</span>
    <span class="keywordflow">if</span> ( !_isGeocentric )
    {
        <span class="keyword">const</span> <a class="code" href="classosgEarth_1_1GeoExtent.html">GeoExtent</a>&amp; extent = info.getProfile()-&gt;getExtent();
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#aa3211b55be88bda9fd8e259fc7bbbb5a">_maxProjectedMapExtent</a> = osg::maximum( extent.<a class="code" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d">width</a>(), extent.<a class="code" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d">height</a>() );
    }

    <span class="comment">// see whether we want shader support:</span>
    <span class="comment">// TODO: this is not stricty correct; you might still want to use shader overlays</span>
    <span class="comment">// in multipass mode, AND you might want FFP overlays in multitexture-FFP mode.</span>
    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#ab0c8cb79dcd42a3b0040e7b1928e9cdc">_useShaders</a> = engine-&gt;<a class="code" href="classosgEarth_1_1TerrainEngineNode.html#a06d67cc2ade987fae6ad7d610d941580">getTextureCompositor</a>()-&gt;<a class="code" href="classosgEarth_1_1TextureCompositor.html#ab7a9336f87cda5e79e8f20f01a169e14">usesShaderComposition</a>();

    <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a0c4fca2f6dd2eb23c41c2c73139781ee">_textureSize</a>.<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() )
    {
        <span class="keywordtype">unsigned</span> maxSize = <a class="code" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09">Registry::instance</a>()-&gt;<a class="code" href="classosgEarth_1_1Registry.html#a8ebadcf08d3161838cb5d2d7e0dcdbb3">getCapabilities</a>().<a class="code" href="classosgEarth_1_1Capabilities.html#aaecf11d2726a2dec348fe42aefd19738">getMaxFastTextureSize</a>();
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a0c4fca2f6dd2eb23c41c2c73139781ee">_textureSize</a>.<a class="code" href="structosgEarth_1_1optional.html#a3a903b78968146555a904059e001d602">init</a>( osg::minimum( 4096u, maxSize ) );

        <a class="code" href="Notify.html#a47e8673ea1af7af40d431820bf3856fa">OE_INFO</a> &lt;&lt; <a class="code" href="OverlayDecorator_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Using texture size = &quot;</span> &lt;&lt; *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a0c4fca2f6dd2eb23c41c2c73139781ee">_textureSize</a> &lt;&lt; std::endl;
    }

    <span class="comment">// rebuild dynamic elements.</span>
    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad">reinit</a>();
}
</pre></div>
<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a09cce99ca2428ba54e4dd3d88c82eace_cgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a09cce99ca2428ba54e4dd3d88c82eace_cgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a09cce99ca2428ba54e4dd3d88c82eace_cgraph" id="classosgEarth_1_1OverlayDecorator_a09cce99ca2428ba54e4dd3d88c82eace_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Registry.html#a8ebadcf08d3161838cb5d2d7e0dcdbb3" title="osgEarth::Registry::getCapabilities" alt="" coords="356,5,580,35"/><area shape="rect" id="node5" href="classosgEarth_1_1TerrainEngineNode.html#a719bff8ddb0f444f5f7e19c4a71bc9e3" title="osgEarth::TerrainEngineNode::getMap" alt="" coords="347,59,589,88"/><area shape="rect" id="node7" href="classosgEarth_1_1Capabilities.html#aaecf11d2726a2dec348fe42aefd19738" title="osgEarth::Capabilities::getMaxFastTextureSize" alt="" coords="320,112,616,141"/><area shape="rect" id="node9" href="classosgEarth_1_1TerrainEngineNode.html#a06d67cc2ade987fae6ad7d610d941580" title="osgEarth::TerrainEngineNode::getTextureCompositor" alt="" coords="303,165,633,195"/><area shape="rect" id="node11" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="375,219,561,248"/><area shape="rect" id="node13" href="structosgEarth_1_1optional.html#a3a903b78968146555a904059e001d602" title="osgEarth::optional::init" alt="" coords="392,272,544,301"/><area shape="rect" id="node15" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="375,325,561,355"/><area shape="rect" id="node28" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="761,377,927,407"/><area shape="rect" id="node30" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad" title="osgEarth::OverlayDecorator::reinit" alt="" coords="359,429,577,459"/><area shape="rect" id="node41" href="classosgEarth_1_1TextureCompositor.html#ab7a9336f87cda5e79e8f20f01a169e14" title="osgEarth::TextureCompositor::usesShaderComposition" alt="" coords="297,483,639,512"/><area shape="rect" id="node43" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="377,536,559,565"/><area shape="rect" id="node17" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="751,324,937,353"/><area shape="rect" id="node19" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="1048,244,1376,273"/><area shape="rect" id="node22" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="1100,297,1324,327"/><area shape="rect" id="node24" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="1091,351,1333,380"/><area shape="rect" id="node26" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="1089,404,1335,433"/><area shape="rect" id="node32" href="classosgEarth_1_1OverlayDecorator.html#a84677df2ac8f2786733e6605b9638b15" title="osgEarth::OverlayDecorator::initRTTShaders" alt="" coords="703,431,985,460"/><area shape="rect" id="node34" href="classosgEarth_1_1OverlayDecorator.html#af521bc095b4ca1ecfb187370cf1b70d1" title="osgEarth::OverlayDecorator::initSubgraphShaders" alt="" coords="688,484,1000,513"/><area shape="rect" id="node36" href="classosgEarth_1_1VirtualProgram.html#af9da03697906650ba02f2da3a8fdd04e" title="osgEarth::VirtualProgram::setFunction" alt="" coords="1091,484,1333,513"/><area shape="rect" id="node38" href="classosgEarth_1_1VirtualProgram.html#a0dde219eb0e46b7c3b019a65111b8a61" title="osgEarth::VirtualProgram::setShader" alt="" coords="1424,484,1659,513"/><area shape="rect" id="node45" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="719,537,969,567"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9ac6cce0d2546cfac4ba4152b0e0e3a0"></a><!-- doxytag: member="osgEarth::OverlayDecorator::onUninstall" ref="a9ac6cce0d2546cfac4ba4152b0e0e3a0" args="(TerrainEngineNode *engine)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OverlayDecorator::onUninstall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1TerrainEngineNode.html">TerrainEngineNode</a> *&#160;</td>
          <td class="paramname"><em>engine</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classosgEarth_1_1TerrainDecorator.html#a992a02fe90754387a791adde29d233d7">osgEarth::TerrainDecorator</a>.</p>

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00610">610</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a39a25b5a01e3e8a8ca68588e75516d2e">_explicitTextureUnit</a>.<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() &amp;&amp; <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a>.<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() )
    {
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a7add4331cdd533856504a3ebb1de2d25">_engine</a>-&gt;getTextureCompositor()-&gt;releaseTextureImageUnit( *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a> );
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a>.<a class="code" href="structosgEarth_1_1optional.html#accde75fd530c9e33bb6c4a636e8c290d">unset</a>();
    }

    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a7add4331cdd533856504a3ebb1de2d25">_engine</a> = 0L;
}
</pre></div>
<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a9ac6cce0d2546cfac4ba4152b0e0e3a0_cgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a9ac6cce0d2546cfac4ba4152b0e0e3a0_cgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a9ac6cce0d2546cfac4ba4152b0e0e3a0_cgraph" id="classosgEarth_1_1OverlayDecorator_a9ac6cce0d2546cfac4ba4152b0e0e3a0_cgraph">
<area shape="rect" id="node3" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="313,5,479,35"/><area shape="rect" id="node5" href="structosgEarth_1_1optional.html#accde75fd530c9e33bb6c4a636e8c290d" title="osgEarth::optional::unset" alt="" coords="313,59,479,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a65321fc7dc7a2ba1277b6b65a38344ad"></a><!-- doxytag: member="osgEarth::OverlayDecorator::reinit" ref="a65321fc7dc7a2ba1277b6b65a38344ad" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OverlayDecorator::reinit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00232">232</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a7add4331cdd533856504a3ebb1de2d25">_engine</a>.valid() ) <span class="keywordflow">return</span>;

    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a>.valid() )
    {
        <span class="comment">// apply the user-request texture unit, if applicable:</span>
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a39a25b5a01e3e8a8ca68588e75516d2e">_explicitTextureUnit</a>.<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() )
        {
            <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a>.<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() || *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a> != *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a39a25b5a01e3e8a8ca68588e75516d2e">_explicitTextureUnit</a> )
            {
                <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a> = *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a39a25b5a01e3e8a8ca68588e75516d2e">_explicitTextureUnit</a>;
            }
        }

        <span class="comment">// otherwise, automatically allocate a texture unit if necessary:</span>
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a>.<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() &amp;&amp; <a class="code" href="classosgEarth_1_1OverlayDecorator.html#ab0c8cb79dcd42a3b0040e7b1928e9cdc">_useShaders</a> )
        {
            <span class="keywordtype">int</span> texUnit;
            <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a7add4331cdd533856504a3ebb1de2d25">_engine</a>-&gt;getTextureCompositor()-&gt;reserveTextureImageUnit( texUnit ) )
            {
                <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a> = texUnit;
                <a class="code" href="Notify.html#a47e8673ea1af7af40d431820bf3856fa">OE_INFO</a> &lt;&lt; <a class="code" href="OverlayDecorator_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Reserved texture image unit &quot;</span> &lt;&lt; *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a> &lt;&lt; std::endl;
            }
            <span class="keywordflow">else</span>
            {
                <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <a class="code" href="OverlayDecorator_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Uh oh, no texture image units available.&quot;</span> &lt;&lt; std::endl;
            }
        }

        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a>.<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() )
        {
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">_projTexture</a> = <span class="keyword">new</span> osg::Texture2D();
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">_projTexture</a>-&gt;setTextureSize( *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a0c4fca2f6dd2eb23c41c2c73139781ee">_textureSize</a>, *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a0c4fca2f6dd2eb23c41c2c73139781ee">_textureSize</a> );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">_projTexture</a>-&gt;setInternalFormat( GL_RGBA8 );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">_projTexture</a>-&gt;setSourceFormat( GL_RGBA );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">_projTexture</a>-&gt;setSourceType( GL_UNSIGNED_BYTE );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">_projTexture</a>-&gt;setFilter( osg::Texture::MIN_FILTER, <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a688251c3e08aa07fa5167cb7f245da9d">_mipmapping</a>? osg::Texture::LINEAR_MIPMAP_LINEAR : osg::Texture::LINEAR );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">_projTexture</a>-&gt;setFilter( osg::Texture::MAG_FILTER, osg::Texture::LINEAR );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">_projTexture</a>-&gt;setWrap( osg::Texture::WRAP_S, osg::Texture::CLAMP_TO_BORDER );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">_projTexture</a>-&gt;setWrap( osg::Texture::WRAP_T, osg::Texture::CLAMP_TO_BORDER );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">_projTexture</a>-&gt;setWrap( osg::Texture::WRAP_R, osg::Texture::CLAMP_TO_BORDER );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">_projTexture</a>-&gt;setBorderColor( osg::Vec4(0,0,0,0) );

            <span class="comment">// set up the RTT camera:</span>
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a> = <span class="keyword">new</span> osg::Camera();
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;setClearColor( osg::Vec4f(0,0,0,0) );
            <span class="comment">// this ref frame causes the RTT to inherit its viewpoint from above (in order to properly</span>
            <span class="comment">// process PagedLOD&#39;s etc. -- it doesn&#39;t affect the perspective of the RTT camera though)</span>
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;setReferenceFrame( osg::Camera::ABSOLUTE_RF_INHERIT_VIEWPOINT );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;setViewport( 0, 0, *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a0c4fca2f6dd2eb23c41c2c73139781ee">_textureSize</a>, *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a0c4fca2f6dd2eb23c41c2c73139781ee">_textureSize</a> );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;setComputeNearFarMode( osg::CullSettings::DO_NOT_COMPUTE_NEAR_FAR );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;setRenderOrder( osg::Camera::PRE_RENDER );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;setRenderTargetImplementation( osg::Camera::FRAME_BUFFER_OBJECT );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;attach( osg::Camera::COLOR_BUFFER, <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">_projTexture</a>.get(), 0, 0, <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a688251c3e08aa07fa5167cb7f245da9d">_mipmapping</a> );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;getOrCreateStateSet()-&gt;setMode( GL_LIGHTING, osg::StateAttribute::OFF | osg::StateAttribute::PROTECTED );

            <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#afb354db0c0776315f6e3cac9ab0b1752">_rttBlending</a> )
            {
                osg::BlendFunc* blendFunc = <span class="keyword">new</span> osg::BlendFunc(GL_ONE, GL_ONE_MINUS_SRC_ALPHA);
                <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;getOrCreateStateSet()-&gt;setAttributeAndModes(blendFunc, osg::StateAttribute::ON | osg::StateAttribute::OVERRIDE);
            }
            <span class="keywordflow">else</span>
            {
                <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;getOrCreateStateSet()-&gt;setMode(GL_BLEND, osg::StateAttribute::OFF | osg::StateAttribute::OVERRIDE);
            }
            <span class="comment">//Enable blending on the RTT camera with pre-multiplied alpha.</span>
            <span class="comment">//osg::BlendFunc* blendFunc = new osg::BlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA, GL_ONE, GL_ONE);</span>
                

            <span class="comment">// texture coordinate generator:</span>
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af23fcb963c00261962bf8316f3ea191d">_texGenNode</a> = <span class="keyword">new</span> osg::TexGenNode();
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af23fcb963c00261962bf8316f3ea191d">_texGenNode</a>-&gt;setTextureUnit( *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a> );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af23fcb963c00261962bf8316f3ea191d">_texGenNode</a>-&gt;getTexGen()-&gt;setMode( osg::TexGen::EYE_LINEAR );
            
            <span class="comment">// attach the overlay graph to the RTT camera.</span>
            <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a>.valid() &amp;&amp; ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a>-&gt;getNumParents() == 0 || <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a>-&gt;getParent(0) != <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>.get() ))
            {
                <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;getNumChildren() &gt; 0 )
                    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;replaceChild( 0, <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a>.get() );
                <span class="keywordflow">else</span>
                    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;addChild( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a>.get() );
            }
        }
    }

    <span class="comment">// assemble the subgraph stateset:</span>
    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a1a754148ea5b7a9baa1eb5f4734e7130">_subgraphStateSet</a> = <span class="keyword">new</span> osg::StateSet();

    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a>.valid() &amp;&amp; <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a>.<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() )
    {
        <span class="comment">// set up the subgraph to receive the projected texture:</span>
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a1a754148ea5b7a9baa1eb5f4734e7130">_subgraphStateSet</a>-&gt;setTextureMode( *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a>, GL_TEXTURE_GEN_S, osg::StateAttribute::ON );
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a1a754148ea5b7a9baa1eb5f4734e7130">_subgraphStateSet</a>-&gt;setTextureMode( *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a>, GL_TEXTURE_GEN_T, osg::StateAttribute::ON );
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a1a754148ea5b7a9baa1eb5f4734e7130">_subgraphStateSet</a>-&gt;setTextureMode( *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a>, GL_TEXTURE_GEN_R, osg::StateAttribute::ON );
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a1a754148ea5b7a9baa1eb5f4734e7130">_subgraphStateSet</a>-&gt;setTextureMode( *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a>, GL_TEXTURE_GEN_Q, osg::StateAttribute::ON );
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a1a754148ea5b7a9baa1eb5f4734e7130">_subgraphStateSet</a>-&gt;setTextureAttributeAndModes( *<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a>, <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">_projTexture</a>.get(), osg::StateAttribute::ON );

        <span class="comment">// decalling (note: this has no effect when using shaders.. remove? -gw)</span>
        <span class="comment">//osg::TexEnv* env = new osg::TexEnv();</span>
        <span class="comment">//env-&gt;setMode( osg::TexEnv::DECAL );</span>
        <span class="comment">//_subgraphStateSet-&gt;setTextureAttributeAndModes( *_textureUnit, env, osg::StateAttribute::ON );</span>
        
        <span class="comment">// set up the shaders</span>
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#ab0c8cb79dcd42a3b0040e7b1928e9cdc">_useShaders</a> )
        {            
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af521bc095b4ca1ecfb187370cf1b70d1">initSubgraphShaders</a>( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a1a754148ea5b7a9baa1eb5f4734e7130">_subgraphStateSet</a>.get() );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a84677df2ac8f2786733e6605b9638b15">initRTTShaders</a>( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;getOrCreateStateSet() );

            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a1e125aa9284f5e95e601f144d495a60c">_warpUniform</a> = this-&gt;getOrCreateStateSet()-&gt;getOrCreateUniform( <span class="stringliteral">&quot;warp&quot;</span>, osg::Uniform::FLOAT );
            _warpUniform-&gt;set( 1.0f );
        }
    }
}
</pre></div>
<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a65321fc7dc7a2ba1277b6b65a38344ad_cgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a65321fc7dc7a2ba1277b6b65a38344ad_cgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a65321fc7dc7a2ba1277b6b65a38344ad_cgraph" id="classosgEarth_1_1OverlayDecorator_a65321fc7dc7a2ba1277b6b65a38344ad_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1OverlayDecorator.html#a84677df2ac8f2786733e6605b9638b15" title="osgEarth::OverlayDecorator::initRTTShaders" alt="" coords="289,5,572,35"/><area shape="rect" id="node5" href="classosgEarth_1_1OverlayDecorator.html#af521bc095b4ca1ecfb187370cf1b70d1" title="osgEarth::OverlayDecorator::initSubgraphShaders" alt="" coords="275,59,587,88"/><area shape="rect" id="node11" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="348,112,513,141"/><area shape="rect" id="node7" href="classosgEarth_1_1VirtualProgram.html#af9da03697906650ba02f2da3a8fdd04e" title="osgEarth::VirtualProgram::setFunction" alt="" coords="636,59,879,88"/><area shape="rect" id="node9" href="classosgEarth_1_1VirtualProgram.html#a0dde219eb0e46b7c3b019a65111b8a61" title="osgEarth::VirtualProgram::setShader" alt="" coords="928,59,1163,88"/></map>
</div>
</p>

<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a65321fc7dc7a2ba1277b6b65a38344ad_icgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a65321fc7dc7a2ba1277b6b65a38344ad_icgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a65321fc7dc7a2ba1277b6b65a38344ad_icgraph" id="classosgEarth_1_1OverlayDecorator_a65321fc7dc7a2ba1277b6b65a38344ad_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1OverlayDecorator.html#a09cce99ca2428ba54e4dd3d88c82eace" title="osgEarth::OverlayDecorator::onInstall" alt="" coords="308,5,548,35"/><area shape="rect" id="node5" href="classosgEarth_1_1OverlayDecorator.html#a2d94eb6b9b28ffd129025e14cb869c91" title="osgEarth::OverlayDecorator::setMipmapping" alt="" coords="288,59,568,88"/><area shape="rect" id="node7" href="classosgEarth_1_1OverlayDecorator.html#a54200fa4ab69d206d25064c3a6a5c4c7" title="osgEarth::OverlayDecorator::setOverlayBlending" alt="" coords="276,112,580,141"/><area shape="rect" id="node9" href="classosgEarth_1_1OverlayDecorator.html#a93dce0a2a37a19eba33217c9086b99bc" title="osgEarth::OverlayDecorator::setOverlayGraph" alt="" coords="283,165,573,195"/><area shape="rect" id="node11" href="classosgEarth_1_1OverlayDecorator.html#a44844cff4ad6d8865697a25276b0237d" title="osgEarth::OverlayDecorator::setTextureSize" alt="" coords="288,219,568,248"/><area shape="rect" id="node13" href="classosgEarth_1_1OverlayDecorator.html#a4cfb28a7c83dda0a390de1c50be677c0" title="osgEarth::OverlayDecorator::setTextureUnit" alt="" coords="289,272,567,301"/><area shape="rect" id="node15" href="classosgEarth_1_1OverlayDecorator.html#aef2375c1e1d802785b2efe041f12ed09" title="osgEarth::OverlayDecorator::setVertexWarping" alt="" coords="280,325,576,355"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2d94eb6b9b28ffd129025e14cb869c91"></a><!-- doxytag: member="osgEarth::OverlayDecorator::setMipmapping" ref="a2d94eb6b9b28ffd129025e14cb869c91" args="(bool value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OverlayDecorator::setMipmapping </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Whether mipmapping is enabled on the projected overlay texture. Mapmapping will improve the visual appearance, but will use more memory, and may affect performance for overlays that are dynamic. </p>

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00537">537</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( value != <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a688251c3e08aa07fa5167cb7f245da9d">_mipmapping</a> )
    {
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a688251c3e08aa07fa5167cb7f245da9d">_mipmapping</a> = value;
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad">reinit</a>();

        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a688251c3e08aa07fa5167cb7f245da9d">_mipmapping</a> )
            <a class="code" href="Notify.html#a47e8673ea1af7af40d431820bf3856fa">OE_INFO</a> &lt;&lt; <a class="code" href="OverlayDecorator_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Overlay mipmapping &quot;</span> &lt;&lt; (value?<span class="stringliteral">&quot;enabled&quot;</span>:<span class="stringliteral">&quot;disabled&quot;</span>) &lt;&lt; std::endl;
    }
}
</pre></div>
<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a2d94eb6b9b28ffd129025e14cb869c91_cgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a2d94eb6b9b28ffd129025e14cb869c91_cgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a2d94eb6b9b28ffd129025e14cb869c91_cgraph" id="classosgEarth_1_1OverlayDecorator_a2d94eb6b9b28ffd129025e14cb869c91_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad" title="osgEarth::OverlayDecorator::reinit" alt="" coords="335,59,553,88"/><area shape="rect" id="node5" href="classosgEarth_1_1OverlayDecorator.html#a84677df2ac8f2786733e6605b9638b15" title="osgEarth::OverlayDecorator::initRTTShaders" alt="" coords="617,5,900,35"/><area shape="rect" id="node7" href="classosgEarth_1_1OverlayDecorator.html#af521bc095b4ca1ecfb187370cf1b70d1" title="osgEarth::OverlayDecorator::initSubgraphShaders" alt="" coords="603,59,915,88"/><area shape="rect" id="node13" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="676,112,841,141"/><area shape="rect" id="node9" href="classosgEarth_1_1VirtualProgram.html#af9da03697906650ba02f2da3a8fdd04e" title="osgEarth::VirtualProgram::setFunction" alt="" coords="964,59,1207,88"/><area shape="rect" id="node11" href="classosgEarth_1_1VirtualProgram.html#a0dde219eb0e46b7c3b019a65111b8a61" title="osgEarth::VirtualProgram::setShader" alt="" coords="1256,59,1491,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a54200fa4ab69d206d25064c3a6a5c4c7"></a><!-- doxytag: member="osgEarth::OverlayDecorator::setOverlayBlending" ref="a54200fa4ab69d206d25064c3a6a5c4c7" args="(bool value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OverlayDecorator::setOverlayBlending </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Whether to enable blending on the RTT camera graph. Default = true. You might want to disable this is you are draping polygons that cover a very large area and curve around the globe; sometimes they suffer from tessellation artifacts when draped. </p>

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00563">563</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( value != <a class="code" href="classosgEarth_1_1OverlayDecorator.html#afb354db0c0776315f6e3cac9ab0b1752">_rttBlending</a> )
    {
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#afb354db0c0776315f6e3cac9ab0b1752">_rttBlending</a> = value;
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad">reinit</a>();
        
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#afb354db0c0776315f6e3cac9ab0b1752">_rttBlending</a> )
            <a class="code" href="Notify.html#a47e8673ea1af7af40d431820bf3856fa">OE_INFO</a> &lt;&lt; <a class="code" href="OverlayDecorator_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Overlay blending &quot;</span> &lt;&lt; (value?<span class="stringliteral">&quot;enabled&quot;</span>:<span class="stringliteral">&quot;disabled&quot;</span>)&lt;&lt; std::endl;
    }
}
</pre></div>
<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a54200fa4ab69d206d25064c3a6a5c4c7_cgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a54200fa4ab69d206d25064c3a6a5c4c7_cgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a54200fa4ab69d206d25064c3a6a5c4c7_cgraph" id="classosgEarth_1_1OverlayDecorator_a54200fa4ab69d206d25064c3a6a5c4c7_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad" title="osgEarth::OverlayDecorator::reinit" alt="" coords="361,59,580,88"/><area shape="rect" id="node5" href="classosgEarth_1_1OverlayDecorator.html#a84677df2ac8f2786733e6605b9638b15" title="osgEarth::OverlayDecorator::initRTTShaders" alt="" coords="644,5,927,35"/><area shape="rect" id="node7" href="classosgEarth_1_1OverlayDecorator.html#af521bc095b4ca1ecfb187370cf1b70d1" title="osgEarth::OverlayDecorator::initSubgraphShaders" alt="" coords="629,59,941,88"/><area shape="rect" id="node13" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="703,112,868,141"/><area shape="rect" id="node9" href="classosgEarth_1_1VirtualProgram.html#af9da03697906650ba02f2da3a8fdd04e" title="osgEarth::VirtualProgram::setFunction" alt="" coords="991,59,1233,88"/><area shape="rect" id="node11" href="classosgEarth_1_1VirtualProgram.html#a0dde219eb0e46b7c3b019a65111b8a61" title="osgEarth::VirtualProgram::setShader" alt="" coords="1283,59,1517,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a93dce0a2a37a19eba33217c9086b99bc"></a><!-- doxytag: member="osgEarth::OverlayDecorator::setOverlayGraph" ref="a93dce0a2a37a19eba33217c9086b99bc" args="(osg::Node *node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OverlayDecorator::setOverlayGraph </td>
          <td>(</td>
          <td class="paramtype">osg::Node *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The scene graph to be sampled an overlaid on the terrain. </p>

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00498">498</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a>.get() != node )
    {
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a>.valid() &amp;&amp; node == 0L )
        {
            <a class="code" href="FindNode.html#ac9b7072980ebdb44624092cb11eeb96c">ADJUST_UPDATE_TRAV_COUNT</a>( <span class="keyword">this</span>, -1 );
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a>.valid() &amp;&amp; node != 0L )
        {
            <a class="code" href="FindNode.html#ac9b7072980ebdb44624092cb11eeb96c">ADJUST_UPDATE_TRAV_COUNT</a>( <span class="keyword">this</span>, 1 );
        }

        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a> = node;
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad">reinit</a>();
    }
}
</pre></div>
<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a93dce0a2a37a19eba33217c9086b99bc_cgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a93dce0a2a37a19eba33217c9086b99bc_cgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a93dce0a2a37a19eba33217c9086b99bc_cgraph" id="classosgEarth_1_1OverlayDecorator_a93dce0a2a37a19eba33217c9086b99bc_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad" title="osgEarth::OverlayDecorator::reinit" alt="" coords="345,59,564,88"/><area shape="rect" id="node5" href="classosgEarth_1_1OverlayDecorator.html#a84677df2ac8f2786733e6605b9638b15" title="osgEarth::OverlayDecorator::initRTTShaders" alt="" coords="628,5,911,35"/><area shape="rect" id="node7" href="classosgEarth_1_1OverlayDecorator.html#af521bc095b4ca1ecfb187370cf1b70d1" title="osgEarth::OverlayDecorator::initSubgraphShaders" alt="" coords="613,59,925,88"/><area shape="rect" id="node13" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="687,112,852,141"/><area shape="rect" id="node9" href="classosgEarth_1_1VirtualProgram.html#af9da03697906650ba02f2da3a8fdd04e" title="osgEarth::VirtualProgram::setFunction" alt="" coords="975,59,1217,88"/><area shape="rect" id="node11" href="classosgEarth_1_1VirtualProgram.html#a0dde219eb0e46b7c3b019a65111b8a61" title="osgEarth::VirtualProgram::setShader" alt="" coords="1267,59,1501,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a44844cff4ad6d8865697a25276b0237d"></a><!-- doxytag: member="osgEarth::OverlayDecorator::setTextureSize" ref="a44844cff4ad6d8865697a25276b0237d" args="(int texSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OverlayDecorator::setTextureSize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>texSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The size (resolution in both directions) of the overlay texture. By default, this defaults to 4096 or your hardware's maximum supported texture size, whichever is less. </p>

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00517">517</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( texSize != <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a0c4fca2f6dd2eb23c41c2c73139781ee">_textureSize</a>.<a class="code" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820">value</a>() )
    {
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a0c4fca2f6dd2eb23c41c2c73139781ee">_textureSize</a> = texSize;
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad">reinit</a>();
    }
}
</pre></div>
<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a44844cff4ad6d8865697a25276b0237d_cgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a44844cff4ad6d8865697a25276b0237d_cgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a44844cff4ad6d8865697a25276b0237d_cgraph" id="classosgEarth_1_1OverlayDecorator_a44844cff4ad6d8865697a25276b0237d_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad" title="osgEarth::OverlayDecorator::reinit" alt="" coords="335,59,553,88"/><area shape="rect" id="node15" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820" title="osgEarth::optional::value" alt="" coords="361,112,527,141"/><area shape="rect" id="node5" href="classosgEarth_1_1OverlayDecorator.html#a84677df2ac8f2786733e6605b9638b15" title="osgEarth::OverlayDecorator::initRTTShaders" alt="" coords="617,5,900,35"/><area shape="rect" id="node7" href="classosgEarth_1_1OverlayDecorator.html#af521bc095b4ca1ecfb187370cf1b70d1" title="osgEarth::OverlayDecorator::initSubgraphShaders" alt="" coords="603,59,915,88"/><area shape="rect" id="node13" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="676,112,841,141"/><area shape="rect" id="node9" href="classosgEarth_1_1VirtualProgram.html#af9da03697906650ba02f2da3a8fdd04e" title="osgEarth::VirtualProgram::setFunction" alt="" coords="964,59,1207,88"/><area shape="rect" id="node11" href="classosgEarth_1_1VirtualProgram.html#a0dde219eb0e46b7c3b019a65111b8a61" title="osgEarth::VirtualProgram::setShader" alt="" coords="1256,59,1491,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4cfb28a7c83dda0a390de1c50be677c0"></a><!-- doxytag: member="osgEarth::OverlayDecorator::setTextureUnit" ref="a4cfb28a7c83dda0a390de1c50be677c0" args="(int unit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OverlayDecorator::setTextureUnit </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>unit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Explicity sets the texture unit to use. Note! When you add this class to a <a class="el" href="classosgEarth_1_1MapNode.html">MapNode</a>, it will automatically allocate a free texture unit; so you usually do NOT need to call this method. </p>

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00527">527</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1OverlayDecorator.html#a39a25b5a01e3e8a8ca68588e75516d2e">_explicitTextureUnit</a>.<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() || texUnit != <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a39a25b5a01e3e8a8ca68588e75516d2e">_explicitTextureUnit</a>.<a class="code" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820">value</a>() )
    {
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a39a25b5a01e3e8a8ca68588e75516d2e">_explicitTextureUnit</a> = texUnit;
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad">reinit</a>();
    }
}
</pre></div>
<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a4cfb28a7c83dda0a390de1c50be677c0_cgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a4cfb28a7c83dda0a390de1c50be677c0_cgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a4cfb28a7c83dda0a390de1c50be677c0_cgraph" id="classosgEarth_1_1OverlayDecorator_a4cfb28a7c83dda0a390de1c50be677c0_cgraph">
<area shape="rect" id="node3" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="676,5,841,35"/><area shape="rect" id="node5" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad" title="osgEarth::OverlayDecorator::reinit" alt="" coords="335,59,553,88"/><area shape="rect" id="node16" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820" title="osgEarth::optional::value" alt="" coords="361,112,527,141"/><area shape="rect" id="node7" href="classosgEarth_1_1OverlayDecorator.html#a84677df2ac8f2786733e6605b9638b15" title="osgEarth::OverlayDecorator::initRTTShaders" alt="" coords="617,59,900,88"/><area shape="rect" id="node9" href="classosgEarth_1_1OverlayDecorator.html#af521bc095b4ca1ecfb187370cf1b70d1" title="osgEarth::OverlayDecorator::initSubgraphShaders" alt="" coords="603,112,915,141"/><area shape="rect" id="node11" href="classosgEarth_1_1VirtualProgram.html#af9da03697906650ba02f2da3a8fdd04e" title="osgEarth::VirtualProgram::setFunction" alt="" coords="964,112,1207,141"/><area shape="rect" id="node13" href="classosgEarth_1_1VirtualProgram.html#a0dde219eb0e46b7c3b019a65111b8a61" title="osgEarth::VirtualProgram::setShader" alt="" coords="1256,112,1491,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aef2375c1e1d802785b2efe041f12ed09"></a><!-- doxytag: member="osgEarth::OverlayDecorator::setVertexWarping" ref="aef2375c1e1d802785b2efe041f12ed09" args="(bool value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OverlayDecorator::setVertexWarping </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Whether to employ overlay warping. Warping can help increase the apparent resolution of the overlay image. But it can cause artifacts when you zoom in very close. Default = true </p>

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00550">550</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( value != <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a21b5cf5ca4206bd9027082db05abdea5">_useWarping</a> )
    {
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a21b5cf5ca4206bd9027082db05abdea5">_useWarping</a> = value;
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad">reinit</a>();
        
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a21b5cf5ca4206bd9027082db05abdea5">_useWarping</a> )
            <a class="code" href="Notify.html#a47e8673ea1af7af40d431820bf3856fa">OE_INFO</a> &lt;&lt; <a class="code" href="OverlayDecorator_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Vertex warping &quot;</span> &lt;&lt; (value?<span class="stringliteral">&quot;enabled&quot;</span>:<span class="stringliteral">&quot;disabled&quot;</span>)&lt;&lt; std::endl;
    }
}
</pre></div>
<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_aef2375c1e1d802785b2efe041f12ed09_cgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_aef2375c1e1d802785b2efe041f12ed09_cgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_aef2375c1e1d802785b2efe041f12ed09_cgraph" id="classosgEarth_1_1OverlayDecorator_aef2375c1e1d802785b2efe041f12ed09_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1OverlayDecorator.html#a65321fc7dc7a2ba1277b6b65a38344ad" title="osgEarth::OverlayDecorator::reinit" alt="" coords="351,59,569,88"/><area shape="rect" id="node5" href="classosgEarth_1_1OverlayDecorator.html#a84677df2ac8f2786733e6605b9638b15" title="osgEarth::OverlayDecorator::initRTTShaders" alt="" coords="633,5,916,35"/><area shape="rect" id="node7" href="classosgEarth_1_1OverlayDecorator.html#af521bc095b4ca1ecfb187370cf1b70d1" title="osgEarth::OverlayDecorator::initSubgraphShaders" alt="" coords="619,59,931,88"/><area shape="rect" id="node13" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="692,112,857,141"/><area shape="rect" id="node9" href="classosgEarth_1_1VirtualProgram.html#af9da03697906650ba02f2da3a8fdd04e" title="osgEarth::VirtualProgram::setFunction" alt="" coords="980,59,1223,88"/><area shape="rect" id="node11" href="classosgEarth_1_1VirtualProgram.html#a0dde219eb0e46b7c3b019a65111b8a61" title="osgEarth::VirtualProgram::setShader" alt="" coords="1272,59,1507,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1022044ae90c5bdf154fe708440db84e"></a><!-- doxytag: member="osgEarth::OverlayDecorator::traverse" ref="a1022044ae90c5bdf154fe708440db84e" args="(osg::NodeVisitor &amp;nv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OverlayDecorator::traverse </td>
          <td>(</td>
          <td class="paramtype">osg::NodeVisitor &amp;&#160;</td>
          <td class="paramname"><em>nv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00883">883</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> isCull = nv.getVisitorType() == osg::NodeVisitor::CULL_VISITOR;

    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">_overlayGraph</a>.valid() &amp;&amp; <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">_textureUnit</a>.<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() )
    {
        <span class="keywordflow">if</span> ( isCull )
        {
            osgUtil::CullVisitor* cv = <span class="keyword">dynamic_cast&lt;</span>osgUtil::CullVisitor*<span class="keyword">&gt;</span>( &amp;nv );
            <span class="keywordflow">if</span> ( cv )
            {
                <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a4b3f3da5c3b79ae6fd7b1280333bb75a">cull</a>( cv );
            }
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;accept( nv );
            
            <span class="comment">// note: texgennode doesn&#39;t need a cull, and the subgraph</span>
            <span class="comment">// is traversed in cull().</span>
        }

        <span class="keywordflow">else</span>
        {
            <span class="keywordflow">if</span> ( nv.getVisitorType() == osg::NodeVisitor::UPDATE_VISITOR )
            {
                <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a601fc06c1551c801e9ba4f2a33b6559e">updateRTTCamera</a>( nv );
            }
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;accept( nv );
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af23fcb963c00261962bf8316f3ea191d">_texGenNode</a>-&gt;accept( nv );

            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a1022044ae90c5bdf154fe708440db84e">osg::Group::traverse</a>( nv );
        }    
    }
    <span class="keywordflow">else</span>
    {
        osgUtil::CullVisitor* cv = 0L;
        <span class="keywordflow">if</span> ( isCull )
            cv = <span class="keyword">dynamic_cast&lt;</span>osgUtil::CullVisitor*<span class="keyword">&gt;</span>( &amp;nv );

        <span class="keywordflow">if</span> ( cv )
            cv-&gt;pushStateSet( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a1a754148ea5b7a9baa1eb5f4734e7130">_subgraphStateSet</a>.get() );

        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a1022044ae90c5bdf154fe708440db84e">osg::Group::traverse</a>( nv );

        <span class="keywordflow">if</span> ( cv )
            cv-&gt;popStateSet();
    }
}
</pre></div>
<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a1022044ae90c5bdf154fe708440db84e_cgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a1022044ae90c5bdf154fe708440db84e_cgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a1022044ae90c5bdf154fe708440db84e_cgraph" id="classosgEarth_1_1OverlayDecorator_a1022044ae90c5bdf154fe708440db84e_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1OverlayDecorator.html#a4b3f3da5c3b79ae6fd7b1280333bb75a" title="osgEarth::OverlayDecorator::cull" alt="" coords="340,5,551,35"/><area shape="rect" id="node8" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="363,59,528,88"/><area shape="rect" id="node10" href="classosgEarth_1_1OverlayDecorator.html#a601fc06c1551c801e9ba4f2a33b6559e" title="osgEarth::OverlayDecorator::updateRTTCamera" alt="" coords="295,112,596,141"/><area shape="rect" id="node5" href="namespaceanonymous__namespace_02OverlayDecorator_8cpp_03.html#a9c34873e920bb8ed5c5f5d4df6600d76" title="anonymous_namespace\{OverlayDecorator::cpp\}::getMinMaxExtentInSilhouette" alt="" coords="647,5,1127,35"/></map>
</div>
</p>

<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a1022044ae90c5bdf154fe708440db84e_icgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a1022044ae90c5bdf154fe708440db84e_icgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a1022044ae90c5bdf154fe708440db84e_icgraph" id="classosgEarth_1_1OverlayDecorator_a1022044ae90c5bdf154fe708440db84e_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1OverlayDecorator.html#a4b3f3da5c3b79ae6fd7b1280333bb75a" title="osgEarth::OverlayDecorator::cull" alt="" coords="295,5,505,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a601fc06c1551c801e9ba4f2a33b6559e"></a><!-- doxytag: member="osgEarth::OverlayDecorator::updateRTTCamera" ref="a601fc06c1551c801e9ba4f2a33b6559e" args="(osg::NodeVisitor &amp;nv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OverlayDecorator::updateRTTCamera </td>
          <td>(</td>
          <td class="paramtype">osg::NodeVisitor &amp;&#160;</td>
          <td class="paramname"><em>nv</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_8cpp_source.html#l00622">622</a> of file <a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">static</span> osg::Matrix normalizeMatrix = 
        osg::Matrix::translate(1.0,1.0,1.0) * osg::Matrix::scale(0.5,0.5,0.5);

    <span class="comment">// configure the RTT camera:</span>
    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;setViewMatrix( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a5434eae58e5d4989bf5b040c16570425">_rttViewMatrix</a> );
    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">_rttCamera</a>-&gt;setProjectionMatrix( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a004c916b9eec306f0c2bea63b1ca801d">_rttProjMatrix</a> );

    osg::Matrix MVPT = <a class="code" href="classosgEarth_1_1OverlayDecorator.html#abaf3823935b68663a9c65107512cfa0d">_projectorViewMatrix</a> * <a class="code" href="classosgEarth_1_1OverlayDecorator.html#ae0fa1407829903a6dd64960787cdf5dd">_projectorProjMatrix</a> * normalizeMatrix;

    <span class="comment">//_texGenNode-&gt;getTexGen()-&gt;setMode( osg::TexGen::EYE_LINEAR ); // moved to initialization</span>
    <a class="code" href="classosgEarth_1_1OverlayDecorator.html#af23fcb963c00261962bf8316f3ea191d">_texGenNode</a>-&gt;getTexGen()-&gt;setPlanesFromMatrix( MVPT );
    
    <span class="comment">// uniform update:</span>
    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#ab0c8cb79dcd42a3b0040e7b1928e9cdc">_useShaders</a> )
    {
        <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a47ed4f79df81ef3db7191b1c7cfa996b">_texGenUniform</a>-&gt;set( MVPT );
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a21b5cf5ca4206bd9027082db05abdea5">_useWarping</a> )
            <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a1e125aa9284f5e95e601f144d495a60c">_warpUniform</a>-&gt;set( <a class="code" href="classosgEarth_1_1OverlayDecorator.html#a36f494627331813948e5e3beb6ff5e4a">_warp</a> );
    }
}
</pre></div>
<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1OverlayDecorator_a601fc06c1551c801e9ba4f2a33b6559e_icgraph.png" border="0" usemap="#classosgEarth_1_1OverlayDecorator_a601fc06c1551c801e9ba4f2a33b6559e_icgraph" alt=""/></div>
<map name="classosgEarth_1_1OverlayDecorator_a601fc06c1551c801e9ba4f2a33b6559e_icgraph" id="classosgEarth_1_1OverlayDecorator_a601fc06c1551c801e9ba4f2a33b6559e_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1OverlayDecorator.html#a1022044ae90c5bdf154fe708440db84e" title="osgEarth::OverlayDecorator::traverse" alt="" coords="359,5,596,35"/><area shape="rect" id="node5" href="classosgEarth_1_1OverlayDecorator.html#a4b3f3da5c3b79ae6fd7b1280333bb75a" title="osgEarth::OverlayDecorator::cull" alt="" coords="647,5,857,35"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a19587a90325d62eacfda44fa65dd938a"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_ellipsoid" ref="a19587a90325d62eacfda44fa65dd938a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;const osg::EllipsoidModel&gt; <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a19587a90325d62eacfda44fa65dd938a">osgEarth::OverlayDecorator::_ellipsoid</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00134">134</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a7add4331cdd533856504a3ebb1de2d25"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_engine" ref="a7add4331cdd533856504a3ebb1de2d25" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;<a class="el" href="classosgEarth_1_1TerrainEngineNode.html">TerrainEngineNode</a>&gt; <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a7add4331cdd533856504a3ebb1de2d25">osgEarth::OverlayDecorator::_engine</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00136">136</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a39a25b5a01e3e8a8ca68588e75516d2e"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_explicitTextureUnit" ref="a39a25b5a01e3e8a8ca68588e75516d2e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structosgEarth_1_1optional.html">optional</a>&lt;int&gt; <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a39a25b5a01e3e8a8ca68588e75516d2e">osgEarth::OverlayDecorator::_explicitTextureUnit</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00117">117</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="aee3b28b8beea021fb62cfa19e4c553d9"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_isGeocentric" ref="aee3b28b8beea021fb62cfa19e4c553d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classosgEarth_1_1OverlayDecorator.html#aee3b28b8beea021fb62cfa19e4c553d9">osgEarth::OverlayDecorator::_isGeocentric</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00125">125</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="aa3211b55be88bda9fd8e259fc7bbbb5a"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_maxProjectedMapExtent" ref="aa3211b55be88bda9fd8e259fc7bbbb5a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classosgEarth_1_1OverlayDecorator.html#aa3211b55be88bda9fd8e259fc7bbbb5a">osgEarth::OverlayDecorator::_maxProjectedMapExtent</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00126">126</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a688251c3e08aa07fa5167cb7f245da9d"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_mipmapping" ref="a688251c3e08aa07fa5167cb7f245da9d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a688251c3e08aa07fa5167cb7f245da9d">osgEarth::OverlayDecorator::_mipmapping</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00127">127</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a2f587a09e56a8ca7c200093d5659f3af"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_overlayGraph" ref="a2f587a09e56a8ca7c200093d5659f3af" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;osg::Node&gt; <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a2f587a09e56a8ca7c200093d5659f3af">osgEarth::OverlayDecorator::_overlayGraph</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00110">110</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="ae0fa1407829903a6dd64960787cdf5dd"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_projectorProjMatrix" ref="ae0fa1407829903a6dd64960787cdf5dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Matrixd <a class="el" href="classosgEarth_1_1OverlayDecorator.html#ae0fa1407829903a6dd64960787cdf5dd">osgEarth::OverlayDecorator::_projectorProjMatrix</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00132">132</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="abaf3823935b68663a9c65107512cfa0d"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_projectorViewMatrix" ref="abaf3823935b68663a9c65107512cfa0d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Matrixd <a class="el" href="classosgEarth_1_1OverlayDecorator.html#abaf3823935b68663a9c65107512cfa0d">osgEarth::OverlayDecorator::_projectorViewMatrix</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00131">131</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a25e15b48e91a775bfe6265de6c469f8f"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_projTexture" ref="a25e15b48e91a775bfe6265de6c469f8f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;osg::Texture2D&gt; <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a25e15b48e91a775bfe6265de6c469f8f">osgEarth::OverlayDecorator::_projTexture</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00112">112</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="afb354db0c0776315f6e3cac9ab0b1752"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_rttBlending" ref="afb354db0c0776315f6e3cac9ab0b1752" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classosgEarth_1_1OverlayDecorator.html#afb354db0c0776315f6e3cac9ab0b1752">osgEarth::OverlayDecorator::_rttBlending</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00128">128</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="af67051d84240f7e2506e1a0678161f94"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_rttCamera" ref="af67051d84240f7e2506e1a0678161f94" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;osg::Camera&gt; <a class="el" href="classosgEarth_1_1OverlayDecorator.html#af67051d84240f7e2506e1a0678161f94">osgEarth::OverlayDecorator::_rttCamera</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00111">111</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a004c916b9eec306f0c2bea63b1ca801d"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_rttProjMatrix" ref="a004c916b9eec306f0c2bea63b1ca801d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Matrixd <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a004c916b9eec306f0c2bea63b1ca801d">osgEarth::OverlayDecorator::_rttProjMatrix</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00130">130</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a5434eae58e5d4989bf5b040c16570425"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_rttViewMatrix" ref="a5434eae58e5d4989bf5b040c16570425" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Matrixd <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a5434eae58e5d4989bf5b040c16570425">osgEarth::OverlayDecorator::_rttViewMatrix</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00129">129</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a1a754148ea5b7a9baa1eb5f4734e7130"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_subgraphStateSet" ref="a1a754148ea5b7a9baa1eb5f4734e7130" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;osg::StateSet&gt; <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a1a754148ea5b7a9baa1eb5f4734e7130">osgEarth::OverlayDecorator::_subgraphStateSet</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00116">116</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="af23fcb963c00261962bf8316f3ea191d"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_texGenNode" ref="af23fcb963c00261962bf8316f3ea191d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;osg::TexGenNode&gt; <a class="el" href="classosgEarth_1_1OverlayDecorator.html#af23fcb963c00261962bf8316f3ea191d">osgEarth::OverlayDecorator::_texGenNode</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00113">113</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a47ed4f79df81ef3db7191b1c7cfa996b"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_texGenUniform" ref="a47ed4f79df81ef3db7191b1c7cfa996b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;osg::Uniform&gt; <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a47ed4f79df81ef3db7191b1c7cfa996b">osgEarth::OverlayDecorator::_texGenUniform</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00114">114</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a0c4fca2f6dd2eb23c41c2c73139781ee"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_textureSize" ref="a0c4fca2f6dd2eb23c41c2c73139781ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structosgEarth_1_1optional.html">optional</a>&lt;int&gt; <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a0c4fca2f6dd2eb23c41c2c73139781ee">osgEarth::OverlayDecorator::_textureSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00119">119</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a54f943218c30441e759af33166a20f11"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_textureUnit" ref="a54f943218c30441e759af33166a20f11" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structosgEarth_1_1optional.html">optional</a>&lt;int&gt; <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a54f943218c30441e759af33166a20f11">osgEarth::OverlayDecorator::_textureUnit</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00118">118</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="ab0c8cb79dcd42a3b0040e7b1928e9cdc"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_useShaders" ref="ab0c8cb79dcd42a3b0040e7b1928e9cdc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classosgEarth_1_1OverlayDecorator.html#ab0c8cb79dcd42a3b0040e7b1928e9cdc">osgEarth::OverlayDecorator::_useShaders</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00120">120</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a21b5cf5ca4206bd9027082db05abdea5"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_useWarping" ref="a21b5cf5ca4206bd9027082db05abdea5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a21b5cf5ca4206bd9027082db05abdea5">osgEarth::OverlayDecorator::_useWarping</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00121">121</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a45f25e8aaa7ee92082ddb166d863f8e4"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_visualizeWarp" ref="a45f25e8aaa7ee92082ddb166d863f8e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a45f25e8aaa7ee92082ddb166d863f8e4">osgEarth::OverlayDecorator::_visualizeWarp</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00124">124</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a79bd770a60a6074648bc42785f4ff49a"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_vp" ref="a79bd770a60a6074648bc42785f4ff49a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;<a class="el" href="classosgEarth_1_1VirtualProgram.html">osgEarth::VirtualProgram</a>&gt; <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a79bd770a60a6074648bc42785f4ff49a">osgEarth::OverlayDecorator::_vp</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00135">135</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a36f494627331813948e5e3beb6ff5e4a"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_warp" ref="a36f494627331813948e5e3beb6ff5e4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a36f494627331813948e5e3beb6ff5e4a">osgEarth::OverlayDecorator::_warp</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00122">122</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a8bbacde8eb9a26923b0a7be407d7977f"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_warping" ref="a8bbacde8eb9a26923b0a7be407d7977f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a8bbacde8eb9a26923b0a7be407d7977f">osgEarth::OverlayDecorator::_warping</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00123">123</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<a class="anchor" id="a1e125aa9284f5e95e601f144d495a60c"></a><!-- doxytag: member="osgEarth::OverlayDecorator::_warpUniform" ref="a1e125aa9284f5e95e601f144d495a60c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;osg::Uniform&gt; <a class="el" href="classosgEarth_1_1OverlayDecorator.html#a1e125aa9284f5e95e601f144d495a60c">osgEarth::OverlayDecorator::_warpUniform</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="OverlayDecorator_source.html#l00115">115</a> of file <a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/cube/sources/osgearth/src/osgEarth/<a class="el" href="OverlayDecorator_source.html">OverlayDecorator</a></li>
<li>/home/cube/sources/osgearth/src/osgEarth/<a class="el" href="OverlayDecorator_8cpp_source.html">OverlayDecorator.cpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Jan 18 2012 15:02:53 for osgEarth by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
