<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>osgEarth: ReaderWriterEarth Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">osgEarth&#160;<span id="projectnumber">2.1.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>ReaderWriterEarth Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ReaderWriterEarth" -->
<p><a href="classReaderWriterEarth-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaderWriterEarth.html#a9b2255110824c69449fcfc6771620928">ReaderWriterEarth</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaderWriterEarth.html#afc36fcf2d57bb40caae1368785fcb342">className</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaderWriterEarth.html#aac043d3daf39859432dcd9026d15678e">acceptsExtension</a> (const std::string &amp;extension) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual ReadResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaderWriterEarth.html#afd0611d4c91bdda1269e63c64585cc5d">readObject</a> (const std::string &amp;file_name, const Options *options) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual WriteResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaderWriterEarth.html#aeddc92fa289fcc59429a1525642865de">writeNode</a> (const osg::Node &amp;node, const std::string &amp;fileName, const Options *options) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual WriteResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaderWriterEarth.html#a6cf10dbc47aa3c627e51f6f3d76536ed">writeNode</a> (const osg::Node &amp;node, std::ostream &amp;out, const Options *options) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual ReadResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaderWriterEarth.html#aa1370415380b47830d72faa789a64537">readNode</a> (const std::string &amp;fileName, const Options *options) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual ReadResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReaderWriterEarth.html#acd6002b63309882f70304cf509c9bef9">readNode</a> (std::istream &amp;in, const Options *options) const </td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html#l00035">35</a> of file <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html">ReaderWriterOsgEarth.cpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9b2255110824c69449fcfc6771620928"></a><!-- doxytag: member="ReaderWriterEarth::ReaderWriterEarth" ref="a9b2255110824c69449fcfc6771620928" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ReaderWriterEarth::ReaderWriterEarth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html#l00038">38</a> of file <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html">ReaderWriterOsgEarth.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aac043d3daf39859432dcd9026d15678e"></a><!-- doxytag: member="ReaderWriterEarth::acceptsExtension" ref="aac043d3daf39859432dcd9026d15678e" args="(const std::string &amp;extension) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ReaderWriterEarth::acceptsExtension </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>extension</em></td><td>)</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html#l00045">45</a> of file <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html">ReaderWriterOsgEarth.cpp</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">return</span> osgDB::equalCaseInsensitive( extension, <span class="stringliteral">&quot;earth&quot;</span> );
        }
</pre></div>
</div>
</div>
<a class="anchor" id="afc36fcf2d57bb40caae1368785fcb342"></a><!-- doxytag: member="ReaderWriterEarth::className" ref="afc36fcf2d57bb40caae1368785fcb342" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual const char* ReaderWriterEarth::className </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html#l00040">40</a> of file <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html">ReaderWriterOsgEarth.cpp</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">return</span> <span class="stringliteral">&quot;OSG Earth ReaderWriter&quot;</span>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="acd6002b63309882f70304cf509c9bef9"></a><!-- doxytag: member="ReaderWriterEarth::readNode" ref="acd6002b63309882f70304cf509c9bef9" args="(std::istream &amp;in, const Options *options) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual ReadResult ReaderWriterEarth::readNode </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Options *&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html#l00131">131</a> of file <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html">ReaderWriterOsgEarth.cpp</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="comment">// pull the URI context from the options structure (since we&#39;re reading</span>
            <span class="comment">// from an &quot;anonymous&quot; stream here)</span>
            <a class="code" href="classosgEarth_1_1URIContext.html">URIContext</a> uriContext( options );            

            osg::ref_ptr&lt;XmlDocument&gt; doc = XmlDocument::load( <a class="code" href="namespaceosgEarth_1_1Json.html#ac78f55a4c4e91e3fd75de3ad98b50bef">in</a>, uriContext );            
            <span class="keywordflow">if</span> ( !doc.valid() )
                <span class="keywordflow">return</span> ReadResult::ERROR_IN_READING_FILE;

            <a class="code" href="classosgEarth_1_1Config.html">Config</a> docConf = doc-&gt;getConfig();

            <span class="comment">// support both &quot;map&quot; and &quot;earth&quot; tag names at the top level</span>
            <a class="code" href="classosgEarth_1_1Config.html">Config</a> conf;
            <span class="keywordflow">if</span> ( docConf.<a class="code" href="classosgEarth_1_1Config.html#a5a4d1a93190f1b90d6661e7b966e02f6">hasChild</a>( <span class="stringliteral">&quot;map&quot;</span> ) )
                conf = docConf.<a class="code" href="classosgEarth_1_1Config.html#ac88bd62e7ac78d498981c3cf9f948b7c">child</a>( <span class="stringliteral">&quot;map&quot;</span> );
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( docConf.<a class="code" href="classosgEarth_1_1Config.html#a5a4d1a93190f1b90d6661e7b966e02f6">hasChild</a>( <span class="stringliteral">&quot;earth&quot;</span> ) )
                conf = docConf.<a class="code" href="classosgEarth_1_1Config.html#ac88bd62e7ac78d498981c3cf9f948b7c">child</a>( <span class="stringliteral">&quot;earth&quot;</span> );

            <a class="code" href="classosgEarth_1_1MapNode.html">MapNode</a>* mapNode =0L;
            <span class="keywordflow">if</span> ( !conf.<a class="code" href="classosgEarth_1_1Config.html#a6946240ddbee0080de1fd6d2d93ccd80">empty</a>() )
            {
                <span class="comment">// see if we were given a reference URI to use:</span>
                std::string refURI = uriContext.referrer();                                

                <span class="keywordflow">if</span> ( conf.<a class="code" href="classosgEarth_1_1Config.html#ab19f29b67dfeaf1b2ea58266f6e7b901">value</a>(<span class="stringliteral">&quot;version&quot;</span>) == <span class="stringliteral">&quot;2&quot;</span> )
                {
                    <a class="code" href="Notify.html#a47e8673ea1af7af40d431820bf3856fa">OE_INFO</a> &lt;&lt; <a class="code" href="ReaderWriterOsgEarth_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Detected a version 2.x earth file&quot;</span> &lt;&lt; std::endl;
                    <a class="code" href="classEarthFileSerializer2.html">EarthFileSerializer2</a> ser;
                    mapNode = ser.<a class="code" href="classEarthFileSerializer2.html#a768aaf0a191205dd694560c76e295d02">deserialize</a>( conf, refURI );
                }
                <span class="keywordflow">else</span>
                {
                    <a class="code" href="Notify.html#a47e8673ea1af7af40d431820bf3856fa">OE_INFO</a> &lt;&lt; <a class="code" href="ReaderWriterOsgEarth_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Detected a version 1.x earth file&quot;</span> &lt;&lt; std::endl;
                    <a class="code" href="classEarthFileSerializer1.html">EarthFileSerializer1</a> ser;
                    mapNode = ser.<a class="code" href="classEarthFileSerializer1.html#a7c7d88a338ca50972b7009083db89200">deserialize</a>( conf, refURI );
                }
            }

            <span class="keywordflow">return</span> ReadResult(mapNode);
        }
</pre></div>
<p><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classReaderWriterEarth_acd6002b63309882f70304cf509c9bef9_cgraph.png" border="0" usemap="#classReaderWriterEarth_acd6002b63309882f70304cf509c9bef9_cgraph" alt=""/></div>
<map name="classReaderWriterEarth_acd6002b63309882f70304cf509c9bef9_cgraph" id="classReaderWriterEarth_acd6002b63309882f70304cf509c9bef9_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Config.html#ac88bd62e7ac78d498981c3cf9f948b7c" title="osgEarth::Config::child" alt="" coords="572,264,727,293"/><area shape="rect" id="node7" href="classEarthFileSerializer1.html#a7c7d88a338ca50972b7009083db89200" title="EarthFileSerializer1::deserialize" alt="" coords="248,1099,453,1128"/><area shape="rect" id="node107" href="classosgEarth_1_1Config.html#ab19f29b67dfeaf1b2ea58266f6e7b901" title="osgEarth::Config::value" alt="" coords="571,1835,728,1864"/><area shape="rect" id="node109" href="classEarthFileSerializer2.html#a768aaf0a191205dd694560c76e295d02" title="EarthFileSerializer2::deserialize" alt="" coords="248,1493,453,1523"/><area shape="rect" id="node122" href="classosgEarth_1_1Config.html#a6946240ddbee0080de1fd6d2d93ccd80" title="osgEarth::Config::empty" alt="" coords="568,1992,731,2021"/><area shape="rect" id="node138" href="classosgEarth_1_1Config.html#a5a4d1a93190f1b90d6661e7b966e02f6" title="osgEarth::Config::hasChild" alt="" coords="261,1648,440,1677"/><area shape="rect" id="node140" href="classosgEarth_1_1XmlDocument.html#a8342b9bb3dedbdebf1b3d482f475f203" title="osgEarth::XmlDocument::load" alt="" coords="252,1701,449,1731"/><area shape="rect" id="node142" href="classosgEarth_1_1URIContext.html#a0a2c365adfb3e6517cb1ab1167aca783" title="osgEarth::URIContext::referrer" alt="" coords="251,1755,451,1784"/><area shape="rect" id="node5" href="Config_8cpp.html#aa64dd5b0fd14e482676acb11aa4720e2" title="emptyConfig" alt="" coords="937,213,1033,243"/><area shape="rect" id="node9" href="classosgEarth_1_1Config.html#a42fd51ceaf7fa4d89cb28bcdf3d9c5dd" title="osgEarth::Config::add" alt="" coords="575,1360,724,1389"/><area shape="rect" id="node11" href="classosgEarth_1_1Map.html#a0b9cb734082b8f3cf9b0d0918690c7bd" title="osgEarth::Map::addElevationLayer" alt="" coords="539,731,760,760"/><area shape="rect" id="node13" href="classosgEarth_1_1MapOptions.html#ab85de1d6b56f3bc365e8137d5d36f0d0" title="osgEarth::MapOptions::cache" alt="" coords="1199,836,1393,865"/><area shape="rect" id="node28" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="1213,575,1379,604"/><area shape="rect" id="node34" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73" title="osgEarth::MapOptions::referenceURI" alt="" coords="867,1045,1104,1075"/><area shape="rect" id="node38" href="classosgEarth_1_1TerrainLayerOptions.html#a50caaefc27eb54a34b6ff5628c43c34f" title="osgEarth::TerrainLayerOptions::driver" alt="" coords="1177,291,1415,320"/><area shape="rect" id="node45" href="classosgEarth_1_1Map.html#aff4f55389d999d345b4822eaf74cecf0" title="osgEarth::Map::addImageLayer" alt="" coords="548,809,751,839"/><area shape="rect" id="node58" href="classosgEarth_1_1Map.html#aa12f2741dd873872cf77fa487e84c915" title="osgEarth::Map::addModelLayer" alt="" coords="548,1099,751,1128"/><area shape="rect" id="node63" href="classosgEarth_1_1ModelLayerOptions.html#a0db8860b9fde151576402fa73ba513b8" title="osgEarth::ModelLayerOptions::driver" alt="" coords="1179,1253,1413,1283"/><area shape="rect" id="node67" href="classosgEarth_1_1Map.html#a9c5dfa555fde481ba52efa7132783211" title="osgEarth::Map::addTerrainMaskLayer" alt="" coords="529,1045,769,1075"/><area shape="rect" id="node71" href="classosgEarth_1_1MaskLayerOptions.html#aaa0c518dff8e5f2cf2e9f04e4aa06599" title="osgEarth::MaskLayerOptions::driver" alt="" coords="1181,1307,1411,1336"/><area shape="rect" id="node76" href="classosgEarth_1_1Config.html#a26e03777150dfe4c2b9e5602165dad27" title="osgEarth::Config::attr" alt="" coords="576,1307,723,1336"/><area shape="rect" id="node80" href="classosgEarth_1_1Config.html#a88eba459d34c251ddda234e93bbc3b5d" title="osgEarth::Config::attrs" alt="" coords="572,677,727,707"/><area shape="rect" id="node83" href="classosgEarth_1_1Config.html#a719c1a8834791318bf2be9ec46f2b55d" title="osgEarth::Config::children" alt="" coords="563,1413,736,1443"/><area shape="rect" id="node88" href="classosgEarth_1_1Config.html#a2491caa5d05f4165dc147049816098c6" title="osgEarth::Config::hasValue" alt="" coords="559,1573,740,1603"/><area shape="rect" id="node91" href="classosgEarth_1_1Config.html#a5e8fece976ded6667239209f27139c6c" title="osgEarth::Config::key" alt="" coords="1221,85,1371,115"/><area shape="rect" id="node93" href="classosgEarth_1_1MaskLayerOptions.html#a9c1b4f35e1d63eff59be2cc3edbce10b" title="osgEarth::MaskLayerOptions::name" alt="" coords="535,1520,764,1549"/><area shape="rect" id="node95" href="classosgEarth_1_1ModelLayerOptions.html#a9583882c7322ea8d755647895a290ba8" title="osgEarth::ModelLayerOptions::name" alt="" coords="532,1467,767,1496"/><area shape="rect" id="node97" href="classosgEarth_1_1TerrainLayerOptions.html#a6cf6026fbe54e25441fe155b5304b903" title="osgEarth::TerrainLayerOptions::name" alt="" coords="531,1253,768,1283"/><area shape="rect" id="node100" href="classosgEarth_1_1MapNodeOptions.html#a70c99ae0c5411063cdbad93eaf0c472e" title="osgEarth::MapNodeOptions::setTerrainOptions" alt="" coords="503,59,796,88"/><area shape="rect" id="node105" href="classosgEarth_1_1Config.html#a033ec2ca4c45a64605b2f97e6c59b0b9" title="osgEarth::Config::update" alt="" coords="567,5,732,35"/><area shape="rect" id="node15" href="classosgEarth_1_1Registry.html#a619b41e8ddbfac14a491edac8b879c1f" title="osgEarth::Registry::clearBlacklist" alt="" coords="877,784,1093,813"/><area shape="rect" id="node17" href="classosgEarth_1_1Map.html#a84a02a614b4b6ed8d2aceebb8a8593d9" title="osgEarth::Map::getCache" alt="" coords="900,627,1071,656"/><area shape="rect" id="node26" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="1203,521,1389,551"/><area shape="rect" id="node32" href="structosgEarth_1_1optional.html#abac1ffb58a490a5d8c30cc11fe6969bf" title="osgEarth::optional::isSetTo" alt="" coords="896,731,1075,760"/><area shape="rect" id="node36" href="classosgEarth_1_1TerrainLayer.html#ae98db9ea06d28b953bef666b95c5e9ad" title="osgEarth::TerrainLayer::setCache" alt="" coords="876,472,1095,501"/><area shape="rect" id="node41" href="classosgEarth_1_1TerrainLayer.html#a8259fe83544eee15cd68fc739183025e" title="osgEarth::TerrainLayer::setTargetProfileHint" alt="" coords="847,419,1124,448"/><area shape="rect" id="node43" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820" title="osgEarth::optional::value" alt="" coords="903,888,1068,917"/><area shape="rect" id="node20" href="classosgEarth_1_1CacheFactory.html#a1bac5511c0d97cf20443a7a96ea6e324" title="osgEarth::CacheFactory::create" alt="" coords="1192,628,1400,657"/><area shape="rect" id="node22" href="structosgEarth_1_1optional.html#ac10ed828e5fb151d8cabf856e1fc3d3e" title="osgEarth::optional::get" alt="" coords="1220,759,1372,788"/><area shape="rect" id="node24" href="classosgEarth_1_1Registry.html#a061d3903e633b9abfafc38d6faa1590c" title="osgEarth::Registry::getCacheOverride" alt="" coords="1175,681,1417,711"/><area shape="rect" id="node55" href="classosgEarth_1_1ImageLayer.html#a08fec3b68feea1922b60bbc8e993aa93" title="osgEarth::ImageLayer::setTargetProfileHint" alt="" coords="848,941,1123,971"/><area shape="rect" id="node61" href="classosgEarth_1_1ModelLayer.html#aeecbe7281d0d1e11fa2665e8ae0e40fb" title="osgEarth::ModelLayer::initialize" alt="" coords="884,1152,1087,1181"/><area shape="rect" id="node69" href="classosgEarth_1_1MaskLayer.html#a79f7a8d051a2b2e410ea58d4ee7fc12d" title="osgEarth::MaskLayer::initialize" alt="" coords="885,1099,1085,1128"/><area shape="rect" id="node78" href="namespaceosgEarth.html#a0bcf40dbfb8d914b6322a874eb021f50" title="osgEarth::trim" alt="" coords="933,1357,1037,1387"/><area shape="rect" id="node102" href="classosgEarth_1_1TerrainOptions.html#a64f80ff3ada3b6a144661bfcee79b608" title="osgEarth::TerrainOptions::getConfig" alt="" coords="871,59,1100,88"/><area shape="rect" id="node124" href="classosgEarth_1_1MapNode.html#aaf1d0f0c11d88481f102aa63048508cd" title="osgEarth::MapNode::externalConfig" alt="" coords="535,1728,764,1757"/><area shape="rect" id="node126" href="namespaceosgEarth.html#ac14af30464b9b0b3791566e99e4a02de" title="osgEarth::getFullPath" alt="" coords="576,1888,723,1917"/><area shape="rect" id="node134" href="classosgEarth_1_1ModelLayerOptions.html#a1fa13c73fa96a9e97cc3129f9b95bbaa" title="osgEarth::ModelLayerOptions::overlay" alt="" coords="528,1781,771,1811"/><area shape="rect" id="node128" href="namespaceosgEarth.html#acc0e85b18ae98a28ccbc86d545e19a41" title="osgEarth::isRelativePath" alt="" coords="903,1888,1068,1917"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa1370415380b47830d72faa789a64537"></a><!-- doxytag: member="ReaderWriterEarth::readNode" ref="aa1370415380b47830d72faa789a64537" args="(const std::string &amp;fileName, const Options *options) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual ReadResult ReaderWriterEarth::readNode </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Options *&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html#l00085">85</a> of file <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html">ReaderWriterOsgEarth.cpp</a>.</p>
<div class="fragment"><pre class="fragment">        {
            std::string ext = osgDB::getFileExtension( fileName );
            <span class="keywordflow">if</span> ( !<a class="code" href="classReaderWriterEarth.html#aac043d3daf39859432dcd9026d15678e">acceptsExtension</a>( ext ) )
                <span class="keywordflow">return</span> ReadResult::FILE_NOT_HANDLED;

            <span class="comment">// See if the filename starts with server: and strip it off.  This will trick OSG into</span>
            <span class="comment">// passing in the filename to our plugin instead of using the CURL plugin if the filename</span>
            <span class="comment">// contains a URL.  So, if you want to read a URL, you can use the following format</span>
            <span class="comment">// osgDB::readNodeFile(&quot;server:http://myserver/myearth.earth&quot;).  This should only be</span>
            <span class="comment">// necessary for the first level as the other files will have a tilekey prepended to them.</span>
            <span class="keywordflow">if</span> ((fileName.length() &gt; 7) &amp;&amp; (fileName.substr(0, 7) == <span class="stringliteral">&quot;server:&quot;</span>))
                <span class="keywordflow">return</span> <a class="code" href="classReaderWriterEarth.html#aa1370415380b47830d72faa789a64537">readNode</a>(fileName.substr(7), options);            

            <span class="keywordflow">if</span> ( fileName == <span class="stringliteral">&quot;__globe.earth&quot;</span> )
            {
                <span class="keywordflow">return</span> ReadResult( <span class="keyword">new</span> <a class="code" href="classosgEarth_1_1MapNode.html">MapNode</a>() );
            }

            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( fileName == <span class="stringliteral">&quot;__cube.earth&quot;</span> )
            {
                <a class="code" href="classosgEarth_1_1MapOptions.html">MapOptions</a> options;
                options.<a class="code" href="classosgEarth_1_1MapOptions.html#aed50a44017f7ed40f56855253cc027d0">coordSysType</a>() = MapOptions::CSTYPE_GEOCENTRIC_CUBE;
                <span class="keywordflow">return</span> ReadResult( <span class="keyword">new</span> <a class="code" href="classosgEarth_1_1MapNode.html">MapNode</a>( <span class="keyword">new</span> <a class="code" href="classosgEarth_1_1Map.html">Map</a>(options) ) );
            }

            <span class="keywordflow">else</span>
            {
                std::string buf;
                <span class="keywordflow">if</span> ( HTTPClient::readString( fileName, buf ) != HTTPClient::RESULT_OK )
                    <span class="keywordflow">return</span> ReadResult::ERROR_IN_READING_FILE;

                <span class="comment">// Since we&#39;re now passing off control to the stream, we have to pass along the</span>
                <span class="comment">// reference URI as well..</span>
                osg::ref_ptr&lt;Options&gt; myOptions = options ? 
                    <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceosgDB.html#a0b89b70899d380c7f1cf5074a1bafaac">Options</a>*<span class="keyword">&gt;</span>(options-&gt;clone(osg::CopyOp::DEEP_COPY_ALL)) : 
                    <span class="keyword">new</span> <a class="code" href="namespaceosgDB.html#a0b89b70899d380c7f1cf5074a1bafaac">Options</a>();

                <a class="code" href="classosgEarth_1_1URIContext.html">URIContext</a>( fileName ).<a class="code" href="classosgEarth_1_1URIContext.html#ad508a5d9e632d14e11cf01ecece176e2">store</a>( myOptions.get() );
                <span class="comment">//myOptions-&gt;setPluginData( &quot;__ReaderWriterOsgEarth::ref_uri&quot;, (void*)&amp;fileName );</span>

                std::stringstream <a class="code" href="namespaceosgEarth_1_1Json.html#ac78f55a4c4e91e3fd75de3ad98b50bef">in</a>( buf );
                <span class="keywordflow">return</span> <a class="code" href="classReaderWriterEarth.html#aa1370415380b47830d72faa789a64537">readNode</a>( <a class="code" href="namespaceosgEarth_1_1Json.html#ac78f55a4c4e91e3fd75de3ad98b50bef">in</a>, myOptions.get() );
            }
        }
</pre></div>
<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classReaderWriterEarth_aa1370415380b47830d72faa789a64537_cgraph.png" border="0" usemap="#classReaderWriterEarth_aa1370415380b47830d72faa789a64537_cgraph" alt=""/></div>
<map name="classReaderWriterEarth_aa1370415380b47830d72faa789a64537_cgraph" id="classReaderWriterEarth_aa1370415380b47830d72faa789a64537_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1MapOptions.html#aed50a44017f7ed40f56855253cc027d0" title="osgEarth::MapOptions::coordSysType" alt="" coords="249,433,492,463"/><area shape="rect" id="node5" href="namespaceosgEarth_1_1Json.html#ac78f55a4c4e91e3fd75de3ad98b50bef" title="osgEarth::Json::in" alt="" coords="307,487,435,516"/><area shape="rect" id="node7" href="classosgEarth_1_1HTTPClient.html#acb0dc59b70f927770cd4e17646112e15" title="osgEarth::HTTPClient::readString" alt="" coords="261,540,480,569"/><area shape="rect" id="node62" href="classosgEarth_1_1URIContext.html#ad508a5d9e632d14e11cf01ecece176e2" title="osgEarth::URIContext::store" alt="" coords="276,593,465,623"/><area shape="rect" id="node9" href="classosgEarth_1_1HTTPClient.html#a997d1ce44370a454ccb667948c1f5a56" title="osgEarth::HTTPClient::doReadString" alt="" coords="543,460,780,489"/><area shape="rect" id="node46" href="classosgEarth_1_1HTTPClient.html#ade965ee3144c8534f140641a3d3fda30" title="osgEarth::HTTPClient::getClient" alt="" coords="556,645,767,675"/><area shape="rect" id="node11" href="classosgEarth_1_1HTTPClient.html#a96eb034cc7d6e5e36ff35acc8e9ab832" title="osgEarth::HTTPClient::doGet" alt="" coords="873,245,1068,275"/><area shape="rect" id="node33" href="classosgEarth_1_1HTTPResponse.html#aed0c67a9a4fa5798feca919d03d90437" title="osgEarth::HTTPResponse::getCode" alt="" coords="855,328,1087,357"/><area shape="rect" id="node35" href="classosgEarth_1_1HTTPResponse.html#a3fd9d65ff08e1a5423a07474e8d644ce" title="osgEarth::HTTPResponse::getPartAsString" alt="" coords="833,381,1108,411"/><area shape="rect" id="node37" href="classosgEarth_1_1HTTPResponse.html#ab8b74fa42bdabd96f65a42d92c975c92" title="osgEarth::HTTPResponse::isCancelled" alt="" coords="1181,485,1432,515"/><area shape="rect" id="node39" href="classosgEarth_1_1HTTPResponse.html#aee5b1901831f84436647d578a9a3ee5b" title="osgEarth::HTTPResponse::isOK" alt="" coords="864,485,1077,515"/><area shape="rect" id="node42" href="classosgEarth_1_1HTTPClient.html#ac22cb8b2413ffaba10ad6b577ca16abd" title="osgEarth::HTTPClient::isRecoverable" alt="" coords="849,539,1092,568"/><area shape="rect" id="node44" href="classosgEarth_1_1ProgressCallback.html#aedcd142ead254722a42743bf476a92dd" title="osgEarth::ProgressCallback::setNeedsRetry" alt="" coords="831,592,1111,621"/><area shape="rect" id="node13" href="classosgEarth_1_1HTTPClient.html#a0a0cc6d6e9d576920725aca23f8e1f1b" title="osgEarth::HTTPClient::decodeMultipartStream" alt="" coords="1160,5,1453,35"/><area shape="rect" id="node17" href="structosgEarth_1_1optional.html#ac10ed828e5fb151d8cabf856e1fc3d3e" title="osgEarth::optional::get" alt="" coords="1231,59,1383,88"/><area shape="rect" id="node19" href="classosgEarth_1_1HTTPRequest.html#a97fc1c3354ed0c55e47355a4d3967528" title="osgEarth::HTTPRequest::getURL" alt="" coords="1197,112,1416,141"/><area shape="rect" id="node21" href="classosgEarth_1_1ProxySettings.html#a8f92db2fddac0305fc7a63a746b184fd" title="osgEarth::ProxySettings::hostName" alt="" coords="1191,165,1423,195"/><area shape="rect" id="node23" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="1224,219,1389,248"/><area shape="rect" id="node25" href="classosgEarth_1_1ProxySettings.html#aad3d04605be63e0f846e6ab1f3bbbd73" title="osgEarth::ProxySettings::password" alt="" coords="1193,272,1420,301"/><area shape="rect" id="node27" href="classosgEarth_1_1ProxySettings.html#ade63397477c470931b6c866b3e842cdc" title="osgEarth::ProxySettings::port" alt="" coords="1209,325,1404,355"/><area shape="rect" id="node29" href="classosgEarth_1_1HTTPClient.html#a3261da970cd4a52b5eca1297e326874e" title="osgEarth::HTTPClient::readOptions" alt="" coords="1192,379,1421,408"/><area shape="rect" id="node31" href="classosgEarth_1_1ProxySettings.html#a3324d11f27c341a33df59a0a3224101d" title="osgEarth::ProxySettings::userName" alt="" coords="1191,432,1423,461"/><area shape="rect" id="node15" href="HTTPClient_8cpp.html#aa51d7af850424bfaff8e3ce9ba94fe30" title="tokenize_str" alt="" coords="1595,5,1688,35"/><area shape="rect" id="node48" href="structosgEarth_1_1Threading_1_1PerThread.html#a677baa850da97a7dc22289e5d18b63bd" title="osgEarth::Threading::PerThread::get" alt="" coords="855,645,1087,675"/><area shape="rect" id="node50" href="classosgEarth_1_1HTTPClient.html#a23a15a8f27ac926a86c2ef7bc7bfebcb" title="osgEarth::HTTPClient::HTTPClient" alt="" coords="857,699,1084,728"/><area shape="rect" id="node52" href="HTTPClient_8cpp.html#ac7e9a73231af27eae2565fdbc3b140f0" title="CurlProgressCallback" alt="" coords="1232,672,1381,701"/><area shape="rect" id="node58" href="namespaceosgEarth.html#aace606a64b020bbf8cd64a8ab34bb6c8" title="osgEarth::StreamObjectReadCallback" alt="" coords="1185,725,1428,755"/><area shape="rect" id="node54" href="classosgEarth_1_1ProgressCallback.html#abe0f8bf93f93716f3aad268c0fe4c1e7" title="osgEarth::ProgressCallback::isCanceled" alt="" coords="1512,619,1771,648"/><area shape="rect" id="node56" href="classosgEarth_1_1ProgressCallback.html#a5c9ed1704337456d1ce9633201fb2842" title="osgEarth::ProgressCallback::reportProgress" alt="" coords="1503,672,1780,701"/><area shape="rect" id="node60" href="structosgEarth_1_1StreamObject.html#a6a2d6836658563225e115cd400a97a05" title="osgEarth::StreamObject::write" alt="" coords="1543,725,1740,755"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afd0611d4c91bdda1269e63c64585cc5d"></a><!-- doxytag: member="ReaderWriterEarth::readObject" ref="afd0611d4c91bdda1269e63c64585cc5d" args="(const std::string &amp;file_name, const Options *options) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual ReadResult ReaderWriterEarth::readObject </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Options *&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html#l00050">50</a> of file <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html">ReaderWriterOsgEarth.cpp</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">return</span> <a class="code" href="classReaderWriterEarth.html#aa1370415380b47830d72faa789a64537">readNode</a>( file_name, options );
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a6cf10dbc47aa3c627e51f6f3d76536ed"></a><!-- doxytag: member="ReaderWriterEarth::writeNode" ref="a6cf10dbc47aa3c627e51f6f3d76536ed" args="(const osg::Node &amp;node, std::ostream &amp;out, const Options *options) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual WriteResult ReaderWriterEarth::writeNode </td>
          <td>(</td>
          <td class="paramtype">const osg::Node &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Options *&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html#l00067">67</a> of file <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html">ReaderWriterOsgEarth.cpp</a>.</p>
<div class="fragment"><pre class="fragment">        {
            osg::Node* searchNode = <span class="keyword">const_cast&lt;</span>osg::Node*<span class="keyword">&gt;</span>( &amp;node );
            <a class="code" href="classosgEarth_1_1MapNode.html">MapNode</a>* mapNode = MapNode::findMapNode( searchNode );
            <span class="keywordflow">if</span> ( !mapNode )
                <span class="keywordflow">return</span> WriteResult::ERROR_IN_WRITING_FILE; <span class="comment">// i.e., no MapNode found in the graph.</span>

            <span class="comment">// serialize the map node to a generic Config object:</span>
            <a class="code" href="classEarthFileSerializer2.html">EarthFileSerializer2</a> ser;
            <a class="code" href="classosgEarth_1_1Config.html">Config</a> conf = ser.<a class="code" href="classEarthFileSerializer2.html#a276faeb62aacdd59653b527d4fdab154">serialize</a>( mapNode );

            <span class="comment">// dump that Config out as XML.</span>
            osg::ref_ptr&lt;XmlDocument&gt; xml = <span class="keyword">new</span> <a class="code" href="classosgEarth_1_1XmlDocument.html">XmlDocument</a>( conf );
            xml-&gt;store( out );

            <span class="keywordflow">return</span> WriteResult::FILE_SAVED;
        }
</pre></div>
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classReaderWriterEarth_a6cf10dbc47aa3c627e51f6f3d76536ed_cgraph.png" border="0" usemap="#classReaderWriterEarth_a6cf10dbc47aa3c627e51f6f3d76536ed_cgraph" alt=""/></div>
<map name="classReaderWriterEarth_a6cf10dbc47aa3c627e51f6f3d76536ed_cgraph" id="classReaderWriterEarth_a6cf10dbc47aa3c627e51f6f3d76536ed_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1MapNode.html#a2832313530afb8e8fd32b3d5f3e779e0" title="osgEarth::MapNode::findMapNode" alt="" coords="252,589,473,619"/><area shape="rect" id="node5" href="classEarthFileSerializer2.html#a276faeb62aacdd59653b527d4fdab154" title="EarthFileSerializer2::serialize" alt="" coords="268,643,457,672"/><area shape="rect" id="node7" href="classosgEarth_1_1Config.html#a42fd51ceaf7fa4d89cb28bcdf3d9c5dd" title="osgEarth::Config::add" alt="" coords="611,5,760,35"/><area shape="rect" id="node9" href="classosgEarth_1_1Config.html#a458c40400bb1519a2f3aab07af570414" title="osgEarth::Config::addChild" alt="" coords="915,84,1093,113"/><area shape="rect" id="node11" href="classosgEarth_1_1Config.html#a26e03777150dfe4c2b9e5602165dad27" title="osgEarth::Config::attr" alt="" coords="612,163,759,192"/><area shape="rect" id="node17" href="classosgEarth_1_1ModelLayerOptions.html#a0db8860b9fde151576402fa73ba513b8" title="osgEarth::ModelLayerOptions::driver" alt="" coords="568,216,803,245"/><area shape="rect" id="node19" href="classosgEarth_1_1TerrainLayerOptions.html#a50caaefc27eb54a34b6ff5628c43c34f" title="osgEarth::TerrainLayerOptions::driver" alt="" coords="567,269,804,299"/><area shape="rect" id="node21" href="classosgEarth_1_1MapFrame.html#a2f1751fdcda89f7f575ed022d3d2c885" title="osgEarth::MapFrame::elevationLayers" alt="" coords="564,323,807,352"/><area shape="rect" id="node23" href="classosgEarth_1_1Config.html#a6946240ddbee0080de1fd6d2d93ccd80" title="osgEarth::Config::empty" alt="" coords="604,376,767,405"/><area shape="rect" id="node25" href="classosgEarth_1_1MapNode.html#aaf1d0f0c11d88481f102aa63048508cd" title="osgEarth::MapNode::externalConfig" alt="" coords="571,429,800,459"/><area shape="rect" id="node27" href="classosgEarth_1_1ModelLayerOptions.html#af9b5ecb5b6e4b6285907e1913e9edbef" title="osgEarth::ModelLayerOptions::getConfig" alt="" coords="556,536,815,565"/><area shape="rect" id="node35" href="classosgEarth_1_1ElevationLayerOptions.html#a83369665eac9ee03e2fd7406cf846bba" title="osgEarth::ElevationLayerOptions::getConfig" alt="" coords="547,747,824,776"/><area shape="rect" id="node37" href="classosgEarth_1_1ImageLayerOptions.html#ab674bb74839e9b6a253d37cd44bbbb02" title="osgEarth::ImageLayerOptions::getConfig" alt="" coords="556,483,815,512"/><area shape="rect" id="node46" href="classosgEarth_1_1MapNodeOptions.html#afd870c2be445783a9c3ec5bffada40dd" title="osgEarth::MapNodeOptions::getConfig" alt="" coords="563,643,808,672"/><area shape="rect" id="node48" href="classosgEarth_1_1Config.html#a5e8fece976ded6667239209f27139c6c" title="osgEarth::Config::key" alt="" coords="1169,644,1319,673"/><area shape="rect" id="node54" href="classosgEarth_1_1MapOptions.html#a48418b0cd332719900986c146ce2378c" title="osgEarth::MapOptions::getConfig" alt="" coords="577,589,793,619"/><area shape="rect" id="node58" href="classosgEarth_1_1ElevationLayer.html#a6c187ec6d866f74b7f212b31b1d55566" title="osgEarth::ElevationLayer::getElevationLayerOptions" alt="" coords="523,800,848,829"/><area shape="rect" id="node60" href="classosgEarth_1_1ImageLayer.html#a6fbc035cfa825c362ed96285cd5d0cb2" title="osgEarth::ImageLayer::getImageLayerOptions" alt="" coords="541,853,829,883"/><area shape="rect" id="node62" href="classosgEarth_1_1MapNode.html#ad97119153966e1fc8029ebd5642d0444" title="osgEarth::MapNode::getMap" alt="" coords="591,907,780,936"/><area shape="rect" id="node64" href="classosgEarth_1_1MapNode.html#a71c5e96ccedec45570122243cd3b5748" title="osgEarth::MapNode::getMapNodeOptions" alt="" coords="553,960,817,989"/><area shape="rect" id="node66" href="classosgEarth_1_1Map.html#a693567c847af460f6934b0fdb9242ab2" title="osgEarth::Map::getMapOptions" alt="" coords="584,1013,787,1043"/><area shape="rect" id="node68" href="classosgEarth_1_1ModelLayer.html#a45a4e14ad17daf050f47f37734e1431d" title="osgEarth::ModelLayer::getModelLayerOptions" alt="" coords="543,1067,828,1096"/><area shape="rect" id="node70" href="classosgEarth_1_1ModelLayer.html#a44669952891f84cd005613cb5f01b318" title="osgEarth::ModelLayer::getName" alt="" coords="580,1120,791,1149"/><area shape="rect" id="node72" href="classosgEarth_1_1TerrainLayer.html#a55830499ac602f6f8dac06de5f81da2c" title="osgEarth::TerrainLayer::getName" alt="" coords="579,1173,792,1203"/><area shape="rect" id="node74" href="classosgEarth_1_1MapFrame.html#a1445bd530fe5debcbda43377ad757cd4" title="osgEarth::MapFrame::imageLayers" alt="" coords="572,1227,799,1256"/><area shape="rect" id="node77" href="classosgEarth_1_1Config.html#a2b1377b5a4a543f48fc25c76dec78772" title="osgEarth::Config::merge" alt="" coords="604,109,767,139"/><area shape="rect" id="node80" href="classosgEarth_1_1MapFrame.html#a0625a20b65d799b31a5e977c1aff2a1e" title="osgEarth::MapFrame::modelLayers" alt="" coords="572,1280,799,1309"/><area shape="rect" id="node13" href="namespaceosgEarth.html#a0bcf40dbfb8d914b6322a874eb021f50" title="osgEarth::trim" alt="" coords="952,163,1056,192"/><area shape="rect" id="node15" href="namespaceosgEarth_1_1Json.html#ac78f55a4c4e91e3fd75de3ad98b50bef" title="osgEarth::Json::in" alt="" coords="1180,163,1308,192"/><area shape="rect" id="node29" href="classosgEarth_1_1Config.html#a7634d2c4fc97a686d06265ca071744d7" title="osgEarth::Config::updateIfSet" alt="" coords="907,539,1101,568"/><area shape="rect" id="node31" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="1161,513,1327,543"/><area shape="rect" id="node33" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820" title="osgEarth::optional::value" alt="" coords="1161,433,1327,463"/><area shape="rect" id="node39" href="namespaceosgEarth.html#a04940a2895d6b43a059ade2b1093c9b4" title="osgEarth::colorToString" alt="" coords="925,485,1083,515"/><area shape="rect" id="node42" href="classosgEarth_1_1Config.html#a033ec2ca4c45a64605b2f97e6c59b0b9" title="osgEarth::Config::update" alt="" coords="921,331,1087,360"/><area shape="rect" id="node51" href="classosgEarth_1_1Config.html#a303495252c7b0136d9bee941d903ebac" title="osgEarth::Config::updateObjIfSet" alt="" coords="897,592,1111,621"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeddc92fa289fcc59429a1525642865de"></a><!-- doxytag: member="ReaderWriterEarth::writeNode" ref="aeddc92fa289fcc59429a1525642865de" args="(const osg::Node &amp;node, const std::string &amp;fileName, const Options *options) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual WriteResult ReaderWriterEarth::writeNode </td>
          <td>(</td>
          <td class="paramtype">const osg::Node &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Options *&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html#l00055">55</a> of file <a class="el" href="ReaderWriterOsgEarth_8cpp_source.html">ReaderWriterOsgEarth.cpp</a>.</p>
<div class="fragment"><pre class="fragment">        {
            <span class="keywordflow">if</span> ( !<a class="code" href="classReaderWriterEarth.html#aac043d3daf39859432dcd9026d15678e">acceptsExtension</a>( osgDB::getFileExtension(fileName) ) )
                <span class="keywordflow">return</span> WriteResult::FILE_NOT_HANDLED;

            std::ofstream out( fileName.c_str());
            <span class="keywordflow">if</span> ( out.is_open() )
                <span class="keywordflow">return</span> <a class="code" href="classReaderWriterEarth.html#aeddc92fa289fcc59429a1525642865de">writeNode</a>( node, out, options );

            <span class="keywordflow">return</span> WriteResult::ERROR_IN_WRITING_FILE;            
        }
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/cube/sources/osgearth/src/osgEarthDrivers/earth/<a class="el" href="ReaderWriterOsgEarth_8cpp_source.html">ReaderWriterOsgEarth.cpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Jan 18 2012 15:02:46 for osgEarth by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
