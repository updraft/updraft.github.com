<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>osgEarth: osgEarth::TileMapReaderWriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">osgEarth&#160;<span id="projectnumber">2.1.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceosgEarth.html">osgEarth</a>      </li>
      <li class="navelem"><a class="el" href="classosgEarth_1_1TileMapReaderWriter.html">TileMapReaderWriter</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<h1>osgEarth::TileMapReaderWriter Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="osgEarth::TileMapReaderWriter" -->
<p><a href="classosgEarth_1_1TileMapReaderWriter-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classosgEarth_1_1TileMap.html">TileMap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1TileMapReaderWriter.html#a296eb179f37b455fe254da2807b7eeb2">read</a> (const std::string &amp;location, const osgDB::ReaderWriter::Options *options)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classosgEarth_1_1TileMap.html">TileMap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1TileMapReaderWriter.html#ae6bc07938deda2b2b81227b59d09a86b">read</a> (std::istream &amp;in)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1TileMapReaderWriter.html#a15bcf79b8a5488f0b9714b06713ae272">write</a> (const <a class="el" href="classosgEarth_1_1TileMap.html">TileMap</a> *tileMap, const std::string &amp;location)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1TileMapReaderWriter.html#ace25127ca68e28272a3973a89882c485">write</a> (const <a class="el" href="classosgEarth_1_1TileMap.html">TileMap</a> *tileMap, std::ostream &amp;output)</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1TileMapReaderWriter.html#acdcc2607c71011cc7b1c11b35ce8c82e">TileMapReaderWriter</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1TileMapReaderWriter.html#a27cb8b7f0c3f02f7cc0ecd5316e27543">TileMapReaderWriter</a> (const <a class="el" href="classosgEarth_1_1TileMapReaderWriter.html">TileMapReaderWriter</a> &amp;tmr)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="TMS_source.html#l00413">413</a> of file <a class="el" href="TMS_source.html">TMS</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="acdcc2607c71011cc7b1c11b35ce8c82e"></a><!-- doxytag: member="osgEarth::TileMapReaderWriter::TileMapReaderWriter" ref="acdcc2607c71011cc7b1c11b35ce8c82e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osgEarth::TileMapReaderWriter::TileMapReaderWriter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a27cb8b7f0c3f02f7cc0ecd5316e27543"></a><!-- doxytag: member="osgEarth::TileMapReaderWriter::TileMapReaderWriter" ref="a27cb8b7f0c3f02f7cc0ecd5316e27543" args="(const TileMapReaderWriter &amp;tmr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osgEarth::TileMapReaderWriter::TileMapReaderWriter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1TileMapReaderWriter.html">TileMapReaderWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>tmr</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a296eb179f37b455fe254da2807b7eeb2"></a><!-- doxytag: member="osgEarth::TileMapReaderWriter::read" ref="a296eb179f37b455fe254da2807b7eeb2" args="(const std::string &amp;location, const osgDB::ReaderWriter::Options *options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1TileMap.html">TileMap</a> * TileMapReaderWriter::read </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const osgDB::ReaderWriter::Options *&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TMS_8cpp_source.html#l00398">398</a> of file <a class="el" href="TMS_8cpp_source.html">TMS.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1TileMap.html">TileMap</a> *tileMap = <a class="code" href="Export.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    <span class="keywordflow">if</span> ( osgDB::containsServerAddress( location ) )
    {
        <a class="code" href="classosgEarth_1_1HTTPResponse.html">HTTPResponse</a> response = <a class="code" href="classosgEarth_1_1HTTPClient.html#a0879c7446471e35f904adef9b87099f6">HTTPClient::get</a>( location, options );
        <span class="keywordflow">if</span> (response.<a class="code" href="classosgEarth_1_1HTTPResponse.html#aee5b1901831f84436647d578a9a3ee5b">isOK</a>() &amp;&amp; response.<a class="code" href="classosgEarth_1_1HTTPResponse.html#a94edaa653b3b500fbfde370df606bc1d">getNumParts</a>() &gt; 0 )
        {
            tileMap = <a class="code" href="classosgEarth_1_1TileMapReaderWriter.html#a296eb179f37b455fe254da2807b7eeb2">read</a>( response.<a class="code" href="classosgEarth_1_1HTTPResponse.html#ac0d57710f507b0233ce842de2d6f098f">getPartStream</a>( 0 ) );
        }
    }
    <span class="keywordflow">else</span>
    {
        <span class="keywordflow">if</span> ((osgDB::fileExists(location)) &amp;&amp; (osgDB::fileType(location) == osgDB::REGULAR_FILE))
        {
            std::ifstream <a class="code" href="namespaceosgEarth_1_1Json.html#ac78f55a4c4e91e3fd75de3ad98b50bef">in</a>( location.c_str() );
            tileMap = <a class="code" href="classosgEarth_1_1TileMapReaderWriter.html#a296eb179f37b455fe254da2807b7eeb2">read</a>( <a class="code" href="namespaceosgEarth_1_1Json.html#ac78f55a4c4e91e3fd75de3ad98b50bef">in</a> );
        }
    }
    <span class="keywordflow">if</span> (tileMap)
    {
        tileMap-&gt;<a class="code" href="classosgEarth_1_1TileMap.html#aa53c0b9a880092405c76fc07917df450">setFilename</a>( location );
    }
    <span class="keywordflow">return</span> tileMap;
}
</pre></div>
<p><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1TileMapReaderWriter_a296eb179f37b455fe254da2807b7eeb2_cgraph.png" border="0" usemap="#classosgEarth_1_1TileMapReaderWriter_a296eb179f37b455fe254da2807b7eeb2_cgraph" alt=""/></div>
<map name="classosgEarth_1_1TileMapReaderWriter_a296eb179f37b455fe254da2807b7eeb2_cgraph" id="classosgEarth_1_1TileMapReaderWriter_a296eb179f37b455fe254da2807b7eeb2_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1HTTPClient.html#a0879c7446471e35f904adef9b87099f6" title="osgEarth::HTTPClient::get" alt="" coords="340,405,516,435"/><area shape="rect" id="node43" href="classosgEarth_1_1HTTPResponse.html#a94edaa653b3b500fbfde370df606bc1d" title="osgEarth::HTTPResponse::getNumParts" alt="" coords="297,459,559,488"/><area shape="rect" id="node45" href="classosgEarth_1_1HTTPResponse.html#ac0d57710f507b0233ce842de2d6f098f" title="osgEarth::HTTPResponse::getPartStream" alt="" coords="295,512,561,541"/><area shape="rect" id="node47" href="namespaceosgEarth_1_1Json.html#ac78f55a4c4e91e3fd75de3ad98b50bef" title="osgEarth::Json::in" alt="" coords="364,565,492,595"/><area shape="rect" id="node49" href="classosgEarth_1_1HTTPResponse.html#aee5b1901831f84436647d578a9a3ee5b" title="osgEarth::HTTPResponse::isOK" alt="" coords="321,619,535,648"/><area shape="rect" id="node53" href="classosgEarth_1_1TileMap.html#aa53c0b9a880092405c76fc07917df450" title="osgEarth::TileMap::setFilename" alt="" coords="325,672,531,701"/><area shape="rect" id="node5" href="classosgEarth_1_1HTTPClient.html#a96eb034cc7d6e5e36ff35acc8e9ab832" title="osgEarth::HTTPClient::doGet" alt="" coords="640,245,835,275"/><area shape="rect" id="node27" href="classosgEarth_1_1HTTPClient.html#ade965ee3144c8534f140641a3d3fda30" title="osgEarth::HTTPClient::getClient" alt="" coords="632,485,843,515"/><area shape="rect" id="node7" href="classosgEarth_1_1HTTPClient.html#a0a0cc6d6e9d576920725aca23f8e1f1b" title="osgEarth::HTTPClient::decodeMultipartStream" alt="" coords="912,5,1205,35"/><area shape="rect" id="node11" href="structosgEarth_1_1optional.html#ac10ed828e5fb151d8cabf856e1fc3d3e" title="osgEarth::optional::get" alt="" coords="983,59,1135,88"/><area shape="rect" id="node13" href="classosgEarth_1_1HTTPRequest.html#a97fc1c3354ed0c55e47355a4d3967528" title="osgEarth::HTTPRequest::getURL" alt="" coords="949,112,1168,141"/><area shape="rect" id="node15" href="classosgEarth_1_1ProxySettings.html#a8f92db2fddac0305fc7a63a746b184fd" title="osgEarth::ProxySettings::hostName" alt="" coords="943,165,1175,195"/><area shape="rect" id="node17" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="976,219,1141,248"/><area shape="rect" id="node19" href="classosgEarth_1_1ProxySettings.html#aad3d04605be63e0f846e6ab1f3bbbd73" title="osgEarth::ProxySettings::password" alt="" coords="945,272,1172,301"/><area shape="rect" id="node21" href="classosgEarth_1_1ProxySettings.html#ade63397477c470931b6c866b3e842cdc" title="osgEarth::ProxySettings::port" alt="" coords="961,325,1156,355"/><area shape="rect" id="node23" href="classosgEarth_1_1HTTPClient.html#a3261da970cd4a52b5eca1297e326874e" title="osgEarth::HTTPClient::readOptions" alt="" coords="944,379,1173,408"/><area shape="rect" id="node25" href="classosgEarth_1_1ProxySettings.html#a3324d11f27c341a33df59a0a3224101d" title="osgEarth::ProxySettings::userName" alt="" coords="943,432,1175,461"/><area shape="rect" id="node9" href="HTTPClient_8cpp.html#aa51d7af850424bfaff8e3ce9ba94fe30" title="tokenize_str" alt="" coords="1329,5,1423,35"/><area shape="rect" id="node29" href="structosgEarth_1_1Threading_1_1PerThread.html#a677baa850da97a7dc22289e5d18b63bd" title="osgEarth::Threading::PerThread::get" alt="" coords="943,485,1175,515"/><area shape="rect" id="node31" href="classosgEarth_1_1HTTPClient.html#a23a15a8f27ac926a86c2ef7bc7bfebcb" title="osgEarth::HTTPClient::HTTPClient" alt="" coords="945,539,1172,568"/><area shape="rect" id="node33" href="HTTPClient_8cpp.html#ac7e9a73231af27eae2565fdbc3b140f0" title="CurlProgressCallback" alt="" coords="1301,512,1451,541"/><area shape="rect" id="node39" href="namespaceosgEarth.html#aace606a64b020bbf8cd64a8ab34bb6c8" title="osgEarth::StreamObjectReadCallback" alt="" coords="1255,565,1497,595"/><area shape="rect" id="node35" href="classosgEarth_1_1ProgressCallback.html#abe0f8bf93f93716f3aad268c0fe4c1e7" title="osgEarth::ProgressCallback::isCanceled" alt="" coords="1557,459,1816,488"/><area shape="rect" id="node37" href="classosgEarth_1_1ProgressCallback.html#a5c9ed1704337456d1ce9633201fb2842" title="osgEarth::ProgressCallback::reportProgress" alt="" coords="1548,512,1825,541"/><area shape="rect" id="node41" href="structosgEarth_1_1StreamObject.html#a6a2d6836658563225e115cd400a97a05" title="osgEarth::StreamObject::write" alt="" coords="1588,565,1785,595"/><area shape="rect" id="node51" href="classosgEarth_1_1HTTPResponse.html#ab8b74fa42bdabd96f65a42d92c975c92" title="osgEarth::HTTPResponse::isCancelled" alt="" coords="612,619,863,648"/></map>
</div>
</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1TileMapReaderWriter_a296eb179f37b455fe254da2807b7eeb2_icgraph.png" border="0" usemap="#classosgEarth_1_1TileMapReaderWriter_a296eb179f37b455fe254da2807b7eeb2_icgraph" alt=""/></div>
<map name="classosgEarth_1_1TileMapReaderWriter_a296eb179f37b455fe254da2807b7eeb2_icgraph" id="classosgEarth_1_1TileMapReaderWriter_a296eb179f37b455fe254da2807b7eeb2_icgraph">
<area shape="rect" id="node3" href="classTMSSource.html#a49e9c9f0ff0e7b0754772f63ddcdb869" title="TMSSource::initialize" alt="" coords="340,5,487,35"/><area shape="rect" id="node5" href="classosgEarth_1_1DiskCache.html#aac06399bd77018587063c44b262814be" title="osgEarth::DiskCache::loadProperties" alt="" coords="295,59,532,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae6bc07938deda2b2b81227b59d09a86b"></a><!-- doxytag: member="osgEarth::TileMapReaderWriter::read" ref="ae6bc07938deda2b2b81227b59d09a86b" args="(std::istream &amp;in)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1TileMap.html">TileMap</a> * TileMapReaderWriter::read </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TMS_8cpp_source.html#l00425">425</a> of file <a class="el" href="TMS_8cpp_source.html">TMS.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    osg::ref_ptr&lt;TileMap&gt; tileMap = <span class="keyword">new</span> <a class="code" href="classosgEarth_1_1TileMap.html">TileMap</a>;

    osg::ref_ptr&lt;XmlDocument&gt; doc = <a class="code" href="classosgEarth_1_1XmlDocument.html#a8342b9bb3dedbdebf1b3d482f475f203">XmlDocument::load</a>( <a class="code" href="namespaceosgEarth_1_1Json.html#ac78f55a4c4e91e3fd75de3ad98b50bef">in</a> );
    <span class="keywordflow">if</span> (!doc.valid())
    {
        <a class="code" href="HTTPClient_8cpp.html#ac6600c2662696d8b43a4deb6877c8591">OE_DEBUG</a> &lt;&lt; <a class="code" href="TMS_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Failed to load TileMap &quot;</span> &lt;&lt; std::endl;
        <span class="keywordflow">return</span> 0;
    }
   
    <span class="comment">//Get the root TileMap element</span>
    osg::ref_ptr&lt;XmlElement&gt; e_tile_map = doc-&gt;getSubElement( <a class="code" href="TMS_8cpp.html#a6f0b1596ca3b41edf3d8d0ec3fe771c3">ELEM_TILEMAP</a> );
    <span class="keywordflow">if</span> (!e_tile_map.valid())
    {
        <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <a class="code" href="TMS_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Could not find root TileMap element &quot;</span> &lt;&lt; std::endl;
        <span class="keywordflow">return</span> 0;
    }

    tileMap-&gt;setVersion( e_tile_map-&gt;getAttr( <a class="code" href="TMS_8cpp.html#adf66b0f3c145cbff18e6eb7755cfee62">ATTR_VERSION</a> ) );
    tileMap-&gt;setTileMapService( e_tile_map-&gt;getAttr( <a class="code" href="TMS_8cpp.html#a3e936efe3a039d1deb63407fb5ecef02">ATTR_TILEMAPSERVICE</a> ) );

    tileMap-&gt;setTitle( e_tile_map-&gt;getSubElementText(<a class="code" href="TMS_8cpp.html#a56834db26e553c1387291e096fb2e4bc">ELEM_TITLE</a>) );
    tileMap-&gt;setAbstract( e_tile_map-&gt;getSubElementText(<a class="code" href="TMS_8cpp.html#aba82c9a69e1346ee780b63b0d2b69410">ELEM_ABSTRACT</a>) );
    tileMap-&gt;setSRS( e_tile_map-&gt;getSubElementText(<a class="code" href="TMS_8cpp.html#a8e47eb059a26ebe59691ecc882db09e7">ELEM_SRS</a>) );
    tileMap-&gt;setVerticalSRS( e_tile_map-&gt;getSubElementText(<a class="code" href="TMS_8cpp.html#ad066b5dd6f61a0087a7171999b98e458">ELEM_VERTICAL_SRS</a>) );

    <span class="comment">//Read the bounding box</span>
    osg::ref_ptr&lt;XmlElement&gt; e_bounding_box = e_tile_map-&gt;getSubElement(<a class="code" href="TMS_8cpp.html#a50cfa9ca1e5fa6cb66670d7e30d4696a">ELEM_BOUNDINGBOX</a>);
    <span class="keywordflow">if</span> (e_bounding_box.valid())
    {
        <span class="keywordtype">double</span> minX = as&lt;double&gt;(e_bounding_box-&gt;getAttr( <a class="code" href="TMS_8cpp.html#a25a9e0adf03e54da5db335df41ec3753">ATTR_MINX</a> ), 0.0);
        <span class="keywordtype">double</span> minY = as&lt;double&gt;(e_bounding_box-&gt;getAttr( <a class="code" href="TMS_8cpp.html#a7b66396f1f4c050478bff73966d559c1">ATTR_MINY</a> ), 0.0);
        <span class="keywordtype">double</span> maxX = as&lt;double&gt;(e_bounding_box-&gt;getAttr( <a class="code" href="TMS_8cpp.html#ac425cc5a6c3560b4a7737f5769ef2c82">ATTR_MAXX</a> ), 0.0);
        <span class="keywordtype">double</span> maxY = as&lt;double&gt;(e_bounding_box-&gt;getAttr( <a class="code" href="TMS_8cpp.html#adf4e41bfe39dd0b016b4309968b4d467">ATTR_MAXY</a> ), 0.0);
        tileMap-&gt;setExtents( minX, minY, maxX, maxY);
    }

    <span class="comment">//Read the origin</span>
    osg::ref_ptr&lt;XmlElement&gt; e_origin = e_tile_map-&gt;getSubElement(<a class="code" href="TMS_8cpp.html#a40b0c89e562364e2dd9073b3f2edf59e">ELEM_ORIGIN</a>);
    <span class="keywordflow">if</span> (e_origin.valid())
    {
        tileMap-&gt;setOriginX( as&lt;double&gt;(e_origin-&gt;getAttr( <a class="code" href="TMS_8cpp.html#ad399845ffa731e8c26fd41762128a4bb">ATTR_X</a> ), 0.0) );
        tileMap-&gt;setOriginY( as&lt;double&gt;(e_origin-&gt;getAttr( <a class="code" href="TMS_8cpp.html#ac0e8cf0149b0eb3fd06518dcab6d153b">ATTR_Y</a> ), 0.0) );
    }

    <span class="comment">//Read the tile format</span>
    osg::ref_ptr&lt;XmlElement&gt; e_tile_format = e_tile_map-&gt;getSubElement(<a class="code" href="TMS_8cpp.html#ae486e4d72ecaae26e4b6f16411d1fcec">ELEM_TILE_FORMAT</a>);
    <span class="keywordflow">if</span> (e_tile_format.valid())
    {
        tileMap-&gt;getFormat().setExtension( e_tile_format-&gt;getAttr( <a class="code" href="TMS_8cpp.html#a254c448ea36085cc429a085443784b4d">ATTR_EXTENSION</a> ) );
        tileMap-&gt;getFormat().setMimeType( e_tile_format-&gt;getAttr( <a class="code" href="TMS_8cpp.html#a4d65bbc47d0a1e50c8944366b8e6ab23">ATTR_MIME_TYPE</a>) );
        tileMap-&gt;getFormat().setWidth( as&lt;unsigned int&gt;(e_tile_format-&gt;getAttr( <a class="code" href="TMS_8cpp.html#a920ce3f83699421432f24f00c9fd21f3">ATTR_WIDTH</a> ), 0) );
        tileMap-&gt;getFormat().setHeight( as&lt;unsigned int&gt;(e_tile_format-&gt;getAttr( <a class="code" href="TMS_8cpp.html#aff527a4090ef10014eb8dce54e0daedd">ATTR_HEIGHT</a> ), 0) );
    }

    <span class="comment">//Read the tilesets</span>
    osg::ref_ptr&lt;XmlElement&gt; e_tile_sets = e_tile_map-&gt;getSubElement(<a class="code" href="TMS_8cpp.html#a8f4c968dc85ed27d650b0c7f2dd70bb7">ELEM_TILESETS</a>);
    <span class="keywordflow">if</span> (e_tile_sets.valid())
    {
        <span class="comment">//Read the profile</span>
        std::string profile = e_tile_sets-&gt;getAttr( <a class="code" href="TMS_8cpp.html#aaab1a708220cda0ff47db3361cb58b50">ATTR_PROFILE</a> );
        <span class="keywordflow">if</span> (profile == <span class="stringliteral">&quot;global-geodetic&quot;</span>) tileMap-&gt;setProfileType( <a class="code" href="classosgEarth_1_1Profile.html#afd4c230573417df85856593f2cd958e2ad94c85af2033e02f0b57d49db09b1cdc">Profile::TYPE_GEODETIC</a> );
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (profile == <span class="stringliteral">&quot;global-mercator&quot;</span>) tileMap-&gt;setProfileType( <a class="code" href="classosgEarth_1_1Profile.html#afd4c230573417df85856593f2cd958e2ae1ec47335620a69a36067d3d84893fec">Profile::TYPE_MERCATOR</a> );
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (profile == <span class="stringliteral">&quot;local&quot;</span>) tileMap-&gt;setProfileType( <a class="code" href="classosgEarth_1_1Profile.html#afd4c230573417df85856593f2cd958e2ac24f3ce27754d14eafb50d7ebe0714a2">Profile::TYPE_LOCAL</a> );
        <span class="keywordflow">else</span> tileMap-&gt;setProfileType( <a class="code" href="classosgEarth_1_1Profile.html#afd4c230573417df85856593f2cd958e2a1d1946c1002e97188009c9061143ac06">Profile::TYPE_UNKNOWN</a> );

        <span class="comment">//Read each TileSet</span>
        <a class="code" href="namespaceosgEarth.html#ab18ec9de297a69c7d15702ef27f97a80">XmlNodeList</a> tile_sets = e_tile_sets-&gt;getSubElements( <a class="code" href="TMS_8cpp.html#a71ba8117195d700e1ed7b4ed5a503afb">ELEM_TILESET</a> );
        <span class="keywordflow">for</span>( XmlNodeList::const_iterator i = tile_sets.begin(); i != tile_sets.end(); i++ )
        {
            osg::ref_ptr&lt;XmlElement&gt; e_tile_set = <span class="keyword">static_cast&lt;</span><a class="code" href="classosgEarth_1_1XmlElement.html">XmlElement</a>*<span class="keyword">&gt;</span>( i-&gt;get() );
            <a class="code" href="classosgEarth_1_1TileSet.html">TileSet</a> tileset;
            tileset.<a class="code" href="classosgEarth_1_1TileSet.html#ad4e9d358754b5f69e2dbd85e9a9ee463">setHref</a>( e_tile_set-&gt;getAttr( <a class="code" href="TMS_8cpp.html#abfb0240728de6ab8e7c91bbce68264a2">ATTR_HREF</a> ) );
            tileset.<a class="code" href="classosgEarth_1_1TileSet.html#ae854c712fcf6e585ad37e79d070bd31d">setOrder</a>( as&lt;unsigned int&gt;(e_tile_set-&gt;getAttr( <a class="code" href="TMS_8cpp.html#ac4d68af01dcd4cfe84a0aa5b20d98194">ATTR_ORDER</a> ), -1) );
            tileset.<a class="code" href="classosgEarth_1_1TileSet.html#a064be8fe435d1f9eb7f07d2b061a5ac8">setUnitsPerPixel</a>( as&lt;double&gt;(e_tile_set-&gt;getAttr( <a class="code" href="TMS_8cpp.html#ac2baad34ced124d384a4d33d89ab4edc">ATTR_UNITSPERPIXEL</a> ), 0.0 ) );
            tileMap-&gt;getTileSets().push_back(tileset);
        }
    }

    <span class="comment">//Try to compute the profile based on the SRS if there was no PROFILE tag given</span>
    <span class="keywordflow">if</span> (tileMap-&gt;getProfileType() == <a class="code" href="classosgEarth_1_1Profile.html#afd4c230573417df85856593f2cd958e2a1d1946c1002e97188009c9061143ac06">Profile::TYPE_UNKNOWN</a> &amp;&amp; !tileMap-&gt;getSRS().empty())
    {
        tileMap-&gt;setProfileType( <a class="code" href="classosgEarth_1_1Profile.html#ae35dd9c6535a6d14edfcfb44fa73b376">Profile::getProfileTypeFromSRS</a>(tileMap-&gt;getSRS()) );
    }

    tileMap-&gt;computeMinMaxLevel();
    tileMap-&gt;computeNumTiles();

    <span class="comment">//Read the data areas</span>
    osg::ref_ptr&lt;XmlElement&gt; e_data_extents = e_tile_map-&gt;getSubElement(<a class="code" href="TMS_8cpp.html#a6883cfae619dcc5b4288d458dec4d9bd">ELEM_DATA_EXTENTS</a>);
    <span class="keywordflow">if</span> (e_data_extents.valid())
    {
        osg::ref_ptr&lt; const osgEarth::Profile &gt; profile = tileMap-&gt;createProfile();
        <a class="code" href="HTTPClient_8cpp.html#ac6600c2662696d8b43a4deb6877c8591">OE_DEBUG</a> &lt;&lt; <a class="code" href="TMS_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Found DataExtents &quot;</span> &lt;&lt; std::endl;
        <a class="code" href="namespaceosgEarth.html#ab18ec9de297a69c7d15702ef27f97a80">XmlNodeList</a> data_extents = e_data_extents-&gt;getSubElements( <a class="code" href="TMS_8cpp.html#a29dd0fc06e081dd10b50aa35e607ee2f">ELEM_DATA_EXTENT</a> );
        <span class="keywordflow">for</span>( XmlNodeList::const_iterator i = data_extents.begin(); i != data_extents.end(); i++ )
        {
            osg::ref_ptr&lt;XmlElement&gt; e_data_extent = <span class="keyword">static_cast&lt;</span><a class="code" href="classosgEarth_1_1XmlElement.html">XmlElement</a>*<span class="keyword">&gt;</span>( i-&gt;get() );
            <span class="keywordtype">double</span> minX = as&lt;double&gt;(e_data_extent-&gt;getAttr( <a class="code" href="TMS_8cpp.html#a25a9e0adf03e54da5db335df41ec3753">ATTR_MINX</a> ), 0.0);
            <span class="keywordtype">double</span> minY = as&lt;double&gt;(e_data_extent-&gt;getAttr( <a class="code" href="TMS_8cpp.html#a7b66396f1f4c050478bff73966d559c1">ATTR_MINY</a> ), 0.0);
            <span class="keywordtype">double</span> maxX = as&lt;double&gt;(e_data_extent-&gt;getAttr( <a class="code" href="TMS_8cpp.html#ac425cc5a6c3560b4a7737f5769ef2c82">ATTR_MAXX</a> ), 0.0);
            <span class="keywordtype">double</span> maxY = as&lt;double&gt;(e_data_extent-&gt;getAttr( <a class="code" href="TMS_8cpp.html#adf4e41bfe39dd0b016b4309968b4d467">ATTR_MAXY</a> ), 0.0);
            <span class="comment">//unsigned int minLevel = as&lt;unsigned int&gt;(e_data_extent-&gt;getAttr( ATTR_MIN_LEVEL ), 0);</span>
            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxLevel = as&lt;unsigned int&gt;(e_data_extent-&gt;getAttr( <a class="code" href="TMS_8cpp.html#ac1204fd4ba1b07d2920c5a1281a17df2">ATTR_MAX_LEVEL</a> ), 0);            

            <span class="comment">//OE_DEBUG &lt;&lt; LC &lt;&lt; &quot;Read area &quot; &lt;&lt; minX &lt;&lt; &quot;, &quot; &lt;&lt; minY &lt;&lt; &quot;, &quot; &lt;&lt; maxX &lt;&lt; &quot;, &quot; &lt;&lt; maxY &lt;&lt; &quot;, minlevel=&quot; &lt;&lt; minLevel &lt;&lt; &quot; maxlevel=&quot; &lt;&lt; maxLevel &lt;&lt; std::endl;</span>
            tileMap-&gt;getDataExtents().push_back( <a class="code" href="classosgEarth_1_1DataExtent.html">DataExtent</a>(<a class="code" href="classosgEarth_1_1GeoExtent.html">GeoExtent</a>(profile-&gt;getSRS(), minX, minY, maxX, maxY), 0, maxLevel));
        }
    }


    <span class="keywordflow">return</span> tileMap.release();
}
</pre></div>
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1TileMapReaderWriter_ae6bc07938deda2b2b81227b59d09a86b_cgraph.png" border="0" usemap="#classosgEarth_1_1TileMapReaderWriter_ae6bc07938deda2b2b81227b59d09a86b_cgraph" alt=""/></div>
<map name="classosgEarth_1_1TileMapReaderWriter_ae6bc07938deda2b2b81227b59d09a86b_cgraph" id="classosgEarth_1_1TileMapReaderWriter_ae6bc07938deda2b2b81227b59d09a86b_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Profile.html#ae35dd9c6535a6d14edfcfb44fa73b376" title="osgEarth::Profile::getProfileTypeFromSRS" alt="" coords="293,400,563,429"/><area shape="rect" id="node116" href="classosgEarth_1_1XmlDocument.html#a8342b9bb3dedbdebf1b3d482f475f203" title="osgEarth::XmlDocument::load" alt="" coords="329,453,527,483"/><area shape="rect" id="node118" href="classosgEarth_1_1TileSet.html#ad4e9d358754b5f69e2dbd85e9a9ee463" title="osgEarth::TileSet::setHref" alt="" coords="341,507,515,536"/><area shape="rect" id="node120" href="classosgEarth_1_1TileSet.html#ae854c712fcf6e585ad37e79d070bd31d" title="osgEarth::TileSet::setOrder" alt="" coords="337,560,519,589"/><area shape="rect" id="node122" href="classosgEarth_1_1TileSet.html#a064be8fe435d1f9eb7f07d2b061a5ac8" title="osgEarth::TileSet::setUnitsPerPixel" alt="" coords="313,613,543,643"/><area shape="rect" id="node5" href="classosgEarth_1_1Profile.html#a3d862455737d2b9f813a078f9ec22752" title="osgEarth::Profile::create" alt="" coords="611,400,773,429"/><area shape="rect" id="node7" href="classosgEarth_1_1VerticalSpatialReference.html#a9acfa96c19f41c37fe4ac55493440b44" title="osgEarth::VerticalSpatialReference::create" alt="" coords="823,139,1092,168"/><area shape="rect" id="node20" href="classosgEarth_1_1SpatialReference.html#a6f0818e362f23b50606b0e4f66773da1" title="osgEarth::SpatialReference::create" alt="" coords="844,803,1071,832"/><area shape="rect" id="node100" href="classosgEarth_1_1Profile.html#abd4572b378cfd1f2a671774e9650e5b1" title="osgEarth::Profile::Profile" alt="" coords="876,400,1039,429"/><area shape="rect" id="node9" href="classosgEarth_1_1Geoid.html#a416fbcb1c9daf8a9380a1f427ad4649c" title="osgEarth::Geoid::getName" alt="" coords="1625,111,1801,140"/><area shape="rect" id="node11" href="classosgEarth_1_1VerticalSpatialReference.html#a2bbc5770a11ffef3e170ade273b9e935" title="osgEarth::VerticalSpatialReference::registerGeoid" alt="" coords="1176,5,1485,35"/><area shape="rect" id="node14" href="namespaceosgEarth.html#a4c5320dc9ca7ee620ce2262d72fff769" title="osgEarth::startsWith" alt="" coords="1260,59,1401,88"/><area shape="rect" id="node16" href="namespaceosgEarth.html#a2c3b7223f6314c9d36e643c231f9123f" title="osgEarth::toLower" alt="" coords="1267,112,1395,141"/><area shape="rect" id="node18" href="classosgEarth_1_1VerticalSpatialReference.html#ab87754166e414475d1e59130cc6a579f" title="osgEarth::VerticalSpatialReference::VerticalSpatialReference" alt="" coords="1141,165,1520,195"/><area shape="rect" id="node22" href="classosgEarth_1_1SpatialReference.html#a91d6f84d9ff109c35108dcd8c814f4d5" title="osgEarth::SpatialReference::createCube" alt="" coords="2915,1153,3171,1183"/><area shape="rect" id="node24" href="classosgEarth_1_1SpatialReference.html#ad4674227fe46613b3f5821109a509714" title="osgEarth::SpatialReference::init" alt="" coords="3548,841,3753,871"/><area shape="rect" id="node30" href="classosgEarth_1_1SpatialReference.html#a2d9cb8d1418187a640151fd728e12546" title="osgEarth::SpatialReference::createFromPROJ4" alt="" coords="1181,803,1480,832"/><area shape="rect" id="node34" href="classosgEarth_1_1SpatialReference.html#a28d916a87ed2653a5763bf8777cd9cbf" title="osgEarth::SpatialReference::transform" alt="" coords="1907,855,2152,884"/><area shape="rect" id="node80" href="classosgEarth_1_1SpatialReference.html#a350359a4aecf5fcb3c5cd0cda7678cbd" title="osgEarth::SpatialReference::createFromWKT" alt="" coords="1188,749,1473,779"/><area shape="rect" id="node83" href="classosgEarth_1_1SpatialReference.html#a1ce7bab196098591946294d17771c355" title="osgEarth::SpatialReference::getSpatialReferenceCache" alt="" coords="1157,621,1504,651"/><area shape="rect" id="node26" href="classosgEarth_1_1SpatialReference.html#ae8cda9f2cf24a92d09c58462c5fbd5e8" title="osgEarth::SpatialReference::_init" alt="" coords="3804,841,4017,871"/><area shape="rect" id="node28" href="namespaceanonymous__namespace_02SpatialReference_8cpp_03.html#a2d59d21c23228cfce0a56b2174727ee9" title="anonymous_namespace\{SpatialReference::cpp\}::getOGRAttrValue" alt="" coords="4067,841,4477,871"/><area shape="rect" id="node32" href="classosgEarth_1_1SpatialReference.html#ae27903c7c477c9f22b68ee71415888bf" title="osgEarth::SpatialReference::SpatialReference" alt="" coords="1568,776,1859,805"/><area shape="rect" id="node37" href="classosgEarth_1_1SpatialReference.html#a398407559e7c170fc44cde6842511548" title="osgEarth::SpatialReference::isEquivalentTo" alt="" coords="2577,893,2852,923"/><area shape="rect" id="node62" href="classosgEarth_1_1SpatialReference.html#a3c3d798015a48c93c5063182ac177688" title="osgEarth::SpatialReference::transformPoints" alt="" coords="2223,684,2505,713"/><area shape="rect" id="node39" href="classosgEarth_1_1SpatialReference.html#afe559cd555e232b45109fbce72742b02" title="osgEarth::SpatialReference::_isEquivalentTo" alt="" coords="2901,893,3184,923"/><area shape="rect" id="node41" href="classosgEarth_1_1SpatialReference.html#ad7d6ef0605664b77e8348df5324ea32f" title="osgEarth::SpatialReference::getEllipsoid" alt="" coords="3237,895,3493,924"/><area shape="rect" id="node44" href="classosgEarth_1_1SpatialReference.html#a62d6dc2c358aaeeba591954de0475333" title="osgEarth::SpatialReference::getWKT" alt="" coords="3247,735,3484,764"/><area shape="rect" id="node47" href="classosgEarth_1_1SpatialReference.html#a7e2212a07fe863d5680b73f1e76cdee2" title="osgEarth::SpatialReference::isContiguous" alt="" coords="3232,948,3499,977"/><area shape="rect" id="node50" href="classosgEarth_1_1SpatialReference.html#a56b924155ab1745c5c9592269c6c147b" title="osgEarth::SpatialReference::isCube" alt="" coords="3251,841,3480,871"/><area shape="rect" id="node53" href="classosgEarth_1_1SpatialReference.html#adfb00834f8d96146b119add7ec2c93a3" title="osgEarth::SpatialReference::isGeographic" alt="" coords="3232,628,3499,657"/><area shape="rect" id="node56" href="classosgEarth_1_1SpatialReference.html#a8531e5c5cfc660c195ec9a569ba28cab" title="osgEarth::SpatialReference::isLTP" alt="" coords="3253,788,3477,817"/><area shape="rect" id="node58" href="classosgEarth_1_1SpatialReference.html#a7b198b8e4dc79a8c4e04cee6b73c85c4" title="osgEarth::SpatialReference::isMercator" alt="" coords="3240,681,3491,711"/><area shape="rect" id="node64" href="SpatialReference_8cpp.html#a253ee9380896291f2aec77e4868d994c" title="geographicToMercator" alt="" coords="2640,736,2789,765"/><area shape="rect" id="node66" href="classosgEarth_1_1SpatialReference.html#a2e11d757cd795a81173912054fbb83c9" title="osgEarth::SpatialReference::getName" alt="" coords="2921,579,3164,608"/><area shape="rect" id="node74" href="SpatialReference_8cpp.html#a047d2c7e4580672483d0926a8f694e7e" title="mercatorToGeographic" alt="" coords="2637,789,2792,819"/><area shape="rect" id="node76" href="classosgEarth_1_1SpatialReference.html#a1f6be4de7c26f8dd31504f10b21d68be" title="osgEarth::SpatialReference::postTransform" alt="" coords="2577,477,2852,507"/><area shape="rect" id="node78" href="classosgEarth_1_1SpatialReference.html#a9ce72de8ce6def17df6239a136dedb5d" title="osgEarth::SpatialReference::preTransform" alt="" coords="2581,531,2848,560"/><area shape="rect" id="node85" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="1620,528,1807,557"/><area shape="rect" id="node87" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="1936,528,2123,557"/><area shape="rect" id="node89" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="2200,555,2528,584"/><area shape="rect" id="node92" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="2252,608,2476,637"/><area shape="rect" id="node94" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="2243,448,2485,477"/><area shape="rect" id="node96" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="2241,501,2487,531"/><area shape="rect" id="node102" href="classosgEarth_1_1Registry.html#a5f57482206df285f0910c7756a19d0d2" title="osgEarth::Registry::getDefaultVSRS" alt="" coords="1213,477,1448,507"/><area shape="rect" id="node104" href="classosgEarth_1_1SpatialReference.html#a42fc6ea305be6b94340bf300d7b67dbe" title="osgEarth::SpatialReference::getGeographicSRS" alt="" coords="1180,323,1481,352"/><area shape="rect" id="node108" href="classosgEarth_1_1GeoExtent.html#a77766059cde5244c2bc309cfa50800c3" title="osgEarth::GeoExtent::getSRS" alt="" coords="1232,531,1429,560"/><area shape="rect" id="node112" href="classosgEarth_1_1GeoExtent.html#a279160f409098609ad030cf7b3e7bf9d" title="osgEarth::GeoExtent::transform" alt="" coords="1228,269,1433,299"/><area shape="rect" id="node114" href="classosgEarth_1_1GeoExtent.html#a11d477896ee28030e4641760c737aab7" title="osgEarth::GeoExtent::GeoExtent" alt="" coords="1607,269,1820,299"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a15bcf79b8a5488f0b9714b06713ae272"></a><!-- doxytag: member="osgEarth::TileMapReaderWriter::write" ref="a15bcf79b8a5488f0b9714b06713ae272" args="(const TileMap *tileMap, const std::string &amp;location)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TileMapReaderWriter::write </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1TileMap.html">TileMap</a> *&#160;</td>
          <td class="paramname"><em>tileMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>location</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TMS_8cpp_source.html#l00630">630</a> of file <a class="el" href="TMS_8cpp_source.html">TMS.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    std::string path = osgDB::getFilePath(location);
    <span class="keywordflow">if</span> (!osgDB::fileExists(path) &amp;&amp; !osgDB::makeDirectory(path))
    {
        <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <a class="code" href="TMS_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Couldn&#39;t create path &quot;</span> &lt;&lt; std::endl;
    }
    std::ofstream out(location.c_str());
    <a class="code" href="classosgEarth_1_1TileMapReaderWriter.html#a15bcf79b8a5488f0b9714b06713ae272">write</a>(tileMap, out);
}
</pre></div>
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1TileMapReaderWriter_a15bcf79b8a5488f0b9714b06713ae272_icgraph.png" border="0" usemap="#classosgEarth_1_1TileMapReaderWriter_a15bcf79b8a5488f0b9714b06713ae272_icgraph" alt=""/></div>
<map name="classosgEarth_1_1TileMapReaderWriter_a15bcf79b8a5488f0b9714b06713ae272_icgraph" id="classosgEarth_1_1TileMapReaderWriter_a15bcf79b8a5488f0b9714b06713ae272_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1DiskCache.html#ae88ec5e306829701508f88ac3a225920" title="osgEarth::DiskCache::storeProperties" alt="" coords="296,5,539,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ace25127ca68e28272a3973a89882c485"></a><!-- doxytag: member="osgEarth::TileMapReaderWriter::write" ref="ace25127ca68e28272a3973a89882c485" args="(const TileMap *tileMap, std::ostream &amp;output)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TileMapReaderWriter::write </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1TileMap.html">TileMap</a> *&#160;</td>
          <td class="paramname"><em>tileMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="TMS_8cpp_source.html#l00642">642</a> of file <a class="el" href="TMS_8cpp_source.html">TMS.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    osg::ref_ptr&lt;XmlDocument&gt; doc = <a class="code" href="TMS_8cpp.html#a056bc1f1b2b95401c61128fee63d0e1d">tileMapToXmlDocument</a>(tileMap);    
    doc-&gt;store(output);
}
</pre></div>
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1TileMapReaderWriter_ace25127ca68e28272a3973a89882c485_cgraph.png" border="0" usemap="#classosgEarth_1_1TileMapReaderWriter_ace25127ca68e28272a3973a89882c485_cgraph" alt=""/></div>
<map name="classosgEarth_1_1TileMapReaderWriter_ace25127ca68e28272a3973a89882c485_cgraph" id="classosgEarth_1_1TileMapReaderWriter_ace25127ca68e28272a3973a89882c485_cgraph">
<area shape="rect" id="node3" href="TMS_8cpp.html#a056bc1f1b2b95401c61128fee63d0e1d" title="tileMapToXmlDocument" alt="" coords="296,1638,459,1667"/><area shape="rect" id="node5" href="classosgEarth_1_1TileMap.html#a5dcf9aa81810e5fb4d6b1ecd507eea0c" title="osgEarth::TileMap::createProfile" alt="" coords="525,1150,733,1179"/><area shape="rect" id="node14" href="classosgEarth_1_1TileFormat.html#a7fd11df254f91aa07a3bea14a6cbea51" title="osgEarth::TileFormat::getWidth" alt="" coords="1517,539,1720,569"/><area shape="rect" id="node52" href="classosgEarth_1_1Registry.html#aa347b00b8aa5b7db6cd4c52ee5d63d5e" title="osgEarth::Registry::getGlobalGeodeticProfile" alt="" coords="800,1215,1083,1245"/><area shape="rect" id="node64" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="1839,1162,2025,1191"/><area shape="rect" id="node69" href="classosgEarth_1_1Registry.html#a4e53546f5785f22a28876e820d8e3850" title="osgEarth::Registry::getGlobalMercatorProfile" alt="" coords="800,1269,1083,1298"/><area shape="rect" id="node74" href="classosgEarth_1_1TileMap.html#ab1bbc0c97dca9c2d7715212c31d230d6" title="osgEarth::TileMap::getAbstract" alt="" coords="528,1371,731,1401"/><area shape="rect" id="node76" href="classosgEarth_1_1TileMap.html#a3b73aef4af2639f87e70c8e776230532" title="osgEarth::TileMap::getDataExtents" alt="" coords="516,1425,743,1454"/><area shape="rect" id="node78" href="classosgEarth_1_1TileFormat.html#a3d2069c98d006152bf5626481acaea96" title="osgEarth::TileFormat::getExtension" alt="" coords="516,1478,743,1507"/><area shape="rect" id="node80" href="classosgEarth_1_1TileMap.html#aed99702857f1e9adf097d290b6ab0699" title="osgEarth::TileMap::getExtents" alt="" coords="531,1531,728,1561"/><area shape="rect" id="node82" href="classosgEarth_1_1TileMap.html#a4add3bc2c5bd0a5303f2aa2f3e76a46d" title="osgEarth::TileMap::getFormat" alt="" coords="532,1585,727,1614"/><area shape="rect" id="node86" href="classosgEarth_1_1TileFormat.html#aa3aed9d7232d93921d24e35963617f5c" title="osgEarth::TileFormat::getHeight" alt="" coords="525,1638,733,1667"/><area shape="rect" id="node88" href="classosgEarth_1_1TileFormat.html#a9e107d3d04071fc4ffe5d30077ab8da3" title="osgEarth::TileFormat::getMimeType" alt="" coords="515,1691,744,1721"/><area shape="rect" id="node90" href="classosgEarth_1_1TileMap.html#afd1fb572a5ad2f80b050c127c88aa092" title="osgEarth::TileMap::getOriginX" alt="" coords="531,1745,728,1774"/><area shape="rect" id="node92" href="classosgEarth_1_1TileMap.html#a425703872868536310456e3e7feb2a29" title="osgEarth::TileMap::getOriginY" alt="" coords="531,1798,728,1827"/><area shape="rect" id="node94" href="classosgEarth_1_1TileMap.html#a144889b807a16a590068a74c5ed38956" title="osgEarth::TileMap::getSRS" alt="" coords="539,1851,720,1881"/><area shape="rect" id="node96" href="classosgEarth_1_1TileMap.html#a1b6ae1db27a7317d2e0fbb2db7730eb5" title="osgEarth::TileMap::getTileMapService" alt="" coords="508,1905,751,1934"/><area shape="rect" id="node98" href="classosgEarth_1_1TileMap.html#a513fc562b9b92213eb33d55a5429e2ec" title="osgEarth::TileMap::getTileSets" alt="" coords="528,1958,731,1987"/><area shape="rect" id="node100" href="classosgEarth_1_1TileMap.html#af9a5da1b07310d76dad58291fdb2ff9d" title="osgEarth::TileMap::getTitle" alt="" coords="540,2011,719,2041"/><area shape="rect" id="node102" href="classosgEarth_1_1TileMap.html#a18759de510e153ea7204751d7235429e" title="osgEarth::TileMap::getVersion" alt="" coords="531,2065,728,2094"/><area shape="rect" id="node104" href="classosgEarth_1_1TileMap.html#accebe9b8ed192204628eb90cb2cacc40" title="osgEarth::TileMap::getVerticalSRS" alt="" coords="516,2118,743,2147"/><area shape="rect" id="node108" href="namespaceosgEarth.html#a18c6b16685eb5809c934715423be97fc" title="osgEarth::toString" alt="" coords="567,2171,692,2201"/><area shape="rect" id="node7" href="classosgEarth_1_1TileMap.html#a02cc20d7b48d73ef21d915df434628c0" title="osgEarth::TileMap::create" alt="" coords="856,605,1027,634"/><area shape="rect" id="node9" href="classosgEarth_1_1TileMap.html#a40b074798e23cc632cc1a8f4e2a5a008" title="osgEarth::TileMap::computeMinMaxLevel" alt="" coords="1152,231,1413,261"/><area shape="rect" id="node11" href="classosgEarth_1_1TileMap.html#aa85c65c7074c1f6fadb9b97340ae6f6e" title="osgEarth::TileMap::generateTileSets" alt="" coords="1165,1085,1400,1114"/><area shape="rect" id="node16" href="classosgEarth_1_1Profile.html#af8ce182ba0e6f0e362046e593068955e" title="osgEarth::Profile::getExtent" alt="" coords="1192,285,1373,314"/><area shape="rect" id="node18" href="classosgEarth_1_1VerticalSpatialReference.html#adbd7358f98bad679297e435d65afa626" title="osgEarth::VerticalSpatialReference::getInitString" alt="" coords="1131,338,1435,367"/><area shape="rect" id="node20" href="classosgEarth_1_1Profile.html#aee25e5f52c64be4e48a5d9bde2f10c7f" title="osgEarth::Profile::getNumTiles" alt="" coords="1183,391,1383,421"/><area shape="rect" id="node22" href="classosgEarth_1_1Profile.html#a2334ff4e34a79991978aa756483f42cd" title="osgEarth::Profile::getProfileType" alt="" coords="1177,445,1388,474"/><area shape="rect" id="node24" href="classosgEarth_1_1Profile.html#a74622647d0d05b6823225a752ed7652b" title="osgEarth::Profile::getSRS" alt="" coords="1196,498,1369,527"/><area shape="rect" id="node26" href="TMS_8cpp.html#aea13edc1b365b884db4ff337963fb4f6" title="getSRSString" alt="" coords="1232,551,1333,581"/><area shape="rect" id="node28" href="classosgEarth_1_1Profile.html#a51ec4bfed483574305760252382a2b80" title="osgEarth::Profile::getVerticalSRS" alt="" coords="1175,605,1391,634"/><area shape="rect" id="node30" href="classosgEarth_1_1TileFormat.html#a3db03e26b2808e63e82b214dc090230b" title="osgEarth::TileFormat::setExtension" alt="" coords="1169,658,1396,687"/><area shape="rect" id="node32" href="classosgEarth_1_1TileMap.html#a3e20a77dd251376f6531da8ebbb1f855" title="osgEarth::TileMap::setExtents" alt="" coords="1184,711,1381,741"/><area shape="rect" id="node34" href="classosgEarth_1_1TileFormat.html#a226ee7b0a203dd5e3726fd2c6e9558d6" title="osgEarth::TileFormat::setHeight" alt="" coords="1179,765,1387,794"/><area shape="rect" id="node36" href="classosgEarth_1_1TileMap.html#a1cac95ba0db949f181f9bd7f12562924" title="osgEarth::TileMap::setOrigin" alt="" coords="1189,818,1376,847"/><area shape="rect" id="node38" href="classosgEarth_1_1TileMap.html#a3eb2df293d413f0673488227a986ed53" title="osgEarth::TileMap::setProfileType" alt="" coords="1173,871,1392,901"/><area shape="rect" id="node40" href="classosgEarth_1_1TileFormat.html#af263775c6ca3c509c805c2fe04a829ad" title="osgEarth::TileFormat::setWidth" alt="" coords="1181,925,1384,954"/><area shape="rect" id="node42" href="classosgEarth_1_1TileMap.html#a89efb398413e7fed8cdf9f3a0b58c9d0" title="osgEarth::TileMap::TileMap" alt="" coords="1192,978,1373,1007"/><area shape="rect" id="node44" href="classosgEarth_1_1GeoExtent.html#a91457972e7827ea655db19203e63db00" title="osgEarth::GeoExtent::xMax" alt="" coords="1191,1031,1375,1061"/><area shape="rect" id="node46" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="1193,71,1372,101"/><area shape="rect" id="node48" href="classosgEarth_1_1GeoExtent.html#aa64e915bc55e7390c60f99962ff1cccc" title="osgEarth::GeoExtent::yMax" alt="" coords="1191,125,1375,154"/><area shape="rect" id="node50" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="1193,178,1372,207"/><area shape="rect" id="node54" href="classosgEarth_1_1Profile.html#a3d862455737d2b9f813a078f9ec22752" title="osgEarth::Profile::create" alt="" coords="1201,1215,1364,1245"/><area shape="rect" id="node56" href="classosgEarth_1_1VerticalSpatialReference.html#a9acfa96c19f41c37fe4ac55493440b44" title="osgEarth::VerticalSpatialReference::create" alt="" coords="1484,1215,1753,1245"/><area shape="rect" id="node58" href="classosgEarth_1_1SpatialReference.html#a6f0818e362f23b50606b0e4f66773da1" title="osgEarth::SpatialReference::create" alt="" coords="1505,1269,1732,1298"/><area shape="rect" id="node62" href="classosgEarth_1_1Profile.html#abd4572b378cfd1f2a671774e9650e5b1" title="osgEarth::Profile::Profile" alt="" coords="1537,1162,1700,1191"/><area shape="rect" id="node60" href="classosgEarth_1_1SpatialReference.html#a91d6f84d9ff109c35108dcd8c814f4d5" title="osgEarth::SpatialReference::createCube" alt="" coords="1804,1269,2060,1298"/><area shape="rect" id="node66" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="2111,1162,2297,1191"/></map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/cube/sources/osgearth/src/osgEarth/<a class="el" href="TMS_source.html">TMS</a></li>
<li>/home/cube/sources/osgearth/src/osgEarth/<a class="el" href="TMS_8cpp_source.html">TMS.cpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Jan 18 2012 15:02:54 for osgEarth by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
