<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>osgEarth: osgEarth::Features::SubstituteModelFilter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">osgEarth&#160;<span id="projectnumber">2.1.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceosgEarth.html">osgEarth</a>      </li>
      <li class="navelem"><a class="el" href="namespaceosgEarth_1_1Features.html">Features</a>      </li>
      <li class="navelem"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html">SubstituteModelFilter</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>osgEarth::Features::SubstituteModelFilter Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="osgEarth::Features::SubstituteModelFilter" --><!-- doxytag: inherits="osgEarth::Features::FeaturesToNodeFilter" --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for osgEarth::Features::SubstituteModelFilter:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Features_1_1SubstituteModelFilter__inherit__graph.png" border="0" usemap="#osgEarth_1_1Features_1_1SubstituteModelFilter_inherit__map" alt="Inheritance graph"/></div>
<map name="osgEarth_1_1Features_1_1SubstituteModelFilter_inherit__map" id="osgEarth_1_1Features_1_1SubstituteModelFilter_inherit__map">
<area shape="rect" id="node2" href="classosgEarth_1_1Features_1_1FeaturesToNodeFilter.html" title="osgEarth::Features::FeaturesToNodeFilter" alt="" coords="5,160,272,189"/><area shape="rect" id="node4" href="classosgEarth_1_1Features_1_1Filter.html" title="osgEarth::Features::Filter" alt="" coords="53,83,224,112"/><area shape="rect" id="node6" href="classosg_1_1Referenced.html" title="Referenced" alt="" coords="95,5,183,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Collaboration diagram for osgEarth::Features::SubstituteModelFilter:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Features_1_1SubstituteModelFilter__coll__graph.png" border="0" usemap="#osgEarth_1_1Features_1_1SubstituteModelFilter_coll__map" alt="Collaboration graph"/></div>
<map name="osgEarth_1_1Features_1_1SubstituteModelFilter_coll__map" id="osgEarth_1_1Features_1_1SubstituteModelFilter_coll__map">
<area shape="rect" id="node2" href="classosgEarth_1_1Features_1_1FeaturesToNodeFilter.html" title="osgEarth::Features::FeaturesToNodeFilter" alt="" coords="539,5,805,35"/><area shape="rect" id="node4" href="classosgEarth_1_1Features_1_1Filter.html" title="osgEarth::Features::Filter" alt="" coords="147,7,317,36"/><area shape="rect" id="node6" href="classosg_1_1Referenced.html" title="Referenced" alt="" coords="7,39,95,68"/><area shape="rect" id="node8" href="classosgEarth_1_1Style.html" title="osgEarth::Style" alt="" coords="341,61,453,91"/><area shape="rect" id="node11" href="classosgEarth_1_1LRUCache.html" title="osgEarth::LRUCache\&lt; URI, osg::ref_ptr\&lt; MarkerResource \&gt; \&gt;" alt="" coords="477,124,867,153"/><area shape="rect" id="node13" href="classosgEarth_1_1Symbology_1_1StringExpression.html" title="osgEarth::Symbology::StringExpression" alt="" coords="545,177,799,207"/><area shape="rect" id="node15" href="classosgEarth_1_1URIContext.html" title="osgEarth::URIContext" alt="" coords="156,177,308,207"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classosgEarth_1_1Features_1_1SubstituteModelFilter-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a4f3cd5c4fde90ba0c245271999fcabc9">SubstituteModelFilter</a> (const <a class="el" href="classosgEarth_1_1Style.html">Style</a> &amp;style=<a class="el" href="classosgEarth_1_1Style.html">Style</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#aa1af9ec1145ca8322c7712d354b3b735">setClustering</a> (bool value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#ad4fea88ac0aca30253fbd04706178298">getClustering</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a6fb015ab63b43f4bf7d5a983248a34f3">setMergeGeometry</a> (bool value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a72004d9fb7a094d1eb486905ec9cce4c">getMergeGeometry</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a5ef4b301968424242fef091d7e7ce56a">setFeatureNameExpr</a> (const <a class="el" href="classosgEarth_1_1Symbology_1_1StringExpression.html">StringExpression</a> &amp;expr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classosgEarth_1_1Symbology_1_1StringExpression.html">StringExpression</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a0c2856e0b247818fed3648dac1a1931d">getFeatureNameExpr</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual osg::Node *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a3bb5b23998ca820286075d027effe7dd">push</a> (<a class="el" href="namespaceosgEarth_1_1Features.html#a1e64d25cc48ef96694c4325b5c31f28b">FeatureList</a> &amp;input, <a class="el" href="classosgEarth_1_1Features_1_1FilterContext.html">FilterContext</a> &amp;context)</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#acb2752193f3941a3fee7c1f15bd3b1ea">isSupported</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classosgEarth_1_1LRUCache.html">LRUCache</a>&lt; <a class="el" href="classosgEarth_1_1URI.html">URI</a>, <br class="typebreak"/>
osg::ref_ptr&lt; <a class="el" href="classosgEarth_1_1Symbology_1_1MarkerResource.html">MarkerResource</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#abdef028a77c9beb8f551c7c3cdcfc120">MarkerCache</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a791aa5e33fc6b7f2c7c3f5783f234434">process</a> (const <a class="el" href="namespaceosgEarth_1_1Features.html#a1e64d25cc48ef96694c4325b5c31f28b">FeatureList</a> &amp;features, const <a class="el" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html">MarkerSymbol</a> *symbol, <a class="el" href="classosgEarth_1_1Features_1_1Session.html">Session</a> *session, osg::Group *ap, <a class="el" href="classosgEarth_1_1Features_1_1FilterContext.html">FilterContext</a> &amp;context)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a9b17793dcd1687837967f1408dbd5e9e">cluster</a> (const <a class="el" href="namespaceosgEarth_1_1Features.html#a1e64d25cc48ef96694c4325b5c31f28b">FeatureList</a> &amp;features, const <a class="el" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html">MarkerSymbol</a> *symbol, <a class="el" href="classosgEarth_1_1Features_1_1Session.html">Session</a> *session, osg::Group *ap, <a class="el" href="classosgEarth_1_1Features_1_1FilterContext.html">FilterContext</a> &amp;context)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1Style.html">Style</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#af28de975853d866bf3ffa5d166ea803a">_style</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#af8f0e7b0408bcab530348c4ad9fbd46b">_cluster</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a3fb59d0b6b718263c6ba45e1ab3156c3">_merge</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1Symbology_1_1StringExpression.html">StringExpression</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a79ea8f86f535844b5684f39d1c936dec">_featureNameExpr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1LRUCache.html">MarkerCache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#aaba9bc3d9b848dfd129d075ba177e985">_markerCache</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classosgEarth_1_1Features_1_1Feature.html">Feature</a> filter that will substitute external nodes for feature geometry.</p>
<p>TODO:</p>
<ul>
<li>line sub (interval, density scattering)</li>
<li>polygon sub (interval, density scattering)</li>
<li>density-based scattering for points</li>
<li>clustering (optional) at various levels</li>
<li>proper <a class="el" href="structosgEarth_1_1ECEF.html">ECEF</a> normal computation per feature</li>
<li>terrain clamping of the localization point</li>
<li>automatic height offset based on minimum Z of model bbox</li>
<li>predicate based model selection (scripting)</li>
<li>instancing (maybe)</li>
<li>texture collection and sharing (session based) when clustering </li>
</ul>

<p>Definition at line <a class="el" href="SubstituteModelFilter_source.html#l00050">50</a> of file <a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="abdef028a77c9beb8f551c7c3cdcfc120"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::MarkerCache" ref="abdef028a77c9beb8f551c7c3cdcfc120" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classosgEarth_1_1LRUCache.html">LRUCache</a>&lt;<a class="el" href="classosgEarth_1_1URI.html">URI</a>, osg::ref_ptr&lt;<a class="el" href="classosgEarth_1_1Symbology_1_1MarkerResource.html">MarkerResource</a>&gt; &gt; <a class="el" href="classosgEarth_1_1LRUCache.html">osgEarth::Features::SubstituteModelFilter::MarkerCache</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SubstituteModelFilter_source.html#l00086">86</a> of file <a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4f3cd5c4fde90ba0c245271999fcabc9"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::SubstituteModelFilter" ref="a4f3cd5c4fde90ba0c245271999fcabc9" args="(const Style &amp;style=Style())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SubstituteModelFilter::SubstituteModelFilter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1Style.html">Style</a> &amp;&#160;</td>
          <td class="paramname"><em>style</em> = <code><a class="el" href="classosgEarth_1_1Style.html">Style</a>()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Construct a new sub-model filter that will operate on the given style </p>

<p>Definition at line <a class="el" href="SubstituteModelFilter_8cpp_source.html#l00047">47</a> of file <a class="el" href="SubstituteModelFilter_8cpp_source.html">SubstituteModelFilter.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                 :
<a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#af28de975853d866bf3ffa5d166ea803a">_style</a>   ( style ),
<a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#af8f0e7b0408bcab530348c4ad9fbd46b">_cluster</a> ( <span class="keyword">false</span> ),
<a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a3fb59d0b6b718263c6ba45e1ab3156c3">_merge</a>   ( <span class="keyword">true</span> )
{
    <span class="comment">//NOP</span>
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9b17793dcd1687837967f1408dbd5e9e"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::cluster" ref="a9b17793dcd1687837967f1408dbd5e9e" args="(const FeatureList &amp;features, const MarkerSymbol *symbol, Session *session, osg::Group *ap, FilterContext &amp;context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SubstituteModelFilter::cluster </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceosgEarth_1_1Features.html#a1e64d25cc48ef96694c4325b5c31f28b">FeatureList</a> &amp;&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html">MarkerSymbol</a> *&#160;</td>
          <td class="paramname"><em>symbol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1Features_1_1Session.html">Session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">osg::Group *&#160;</td>
          <td class="paramname"><em>ap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1Features_1_1FilterContext.html">FilterContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SubstituteModelFilter_8cpp_source.html#l00295">295</a> of file <a class="el" href="SubstituteModelFilter_8cpp_source.html">SubstituteModelFilter.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{    
    <a class="code" href="SubstituteModelFilter_8cpp.html#a99876178ed2b2525a15752b7f12786b9">MarkerToFeatures</a> markerToFeatures;

    <span class="comment">// first, sort the features into buckets, each bucket corresponding to a</span>
    <span class="comment">// unique marker.</span>
    <span class="keywordflow">for</span> (FeatureList::const_iterator i = features.begin(); i != features.end(); ++i)
    {
        <a class="code" href="classosgEarth_1_1Features_1_1Feature.html">Feature</a>* f = i-&gt;get();

        <span class="comment">// resolve the URI for the marker:</span>
        <a class="code" href="classosgEarth_1_1Symbology_1_1StringExpression.html">StringExpression</a> uriEx( *symbol-&gt;<a class="code" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html#a6c3110c547a922efcdf7ecd5b56f2c08">url</a>() );
        <a class="code" href="classosgEarth_1_1URI.html">URI</a> markerURI( f-&gt;<a class="code" href="classosgEarth_1_1Features_1_1Feature.html#a7e45df02c1660959d070d7f4603d4dcd">eval</a>( uriEx ), uriEx.uriContext() );

        <span class="comment">// find and load the corresponding marker model. We&#39;re using the session-level</span>
        <span class="comment">// object store to cache models. This is thread-safe sine we are always going</span>
        <span class="comment">// to CLONE the model before using it.</span>
        osg::Node* model = context.<a class="code" href="classosgEarth_1_1Features_1_1FilterContext.html#a5f1ea49d7f7b795d8b9e80989a439ba0">getSession</a>()-&gt;<a class="code" href="classosgEarth_1_1Features_1_1Session.html#a92a17d1e43f51001a86201aa3d462dbf">getObject</a>&lt;osg::Node&gt;( markerURI.full() );
        <span class="keywordflow">if</span> ( !model )
        {
            osg::ref_ptr&lt;MarkerResource&gt; mres = <span class="keyword">new</span> <a class="code" href="classosgEarth_1_1Symbology_1_1MarkerResource.html">MarkerResource</a>();
            mres-&gt;uri() = markerURI;
            model = mres-&gt;createNode();
            <span class="keywordflow">if</span> ( model )
            {
                context.<a class="code" href="classosgEarth_1_1Features_1_1FilterContext.html#a5f1ea49d7f7b795d8b9e80989a439ba0">getSession</a>()-&gt;<a class="code" href="classosgEarth_1_1Features_1_1Session.html#ad077e007f71f5423b6c2169089a65ad0">putObject</a>( markerURI.full(), model );
            }
        }

        <span class="keywordflow">if</span> ( model )
        {
            MarkerToFeatures::iterator itr = markerToFeatures.find( model );
            <span class="keywordflow">if</span> (itr == markerToFeatures.end())
                markerToFeatures[ model ].push_back( f );
            <span class="keywordflow">else</span>
                itr-&gt;second.push_back( f );
        }
    }

    <span class="comment">//For each model, cluster the features that use that marker</span>
    <span class="keywordflow">for</span> (MarkerToFeatures::iterator i = markerToFeatures.begin(); i != markerToFeatures.end(); ++i)
    {
        osg::Node* prototype = i-&gt;first;

        <span class="comment">// we&#39;re using the Session cache since we know we&#39;ll be cloning.</span>
        <span class="keywordflow">if</span> ( prototype )
        {
            osg::Node* clone = osg::clone( prototype, osg::CopyOp::DEEP_COPY_ALL );

            <span class="comment">// ..and apply the clustering to the copy.</span>
            <a class="code" href="structClusterVisitor.html">ClusterVisitor</a> cv( i-&gt;second, symbol, <span class="keyword">this</span>, context );
            clone-&gt;accept( cv );

            attachPoint-&gt;addChild( clone );
        }
    }

    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Features_1_1SubstituteModelFilter_a9b17793dcd1687837967f1408dbd5e9e_cgraph.png" border="0" usemap="#classosgEarth_1_1Features_1_1SubstituteModelFilter_a9b17793dcd1687837967f1408dbd5e9e_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Features_1_1SubstituteModelFilter_a9b17793dcd1687837967f1408dbd5e9e_cgraph" id="classosgEarth_1_1Features_1_1SubstituteModelFilter_a9b17793dcd1687837967f1408dbd5e9e_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Features_1_1Feature.html#a7e45df02c1660959d070d7f4603d4dcd" title="osgEarth::Features::Feature::eval" alt="" coords="403,85,619,115"/><area shape="rect" id="node15" href="classosgEarth_1_1Features_1_1Session.html#a92a17d1e43f51001a86201aa3d462dbf" title="osgEarth::Features::Session::getObject" alt="" coords="385,139,636,168"/><area shape="rect" id="node17" href="classosgEarth_1_1Features_1_1FilterContext.html#a5f1ea49d7f7b795d8b9e80989a439ba0" title="osgEarth::Features::FilterContext::getSession" alt="" coords="367,192,655,221"/><area shape="rect" id="node19" href="classosgEarth_1_1Features_1_1Session.html#ad077e007f71f5423b6c2169089a65ad0" title="osgEarth::Features::Session::putObject" alt="" coords="385,245,636,275"/><area shape="rect" id="node21" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html#a6c3110c547a922efcdf7ecd5b56f2c08" title="osgEarth::Symbology::MarkerSymbol::url" alt="" coords="380,299,641,328"/><area shape="rect" id="node5" href="classosgEarth_1_1Symbology_1_1NumericExpression.html#ae9486f987f30f98584fa2b554518ac72" title="osgEarth::Symbology::NumericExpression::eval" alt="" coords="719,5,1020,35"/><area shape="rect" id="node7" href="classosgEarth_1_1Features_1_1Feature.html#ac783fc569e3cd918592c3f10c0060b97" title="osgEarth::Features::Feature::getDouble" alt="" coords="744,59,995,88"/><area shape="rect" id="node11" href="classosgEarth_1_1Symbology_1_1NumericExpression.html#a22bc3d49dae8cde7b472c2d9cba7689c" title="osgEarth::Symbology::NumericExpression::set" alt="" coords="723,112,1016,141"/><area shape="rect" id="node13" href="classosgEarth_1_1Symbology_1_1NumericExpression.html#afa7d3a785487f743ce392268d92ef327" title="osgEarth::Symbology::NumericExpression::variables" alt="" coords="705,165,1033,195"/><area shape="rect" id="node9" href="namespaceosgEarth.html#a2c3b7223f6314c9d36e643c231f9123f" title="osgEarth::toLower" alt="" coords="1083,59,1211,88"/></map>
</div>
</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Features_1_1SubstituteModelFilter_a9b17793dcd1687837967f1408dbd5e9e_icgraph.png" border="0" usemap="#classosgEarth_1_1Features_1_1SubstituteModelFilter_a9b17793dcd1687837967f1408dbd5e9e_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Features_1_1SubstituteModelFilter_a9b17793dcd1687837967f1408dbd5e9e_icgraph" id="classosgEarth_1_1Features_1_1SubstituteModelFilter_a9b17793dcd1687837967f1408dbd5e9e_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a3bb5b23998ca820286075d027effe7dd" title="osgEarth::Features::SubstituteModelFilter::push" alt="" coords="367,5,665,35"/><area shape="rect" id="node5" href="classosgEarth_1_1Features_1_1GeometryCompiler.html#accc6d2f89d615bdb233ae2e9fbf058b2" title="osgEarth::Features::GeometryCompiler::compile" alt="" coords="716,5,1017,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad4fea88ac0aca30253fbd04706178298"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::getClustering" ref="ad4fea88ac0aca30253fbd04706178298" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool osgEarth::Features::SubstituteModelFilter::getClustering </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SubstituteModelFilter_source.html#l00062">62</a> of file <a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#af8f0e7b0408bcab530348c4ad9fbd46b">_cluster</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="a0c2856e0b247818fed3648dac1a1931d"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::getFeatureNameExpr" ref="a0c2856e0b247818fed3648dac1a1931d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classosgEarth_1_1Symbology_1_1StringExpression.html">StringExpression</a>&amp; osgEarth::Features::SubstituteModelFilter::getFeatureNameExpr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SubstituteModelFilter_source.html#l00073">73</a> of file <a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a79ea8f86f535844b5684f39d1c936dec">_featureNameExpr</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="a72004d9fb7a094d1eb486905ec9cce4c"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::getMergeGeometry" ref="a72004d9fb7a094d1eb486905ec9cce4c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool osgEarth::Features::SubstituteModelFilter::getMergeGeometry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SubstituteModelFilter_source.html#l00066">66</a> of file <a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a3fb59d0b6b718263c6ba45e1ab3156c3">_merge</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="acb2752193f3941a3fee7c1f15bd3b1ea"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::isSupported" ref="acb2752193f3941a3fee7c1f15bd3b1ea" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool osgEarth::Features::SubstituteModelFilter::isSupported </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SubstituteModelFilter_source.html#l00054">54</a> of file <a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }
</pre></div>
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Features_1_1SubstituteModelFilter_acb2752193f3941a3fee7c1f15bd3b1ea_icgraph.png" border="0" usemap="#classosgEarth_1_1Features_1_1SubstituteModelFilter_acb2752193f3941a3fee7c1f15bd3b1ea_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Features_1_1SubstituteModelFilter_acb2752193f3941a3fee7c1f15bd3b1ea_icgraph" id="classosgEarth_1_1Features_1_1SubstituteModelFilter_acb2752193f3941a3fee7c1f15bd3b1ea_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a3bb5b23998ca820286075d027effe7dd" title="osgEarth::Features::SubstituteModelFilter::push" alt="" coords="396,5,695,35"/><area shape="rect" id="node5" href="classosgEarth_1_1Features_1_1GeometryCompiler.html#accc6d2f89d615bdb233ae2e9fbf058b2" title="osgEarth::Features::GeometryCompiler::compile" alt="" coords="745,5,1047,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a791aa5e33fc6b7f2c7c3f5783f234434"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::process" ref="a791aa5e33fc6b7f2c7c3f5783f234434" args="(const FeatureList &amp;features, const MarkerSymbol *symbol, Session *session, osg::Group *ap, FilterContext &amp;context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SubstituteModelFilter::process </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceosgEarth_1_1Features.html#a1e64d25cc48ef96694c4325b5c31f28b">FeatureList</a> &amp;&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html">MarkerSymbol</a> *&#160;</td>
          <td class="paramname"><em>symbol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1Features_1_1Session.html">Session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">osg::Group *&#160;</td>
          <td class="paramname"><em>ap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1Features_1_1FilterContext.html">FilterContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SubstituteModelFilter_8cpp_source.html#l00056">56</a> of file <a class="el" href="SubstituteModelFilter_8cpp_source.html">SubstituteModelFilter.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> makeECEF = context.<a class="code" href="classosgEarth_1_1Features_1_1FilterContext.html#a5f1ea49d7f7b795d8b9e80989a439ba0">getSession</a>()-&gt;<a class="code" href="classosgEarth_1_1Features_1_1Session.html#a16e3a50dbb1d9dfb51181344a494ab42">getMapInfo</a>().<a class="code" href="classosgEarth_1_1MapInfo.html#a9f24d551976461e2c60a6ab32a1beda6">isGeocentric</a>();

    <span class="comment">// first, go through the features and build the model cache. Apply the model matrix&#39; scale</span>
    <span class="comment">// factor to any AutoTransforms directly (cloning them as necessary)</span>
    std::map&lt; std::pair&lt;URI, float&gt;, osg::ref_ptr&lt;osg::Node&gt; &gt; uniqueModels;
    <span class="comment">//std::map&lt; Feature*, osg::ref_ptr&lt;osg::Node&gt; &gt; featureModels;</span>

    <a class="code" href="classosgEarth_1_1Symbology_1_1StringExpression.html">StringExpression</a>  uriEx   = *symbol-&gt;<a class="code" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html#a6c3110c547a922efcdf7ecd5b56f2c08">url</a>();
    <a class="code" href="classosgEarth_1_1Symbology_1_1NumericExpression.html">NumericExpression</a> scaleEx = *symbol-&gt;<a class="code" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html#a7fa020c76d58bdf8ec17385424b7b824">scale</a>();

    <span class="keywordflow">for</span>( FeatureList::const_iterator f = features.begin(); f != features.end(); ++f )
    {
        <a class="code" href="classosgEarth_1_1Features_1_1Feature.html">Feature</a>* input = f-&gt;get();

        <span class="comment">// evaluate the marker URI expression:</span>
        <a class="code" href="classosgEarth_1_1Symbology_1_1StringExpression.html">StringExpression</a> uriEx = *symbol-&gt;<a class="code" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html#a6c3110c547a922efcdf7ecd5b56f2c08">url</a>();
        <a class="code" href="classosgEarth_1_1URI.html">URI</a> markerURI( input-&gt;<a class="code" href="classosgEarth_1_1Features_1_1Feature.html#a7e45df02c1660959d070d7f4603d4dcd">eval</a>(uriEx), uriEx.<a class="code" href="classosgEarth_1_1Symbology_1_1StringExpression.html#af4197144fe953fc8186cdb76e5fb569c">uriContext</a>() );

        <span class="comment">// find the corresponding marker in the cache</span>
        <a class="code" href="classosgEarth_1_1Symbology_1_1MarkerResource.html">MarkerResource</a>* marker = 0L;
        MarkerCache::Record rec = <a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#aaba9bc3d9b848dfd129d075ba177e985">_markerCache</a>.<a class="code" href="classosgEarth_1_1LRUCache.html#a5196e1e5ca726683b35ee426aba1848c">get</a>( markerURI );
        <span class="keywordflow">if</span> ( rec.valid() ) {
            marker = rec.value();
        }
        <span class="keywordflow">else</span> {
            marker = <span class="keyword">new</span> <a class="code" href="classosgEarth_1_1Symbology_1_1MarkerResource.html">MarkerResource</a>();
            marker-&gt;uri() = markerURI;
            <a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#aaba9bc3d9b848dfd129d075ba177e985">_markerCache</a>.<a class="code" href="classosgEarth_1_1LRUCache.html#a7285dd6fbcc47f81fba939f9ab2272bf">insert</a>( markerURI, marker );
        }

        <span class="comment">// evalute the scale expression (if there is one)</span>
        <span class="keywordtype">float</span> scale = 1.0f;
        osg::Matrixd scaleMatrix;

        <span class="keywordflow">if</span> ( symbol-&gt;<a class="code" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html#a7fa020c76d58bdf8ec17385424b7b824">scale</a>().<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() )
        {
            scale = input-&gt;<a class="code" href="classosgEarth_1_1Features_1_1Feature.html#a7e45df02c1660959d070d7f4603d4dcd">eval</a>( scaleEx );
            <span class="keywordflow">if</span> ( scale == 0.0 )
                scale = 1.0;
            scaleMatrix = osg::Matrix::scale( scale, scale, scale );
        }

        <span class="comment">// how that we have a marker source, create a node for it</span>
        std::pair&lt;URI,float&gt; key( markerURI, scale );
        osg::ref_ptr&lt;osg::Node&gt;&amp; model = uniqueModels[key];
        <span class="keywordflow">if</span> ( !model.valid() )
        {
            model = context.<a class="code" href="classosgEarth_1_1Features_1_1FilterContext.html#af3170500bfbc5939c29c1d4eaf1adb6d">resourceCache</a>()-&gt;<a class="code" href="classosgEarth_1_1Symbology_1_1ResourceCache.html#a611bcfbba008c62836d878267b337fce">getMarkerNode</a>( marker );

            <span class="keywordflow">if</span> ( scale != 1.0f &amp;&amp; dynamic_cast&lt;osg::AutoTransform*&gt;( model.get() ) )
            {
                <span class="comment">// clone the old AutoTransform, set the new scale, and copy over its children.</span>
                osg::AutoTransform* oldAT = <span class="keyword">dynamic_cast&lt;</span>osg::AutoTransform*<span class="keyword">&gt;</span>(model.get());
                osg::AutoTransform* newAT = osg::clone( oldAT );

                <span class="comment">// make a scaler and put it between the new AutoTransform and its kids</span>
                osg::MatrixTransform* scaler = <span class="keyword">new</span> osg::MatrixTransform(osg::Matrix::scale(scale,scale,scale));
                <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i=0; i&lt;newAT-&gt;getNumChildren(); ++i )
                    scaler-&gt;addChild( newAT-&gt;getChild(0) );
                newAT-&gt;removeChildren(0, newAT-&gt;getNumChildren());
                newAT-&gt;addChild( scaler );
                model = newAT;
            }
        }

        <span class="keywordflow">if</span> ( model.valid() )
        {
            <a class="code" href="classosgEarth_1_1Symbology_1_1GeometryIterator.html">GeometryIterator</a> gi( input-&gt;<a class="code" href="classosgEarth_1_1Features_1_1Feature.html#a2027c4708491dc48da4091b0ab7e8c57">getGeometry</a>(), false );
            <span class="keywordflow">while</span>( gi.hasMore() )
            {
                <a class="code" href="classosgEarth_1_1Symbology_1_1Geometry.html">Geometry</a>* geom = gi.next();

                <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i=0; i&lt;geom-&gt;<a class="code" href="classosgEarth_1_1MixinVector.html#a29d1318457f75e1e0841d7e20f61dadb">size</a>(); ++i )
                {
                    osg::Matrixd mat;

                    osg::Vec3d point = (*geom)[i];
                    <span class="keywordflow">if</span> ( makeECEF )
                    {
                        <span class="comment">// the &quot;rotation&quot; element lets us re-orient the instance to ensure it&#39;s pointing up. We</span>
                        <span class="comment">// could take a shortcut and just use the current extent&#39;s local2world matrix for this,</span>
                        <span class="comment">// but if the tile is big enough the up vectors won&#39;t be quite right.</span>
                        osg::Matrixd rotation;
                        <a class="code" href="structosgEarth_1_1ECEF.html#aa47e6fe7e3cd1d2fecb75833daf4ebf9">ECEF::transformAndGetRotationMatrix</a>( context.<a class="code" href="classosgEarth_1_1Features_1_1FilterContext.html#a6fdc74d6944a655fd8fe8e5ff298af57">profile</a>()-&gt;<a class="code" href="classosgEarth_1_1Features_1_1FeatureProfile.html#a7f2cf88a25569de112c7c929555e3943">getSRS</a>(), point, point, rotation );
                        mat = rotation * scaleMatrix * osg::Matrixd::translate( point ) * <a class="code" href="classosgEarth_1_1Features_1_1FeaturesToNodeFilter.html#a2b248d164548eba35fb7838d3a2f0628">_world2local</a>;
                    }
                    <span class="keywordflow">else</span>
                    {
                        mat = scaleMatrix * osg::Matrixd::translate( point ) * <a class="code" href="classosgEarth_1_1Features_1_1FeaturesToNodeFilter.html#a2b248d164548eba35fb7838d3a2f0628">_world2local</a>;
                    }

                    osg::MatrixTransform* xform = <span class="keyword">new</span> osg::MatrixTransform();
                    xform-&gt;setMatrix( mat );

                    xform-&gt;addChild( model.get() );

                    attachPoint-&gt;addChild( xform );

                    <span class="comment">// name the feature if necessary</span>
                    <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a79ea8f86f535844b5684f39d1c936dec">_featureNameExpr</a>.<a class="code" href="classosgEarth_1_1Symbology_1_1StringExpression.html#aa253aa353b31276d50c0001427ffd88b">empty</a>() )
                    {
                        <span class="keyword">const</span> std::string&amp; name = input-&gt;<a class="code" href="classosgEarth_1_1Features_1_1Feature.html#a7e45df02c1660959d070d7f4603d4dcd">eval</a>( <a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a79ea8f86f535844b5684f39d1c936dec">_featureNameExpr</a> );
                        <span class="keywordflow">if</span> ( !name.empty() )
                            xform-&gt;setName( name );
                    }
                }
            }
        }
    }

    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Features_1_1SubstituteModelFilter_a791aa5e33fc6b7f2c7c3f5783f234434_cgraph.png" border="0" usemap="#classosgEarth_1_1Features_1_1SubstituteModelFilter_a791aa5e33fc6b7f2c7c3f5783f234434_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Features_1_1SubstituteModelFilter_a791aa5e33fc6b7f2c7c3f5783f234434_cgraph" id="classosgEarth_1_1Features_1_1SubstituteModelFilter_a791aa5e33fc6b7f2c7c3f5783f234434_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Symbology_1_1StringExpression.html#aa253aa353b31276d50c0001427ffd88b" title="osgEarth::Symbology::StringExpression::empty" alt="" coords="397,32,696,61"/><area shape="rect" id="node5" href="classosgEarth_1_1Features_1_1Feature.html#a7e45df02c1660959d070d7f4603d4dcd" title="osgEarth::Features::Feature::eval" alt="" coords="439,85,655,115"/><area shape="rect" id="node17" href="classosgEarth_1_1LRUCache.html#a5196e1e5ca726683b35ee426aba1848c" title="osgEarth::LRUCache::get" alt="" coords="460,139,633,168"/><area shape="rect" id="node19" href="classosgEarth_1_1Features_1_1Feature.html#a2027c4708491dc48da4091b0ab7e8c57" title="osgEarth::Features::Feature::getGeometry" alt="" coords="413,192,680,221"/><area shape="rect" id="node21" href="classosgEarth_1_1Features_1_1Session.html#a16e3a50dbb1d9dfb51181344a494ab42" title="osgEarth::Features::Session::getMapInfo" alt="" coords="416,245,677,275"/><area shape="rect" id="node23" href="classosgEarth_1_1Symbology_1_1ResourceCache.html#a611bcfbba008c62836d878267b337fce" title="osgEarth::Symbology::ResourceCache::getMarkerNode" alt="" coords="373,299,720,328"/><area shape="rect" id="node41" href="classosgEarth_1_1Features_1_1FilterContext.html#a5f1ea49d7f7b795d8b9e80989a439ba0" title="osgEarth::Features::FilterContext::getSession" alt="" coords="403,352,691,381"/><area shape="rect" id="node43" href="classosgEarth_1_1Features_1_1FeatureProfile.html#a7f2cf88a25569de112c7c929555e3943" title="osgEarth::Features::FeatureProfile::getSRS" alt="" coords="409,405,684,435"/><area shape="rect" id="node45" href="classosgEarth_1_1LRUCache.html#a7285dd6fbcc47f81fba939f9ab2272bf" title="osgEarth::LRUCache::insert" alt="" coords="453,459,640,488"/><area shape="rect" id="node47" href="classosgEarth_1_1MapInfo.html#a9f24d551976461e2c60a6ab32a1beda6" title="osgEarth::MapInfo::isGeocentric" alt="" coords="441,512,652,541"/><area shape="rect" id="node49" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="464,565,629,595"/><area shape="rect" id="node51" href="classosgEarth_1_1Features_1_1FilterContext.html#a6fdc74d6944a655fd8fe8e5ff298af57" title="osgEarth::Features::FilterContext::profile" alt="" coords="417,619,676,648"/><area shape="rect" id="node53" href="classosgEarth_1_1Features_1_1FilterContext.html#af3170500bfbc5939c29c1d4eaf1adb6d" title="osgEarth::Features::FilterContext::resourceCache" alt="" coords="391,672,703,701"/><area shape="rect" id="node55" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html#a7fa020c76d58bdf8ec17385424b7b824" title="osgEarth::Symbology::MarkerSymbol::scale" alt="" coords="408,725,685,755"/><area shape="rect" id="node57" href="classosgEarth_1_1MixinVector.html#a29d1318457f75e1e0841d7e20f61dadb" title="osgEarth::MixinVector::size" alt="" coords="456,779,637,808"/><area shape="rect" id="node59" href="structosgEarth_1_1ECEF.html#aa47e6fe7e3cd1d2fecb75833daf4ebf9" title="osgEarth::ECEF::transformAndGetRotationMatrix" alt="" coords="392,832,701,861"/><area shape="rect" id="node112" href="classosgEarth_1_1Symbology_1_1StringExpression.html#af4197144fe953fc8186cdb76e5fb569c" title="osgEarth::Symbology::StringExpression::uriContext" alt="" coords="385,885,708,915"/><area shape="rect" id="node114" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html#a6c3110c547a922efcdf7ecd5b56f2c08" title="osgEarth::Symbology::MarkerSymbol::url" alt="" coords="416,939,677,968"/><area shape="rect" id="node7" href="classosgEarth_1_1Symbology_1_1NumericExpression.html#ae9486f987f30f98584fa2b554518ac72" title="osgEarth::Symbology::NumericExpression::eval" alt="" coords="783,59,1084,88"/><area shape="rect" id="node9" href="classosgEarth_1_1Features_1_1Feature.html#ac783fc569e3cd918592c3f10c0060b97" title="osgEarth::Features::Feature::getDouble" alt="" coords="808,112,1059,141"/><area shape="rect" id="node13" href="classosgEarth_1_1Symbology_1_1NumericExpression.html#a22bc3d49dae8cde7b472c2d9cba7689c" title="osgEarth::Symbology::NumericExpression::set" alt="" coords="787,165,1080,195"/><area shape="rect" id="node15" href="classosgEarth_1_1Symbology_1_1NumericExpression.html#afa7d3a785487f743ce392268d92ef327" title="osgEarth::Symbology::NumericExpression::variables" alt="" coords="769,5,1097,35"/><area shape="rect" id="node11" href="namespaceosgEarth.html#a2c3b7223f6314c9d36e643c231f9123f" title="osgEarth::toLower" alt="" coords="1273,112,1401,141"/><area shape="rect" id="node25" href="classosgEarth_1_1Symbology_1_1MarkerResource.html#a76c8e3d17ab6ec1371a30c5c720b5473" title="osgEarth::Symbology::MarkerResource::createNode" alt="" coords="771,299,1096,328"/><area shape="rect" id="node27" href="classosgEarth_1_1Symbology_1_1MarkerResource.html#ace29f34ef33bc7f3c465f525bd45fcbb" title="osgEarth::Symbology::MarkerResource::createNodeFromURI" alt="" coords="1148,272,1527,301"/><area shape="rect" id="node39" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820" title="osgEarth::optional::value" alt="" coords="1255,325,1420,355"/><area shape="rect" id="node29" href="namespaceanonymous__namespace_02MarkerResource_8cpp_03.html#a3d80957b5b3e266a88ae85aa8298926c" title="anonymous_namespace\{MarkerResource::cpp\}::buildImageModel" alt="" coords="1576,245,1979,275"/><area shape="rect" id="node31" href="classosgEarth_1_1URI.html#a7b27f5638462b4d4f04ab247dc8b3f23" title="osgEarth::URI::readObject" alt="" coords="1689,299,1865,328"/><area shape="rect" id="node33" href="classosgEarth_1_1URI.html#a5a8a192b31bcb4a26713b9c401934447" title="osgEarth::URI::empty" alt="" coords="2097,245,2247,275"/><area shape="rect" id="node35" href="namespaceanonymous__namespace_02URI_8cpp_03.html#af94b88251c2132b2876a3b84104d8bd1" title="anonymous_namespace\{URI::cpp\}::fixOptions" alt="" coords="2027,299,2317,328"/><area shape="rect" id="node37" href="classosgEarth_1_1HTTPClient.html#a6ab976b5c719feb5dfd0a7ff15e3d56d" title="osgEarth::HTTPClient::readObjectFile" alt="" coords="2051,352,2293,381"/><area shape="rect" id="node61" href="classosgEarth_1_1SpatialReference.html#ad7d6ef0605664b77e8348df5324ea32f" title="osgEarth::SpatialReference::getEllipsoid" alt="" coords="3027,696,3283,725"/><area shape="rect" id="node69" href="classosgEarth_1_1SpatialReference.html#a42fc6ea305be6b94340bf300d7b67dbe" title="osgEarth::SpatialReference::getGeographicSRS" alt="" coords="783,1029,1084,1059"/><area shape="rect" id="node74" href="classosgEarth_1_1SpatialReference.html#a28d916a87ed2653a5763bf8777cd9cbf" title="osgEarth::SpatialReference::transform" alt="" coords="1655,1029,1900,1059"/><area shape="rect" id="node85" href="classosgEarth_1_1SpatialReference.html#adfb00834f8d96146b119add7ec2c93a3" title="osgEarth::SpatialReference::isGeographic" alt="" coords="3021,876,3288,905"/><area shape="rect" id="node63" href="classosgEarth_1_1SpatialReference.html#ad4674227fe46613b3f5821109a509714" title="osgEarth::SpatialReference::init" alt="" coords="3337,1164,3543,1193"/><area shape="rect" id="node65" href="classosgEarth_1_1SpatialReference.html#ae8cda9f2cf24a92d09c58462c5fbd5e8" title="osgEarth::SpatialReference::_init" alt="" coords="3593,1164,3807,1193"/><area shape="rect" id="node67" href="namespaceanonymous__namespace_02SpatialReference_8cpp_03.html#a2d59d21c23228cfce0a56b2174727ee9" title="anonymous_namespace\{SpatialReference::cpp\}::getOGRAttrValue" alt="" coords="3856,1164,4267,1193"/><area shape="rect" id="node72" href="classosgEarth_1_1SpatialReference.html#ae27903c7c477c9f22b68ee71415888bf" title="osgEarth::SpatialReference::SpatialReference" alt="" coords="1192,1029,1483,1059"/><area shape="rect" id="node77" href="classosgEarth_1_1SpatialReference.html#a398407559e7c170fc44cde6842511548" title="osgEarth::SpatialReference::isEquivalentTo" alt="" coords="2367,851,2641,880"/><area shape="rect" id="node92" href="classosgEarth_1_1SpatialReference.html#a3c3d798015a48c93c5063182ac177688" title="osgEarth::SpatialReference::transformPoints" alt="" coords="2031,1061,2313,1091"/><area shape="rect" id="node79" href="classosgEarth_1_1SpatialReference.html#afe559cd555e232b45109fbce72742b02" title="osgEarth::SpatialReference::_isEquivalentTo" alt="" coords="2691,851,2973,880"/><area shape="rect" id="node82" href="classosgEarth_1_1SpatialReference.html#a62d6dc2c358aaeeba591954de0475333" title="osgEarth::SpatialReference::getWKT" alt="" coords="3036,1111,3273,1140"/><area shape="rect" id="node88" href="classosgEarth_1_1SpatialReference.html#a7b198b8e4dc79a8c4e04cee6b73c85c4" title="osgEarth::SpatialReference::isMercator" alt="" coords="3029,1164,3280,1193"/><area shape="rect" id="node94" href="SpatialReference_8cpp.html#a253ee9380896291f2aec77e4868d994c" title="geographicToMercator" alt="" coords="2429,1317,2579,1347"/><area shape="rect" id="node96" href="classosgEarth_1_1SpatialReference.html#a2e11d757cd795a81173912054fbb83c9" title="osgEarth::SpatialReference::getName" alt="" coords="2711,1216,2953,1245"/><area shape="rect" id="node104" href="SpatialReference_8cpp.html#a047d2c7e4580672483d0926a8f694e7e" title="mercatorToGeographic" alt="" coords="2427,955,2581,984"/><area shape="rect" id="node106" href="classosgEarth_1_1SpatialReference.html#a1f6be4de7c26f8dd31504f10b21d68be" title="osgEarth::SpatialReference::postTransform" alt="" coords="2367,1008,2641,1037"/><area shape="rect" id="node108" href="classosgEarth_1_1SpatialReference.html#a9ce72de8ce6def17df6239a136dedb5d" title="osgEarth::SpatialReference::preTransform" alt="" coords="2371,1061,2637,1091"/></map>
</div>
</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Features_1_1SubstituteModelFilter_a791aa5e33fc6b7f2c7c3f5783f234434_icgraph.png" border="0" usemap="#classosgEarth_1_1Features_1_1SubstituteModelFilter_a791aa5e33fc6b7f2c7c3f5783f234434_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Features_1_1SubstituteModelFilter_a791aa5e33fc6b7f2c7c3f5783f234434_icgraph" id="classosgEarth_1_1Features_1_1SubstituteModelFilter_a791aa5e33fc6b7f2c7c3f5783f234434_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a3bb5b23998ca820286075d027effe7dd" title="osgEarth::Features::SubstituteModelFilter::push" alt="" coords="375,5,673,35"/><area shape="rect" id="node5" href="classosgEarth_1_1Features_1_1GeometryCompiler.html#accc6d2f89d615bdb233ae2e9fbf058b2" title="osgEarth::Features::GeometryCompiler::compile" alt="" coords="724,5,1025,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3bb5b23998ca820286075d027effe7dd"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::push" ref="a3bb5b23998ca820286075d027effe7dd" args="(FeatureList &amp;input, FilterContext &amp;context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::Node * SubstituteModelFilter::push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceosgEarth_1_1Features.html#a1e64d25cc48ef96694c4325b5c31f28b">FeatureList</a> &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1Features_1_1FilterContext.html">FilterContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Processes a new feature list </p>

<p>Implements <a class="el" href="classosgEarth_1_1Features_1_1FeaturesToNodeFilter.html#ae001982174ffb73e0796412cc25fe5a9">osgEarth::Features::FeaturesToNodeFilter</a>.</p>

<p>Definition at line <a class="el" href="SubstituteModelFilter_8cpp_source.html#l00360">360</a> of file <a class="el" href="SubstituteModelFilter_8cpp_source.html">SubstituteModelFilter.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#acb2752193f3941a3fee7c1f15bd3b1ea">isSupported</a>() ) {
        <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <span class="stringliteral">&quot;SubstituteModelFilter support not enabled&quot;</span> &lt;&lt; std::endl;
        <span class="keywordflow">return</span> 0L;
    }

    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#af28de975853d866bf3ffa5d166ea803a">_style</a>.empty() ) {
        <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <a class="code" href="SubstituteModelFilter_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Empty style; cannot process features&quot;</span> &lt;&lt; std::endl;
        <span class="keywordflow">return</span> 0L;
    }

    <span class="keyword">const</span> <a class="code" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html">MarkerSymbol</a>* symbol = <a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#af28de975853d866bf3ffa5d166ea803a">_style</a>.getSymbol&lt;<a class="code" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html">MarkerSymbol</a>&gt;();
    <span class="keywordflow">if</span> ( !symbol ) {
        <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <a class="code" href="SubstituteModelFilter_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;No MarkerSymbol found in style; cannot process feautres&quot;</span> &lt;&lt; std::endl;
        <span class="keywordflow">return</span> 0L;
    }

    <a class="code" href="classosgEarth_1_1Features_1_1FilterContext.html">FilterContext</a> newContext( context );

    <a class="code" href="classosgEarth_1_1Features_1_1FeaturesToNodeFilter.html#a3299ee14b364b5923e36c022f193f362">computeLocalizers</a>( context );

    osg::Group* group = <a class="code" href="classosgEarth_1_1Features_1_1FeaturesToNodeFilter.html#aa88995f30f9b20bf2fb443c5dfd45367">createDelocalizeGroup</a>();

    <span class="keywordtype">bool</span> ok = <span class="keyword">true</span>;

    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#af8f0e7b0408bcab530348c4ad9fbd46b">_cluster</a> )
    {
        ok = <a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a9b17793dcd1687837967f1408dbd5e9e">cluster</a>( features, symbol, context.<a class="code" href="classosgEarth_1_1Features_1_1FilterContext.html#a5f1ea49d7f7b795d8b9e80989a439ba0">getSession</a>(), group, newContext );
    }

    <span class="keywordflow">else</span>
    {
        <a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a791aa5e33fc6b7f2c7c3f5783f234434">process</a>( features, symbol, context.<a class="code" href="classosgEarth_1_1Features_1_1FilterContext.html#a5f1ea49d7f7b795d8b9e80989a439ba0">getSession</a>(), group, newContext );

<span class="preprocessor">#if 0</span>
<span class="preprocessor"></span>        <span class="comment">// speeds things up a bit, at the expense of creating tons of geometry..</span>

        <span class="comment">// this optimizer pass will remove all the MatrixTransform nodes that we</span>
        <span class="comment">// used to offset each instance</span>
        osgUtil::Optimizer optimizer;
        optimizer.optimize( group, osgUtil::Optimizer::FLATTEN_STATIC_TRANSFORMS_DUPLICATING_SHARED_SUBGRAPHS );
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
    }

    <span class="keywordflow">return</span> group;
}
</pre></div>
<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Features_1_1SubstituteModelFilter_a3bb5b23998ca820286075d027effe7dd_cgraph.png" border="0" usemap="#classosgEarth_1_1Features_1_1SubstituteModelFilter_a3bb5b23998ca820286075d027effe7dd_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Features_1_1SubstituteModelFilter_a3bb5b23998ca820286075d027effe7dd_cgraph" id="classosgEarth_1_1Features_1_1SubstituteModelFilter_a3bb5b23998ca820286075d027effe7dd_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a9b17793dcd1687837967f1408dbd5e9e" title="osgEarth::Features::SubstituteModelFilter::cluster" alt="" coords="404,139,713,168"/><area shape="rect" id="node19" href="classosgEarth_1_1Features_1_1FilterContext.html#a5f1ea49d7f7b795d8b9e80989a439ba0" title="osgEarth::Features::FilterContext::getSession" alt="" coords="840,165,1128,195"/><area shape="rect" id="node25" href="classosgEarth_1_1Features_1_1FeaturesToNodeFilter.html#a3299ee14b364b5923e36c022f193f362" title="osgEarth::Features::FeaturesToNodeFilter::computeLocalizers" alt="" coords="367,507,751,536"/><area shape="rect" id="node78" href="classosgEarth_1_1Features_1_1FeaturesToNodeFilter.html#aa88995f30f9b20bf2fb443c5dfd45367" title="osgEarth::Features::FeaturesToNodeFilter::createDelocalizeGroup" alt="" coords="356,853,761,883"/><area shape="rect" id="node81" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#acb2752193f3941a3fee7c1f15bd3b1ea" title="osgEarth::Features::SubstituteModelFilter::isSupported" alt="" coords="388,907,729,936"/><area shape="rect" id="node83" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a791aa5e33fc6b7f2c7c3f5783f234434" title="osgEarth::Features::SubstituteModelFilter::process" alt="" coords="400,800,717,829"/><area shape="rect" id="node5" href="classosgEarth_1_1Features_1_1Feature.html#a7e45df02c1660959d070d7f4603d4dcd" title="osgEarth::Features::Feature::eval" alt="" coords="876,112,1092,141"/><area shape="rect" id="node17" href="classosgEarth_1_1Features_1_1Session.html#a92a17d1e43f51001a86201aa3d462dbf" title="osgEarth::Features::Session::getObject" alt="" coords="859,5,1109,35"/><area shape="rect" id="node21" href="classosgEarth_1_1Features_1_1Session.html#ad077e007f71f5423b6c2169089a65ad0" title="osgEarth::Features::Session::putObject" alt="" coords="859,59,1109,88"/><area shape="rect" id="node23" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html#a6c3110c547a922efcdf7ecd5b56f2c08" title="osgEarth::Symbology::MarkerSymbol::url" alt="" coords="853,323,1115,352"/><area shape="rect" id="node7" href="classosgEarth_1_1Symbology_1_1NumericExpression.html#ae9486f987f30f98584fa2b554518ac72" title="osgEarth::Symbology::NumericExpression::eval" alt="" coords="1220,112,1521,141"/><area shape="rect" id="node9" href="classosgEarth_1_1Features_1_1Feature.html#ac783fc569e3cd918592c3f10c0060b97" title="osgEarth::Features::Feature::getDouble" alt="" coords="1245,165,1496,195"/><area shape="rect" id="node13" href="classosgEarth_1_1Symbology_1_1NumericExpression.html#a22bc3d49dae8cde7b472c2d9cba7689c" title="osgEarth::Symbology::NumericExpression::set" alt="" coords="1224,5,1517,35"/><area shape="rect" id="node15" href="classosgEarth_1_1Symbology_1_1NumericExpression.html#afa7d3a785487f743ce392268d92ef327" title="osgEarth::Symbology::NumericExpression::variables" alt="" coords="1207,59,1535,88"/><area shape="rect" id="node11" href="namespaceosgEarth.html#a2c3b7223f6314c9d36e643c231f9123f" title="osgEarth::toLower" alt="" coords="1711,165,1839,195"/><area shape="rect" id="node27" href="structosgEarth_1_1ECEF.html#aa713ad5f953de0758644dcab8ed4ab26" title="osgEarth::ECEF::createInverseRefFrame" alt="" coords="853,376,1115,405"/><area shape="rect" id="node29" href="classosgEarth_1_1Features_1_1FilterContext.html#aae6d21359f35d760bd54982facab7a4a" title="osgEarth::Features::FilterContext::extent" alt="" coords="855,480,1113,509"/><area shape="rect" id="node31" href="classosgEarth_1_1GeoExtent.html#a998688871072aa060b330f1ce1646729" title="osgEarth::GeoExtent::getCentroid" alt="" coords="875,269,1093,299"/><area shape="rect" id="node35" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="1280,219,1461,248"/><area shape="rect" id="node39" href="classosgEarth_1_1SpatialReference.html#a42fc6ea305be6b94340bf300d7b67dbe" title="osgEarth::SpatialReference::getGeographicSRS" alt="" coords="1220,487,1521,516"/><area shape="rect" id="node60" href="classosgEarth_1_1Features_1_1Session.html#a16e3a50dbb1d9dfb51181344a494ab42" title="osgEarth::Features::Session::getMapInfo" alt="" coords="853,693,1115,723"/><area shape="rect" id="node63" href="classosgEarth_1_1Features_1_1FeatureProfile.html#a7f2cf88a25569de112c7c929555e3943" title="osgEarth::Features::FeatureProfile::getSRS" alt="" coords="847,747,1121,776"/><area shape="rect" id="node65" href="classosgEarth_1_1MapInfo.html#a9f24d551976461e2c60a6ab32a1beda6" title="osgEarth::MapInfo::isGeocentric" alt="" coords="879,587,1089,616"/><area shape="rect" id="node67" href="classosgEarth_1_1Features_1_1FilterContext.html#a6fdc74d6944a655fd8fe8e5ff298af57" title="osgEarth::Features::FilterContext::profile" alt="" coords="855,640,1113,669"/><area shape="rect" id="node69" href="classosgEarth_1_1SpatialReference.html#a77dde94811403c9f700ebe98b4702c96" title="osgEarth::SpatialReference::transformToECEF" alt="" coords="836,533,1132,563"/><area shape="rect" id="node33" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="1277,272,1464,301"/><area shape="rect" id="node37" href="classosgEarth_1_1GeoExtent.html#a744d26309f6eddfd74b72a01c159dc79" title="osgEarth::GeoExtent::crossesDateLine" alt="" coords="1649,219,1900,248"/><area shape="rect" id="node41" href="classosgEarth_1_1SpatialReference.html#ad4674227fe46613b3f5821109a509714" title="osgEarth::SpatialReference::init" alt="" coords="2964,564,3169,593"/><area shape="rect" id="node45" href="classosgEarth_1_1SpatialReference.html#ae27903c7c477c9f22b68ee71415888bf" title="osgEarth::SpatialReference::SpatialReference" alt="" coords="1629,487,1920,516"/><area shape="rect" id="node43" href="classosgEarth_1_1SpatialReference.html#ae8cda9f2cf24a92d09c58462c5fbd5e8" title="osgEarth::SpatialReference::_init" alt="" coords="3220,564,3433,593"/><area shape="rect" id="node47" href="classosgEarth_1_1SpatialReference.html#a28d916a87ed2653a5763bf8777cd9cbf" title="osgEarth::SpatialReference::transform" alt="" coords="2013,537,2259,567"/><area shape="rect" id="node50" href="classosgEarth_1_1SpatialReference.html#a398407559e7c170fc44cde6842511548" title="osgEarth::SpatialReference::isEquivalentTo" alt="" coords="2639,537,2913,567"/><area shape="rect" id="node53" href="classosgEarth_1_1SpatialReference.html#a3c3d798015a48c93c5063182ac177688" title="osgEarth::SpatialReference::transformPoints" alt="" coords="2307,588,2589,617"/><area shape="rect" id="node57" href="classosgEarth_1_1SpatialReference.html#adfb00834f8d96146b119add7ec2c93a3" title="osgEarth::SpatialReference::isGeographic" alt="" coords="2643,641,2909,671"/><area shape="rect" id="node71" href="classosgEarth_1_1SpatialReference.html#ad7d6ef0605664b77e8348df5324ea32f" title="osgEarth::SpatialReference::getEllipsoid" alt="" coords="1243,697,1499,727"/><area shape="rect" id="node85" href="classosgEarth_1_1Symbology_1_1StringExpression.html#aa253aa353b31276d50c0001427ffd88b" title="osgEarth::Symbology::StringExpression::empty" alt="" coords="835,1280,1133,1309"/><area shape="rect" id="node88" href="classosgEarth_1_1LRUCache.html#a5196e1e5ca726683b35ee426aba1848c" title="osgEarth::LRUCache::get" alt="" coords="897,1333,1071,1363"/><area shape="rect" id="node90" href="classosgEarth_1_1Features_1_1Feature.html#a2027c4708491dc48da4091b0ab7e8c57" title="osgEarth::Features::Feature::getGeometry" alt="" coords="851,853,1117,883"/><area shape="rect" id="node93" href="classosgEarth_1_1Symbology_1_1ResourceCache.html#a611bcfbba008c62836d878267b337fce" title="osgEarth::Symbology::ResourceCache::getMarkerNode" alt="" coords="811,1227,1157,1256"/><area shape="rect" id="node103" href="classosgEarth_1_1LRUCache.html#a7285dd6fbcc47f81fba939f9ab2272bf" title="osgEarth::LRUCache::insert" alt="" coords="891,907,1077,936"/><area shape="rect" id="node106" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="901,960,1067,989"/><area shape="rect" id="node109" href="classosgEarth_1_1Features_1_1FilterContext.html#af3170500bfbc5939c29c1d4eaf1adb6d" title="osgEarth::Features::FilterContext::resourceCache" alt="" coords="828,1013,1140,1043"/><area shape="rect" id="node111" href="classosgEarth_1_1Symbology_1_1MarkerSymbol.html#a7fa020c76d58bdf8ec17385424b7b824" title="osgEarth::Symbology::MarkerSymbol::scale" alt="" coords="845,1067,1123,1096"/><area shape="rect" id="node113" href="classosgEarth_1_1MixinVector.html#a29d1318457f75e1e0841d7e20f61dadb" title="osgEarth::MixinVector::size" alt="" coords="893,1120,1075,1149"/><area shape="rect" id="node115" href="structosgEarth_1_1ECEF.html#aa47e6fe7e3cd1d2fecb75833daf4ebf9" title="osgEarth::ECEF::transformAndGetRotationMatrix" alt="" coords="829,800,1139,829"/><area shape="rect" id="node121" href="classosgEarth_1_1Symbology_1_1StringExpression.html#af4197144fe953fc8186cdb76e5fb569c" title="osgEarth::Symbology::StringExpression::uriContext" alt="" coords="823,1173,1145,1203"/><area shape="rect" id="node95" href="classosgEarth_1_1Symbology_1_1MarkerResource.html#a76c8e3d17ab6ec1371a30c5c720b5473" title="osgEarth::Symbology::MarkerResource::createNode" alt="" coords="1208,1227,1533,1256"/><area shape="rect" id="node97" href="classosgEarth_1_1Symbology_1_1MarkerResource.html#ace29f34ef33bc7f3c465f525bd45fcbb" title="osgEarth::Symbology::MarkerResource::createNodeFromURI" alt="" coords="1585,1200,1964,1229"/><area shape="rect" id="node99" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820" title="osgEarth::optional::value" alt="" coords="1692,1253,1857,1283"/></map>
</div>
</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Features_1_1SubstituteModelFilter_a3bb5b23998ca820286075d027effe7dd_icgraph.png" border="0" usemap="#classosgEarth_1_1Features_1_1SubstituteModelFilter_a3bb5b23998ca820286075d027effe7dd_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Features_1_1SubstituteModelFilter_a3bb5b23998ca820286075d027effe7dd_icgraph" id="classosgEarth_1_1Features_1_1SubstituteModelFilter_a3bb5b23998ca820286075d027effe7dd_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Features_1_1GeometryCompiler.html#accc6d2f89d615bdb233ae2e9fbf058b2" title="osgEarth::Features::GeometryCompiler::compile" alt="" coords="356,5,657,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa1af9ec1145ca8322c7712d354b3b735"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::setClustering" ref="aa1af9ec1145ca8322c7712d354b3b735" args="(bool value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osgEarth::Features::SubstituteModelFilter::setClustering </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Whether to cluster all the model instances into a single geode. Default is false. </p>

<p>Definition at line <a class="el" href="SubstituteModelFilter_source.html#l00061">61</a> of file <a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a>.</p>
<div class="fragment"><pre class="fragment">{ <a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#af8f0e7b0408bcab530348c4ad9fbd46b">_cluster</a> = value; }
</pre></div>
<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Features_1_1SubstituteModelFilter_aa1af9ec1145ca8322c7712d354b3b735_icgraph.png" border="0" usemap="#classosgEarth_1_1Features_1_1SubstituteModelFilter_aa1af9ec1145ca8322c7712d354b3b735_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Features_1_1SubstituteModelFilter_aa1af9ec1145ca8322c7712d354b3b735_icgraph" id="classosgEarth_1_1Features_1_1SubstituteModelFilter_aa1af9ec1145ca8322c7712d354b3b735_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Features_1_1GeometryCompiler.html#accc6d2f89d615bdb233ae2e9fbf058b2" title="osgEarth::Features::GeometryCompiler::compile" alt="" coords="404,5,705,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5ef4b301968424242fef091d7e7ce56a"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::setFeatureNameExpr" ref="a5ef4b301968424242fef091d7e7ce56a" args="(const StringExpression &amp;expr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osgEarth::Features::SubstituteModelFilter::setFeatureNameExpr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1Symbology_1_1StringExpression.html">StringExpression</a> &amp;&#160;</td>
          <td class="paramname"><em>expr</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The matrix with which to transform each model instance after placement. </p>

<p>Definition at line <a class="el" href="SubstituteModelFilter_source.html#l00072">72</a> of file <a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a>.</p>
<div class="fragment"><pre class="fragment">{ <a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a79ea8f86f535844b5684f39d1c936dec">_featureNameExpr</a> = expr; }
</pre></div>
<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Features_1_1SubstituteModelFilter_a5ef4b301968424242fef091d7e7ce56a_icgraph.png" border="0" usemap="#classosgEarth_1_1Features_1_1SubstituteModelFilter_a5ef4b301968424242fef091d7e7ce56a_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Features_1_1SubstituteModelFilter_a5ef4b301968424242fef091d7e7ce56a_icgraph" id="classosgEarth_1_1Features_1_1SubstituteModelFilter_a5ef4b301968424242fef091d7e7ce56a_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Features_1_1GeometryCompiler.html#accc6d2f89d615bdb233ae2e9fbf058b2" title="osgEarth::Features::GeometryCompiler::compile" alt="" coords="452,5,753,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6fb015ab63b43f4bf7d5a983248a34f3"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::setMergeGeometry" ref="a6fb015ab63b43f4bf7d5a983248a34f3" args="(bool value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void osgEarth::Features::SubstituteModelFilter::setMergeGeometry </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Whether to merge marker geometries into geodes </p>

<p>Definition at line <a class="el" href="SubstituteModelFilter_source.html#l00065">65</a> of file <a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a>.</p>
<div class="fragment"><pre class="fragment">{ <a class="code" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a3fb59d0b6b718263c6ba45e1ab3156c3">_merge</a> = value; }
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="af8f0e7b0408bcab530348c4ad9fbd46b"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::_cluster" ref="af8f0e7b0408bcab530348c4ad9fbd46b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#af8f0e7b0408bcab530348c4ad9fbd46b">osgEarth::Features::SubstituteModelFilter::_cluster</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SubstituteModelFilter_source.html#l00081">81</a> of file <a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a>.</p>

</div>
</div>
<a class="anchor" id="a79ea8f86f535844b5684f39d1c936dec"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::_featureNameExpr" ref="a79ea8f86f535844b5684f39d1c936dec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1Symbology_1_1StringExpression.html">StringExpression</a> <a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a79ea8f86f535844b5684f39d1c936dec">osgEarth::Features::SubstituteModelFilter::_featureNameExpr</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SubstituteModelFilter_source.html#l00084">84</a> of file <a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a>.</p>

</div>
</div>
<a class="anchor" id="aaba9bc3d9b848dfd129d075ba177e985"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::_markerCache" ref="aaba9bc3d9b848dfd129d075ba177e985" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1LRUCache.html">MarkerCache</a> <a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#aaba9bc3d9b848dfd129d075ba177e985">osgEarth::Features::SubstituteModelFilter::_markerCache</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SubstituteModelFilter_source.html#l00087">87</a> of file <a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a>.</p>

</div>
</div>
<a class="anchor" id="a3fb59d0b6b718263c6ba45e1ab3156c3"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::_merge" ref="a3fb59d0b6b718263c6ba45e1ab3156c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#a3fb59d0b6b718263c6ba45e1ab3156c3">osgEarth::Features::SubstituteModelFilter::_merge</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SubstituteModelFilter_source.html#l00082">82</a> of file <a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a>.</p>

</div>
</div>
<a class="anchor" id="af28de975853d866bf3ffa5d166ea803a"></a><!-- doxytag: member="osgEarth::Features::SubstituteModelFilter::_style" ref="af28de975853d866bf3ffa5d166ea803a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1Style.html">Style</a> <a class="el" href="classosgEarth_1_1Features_1_1SubstituteModelFilter.html#af28de975853d866bf3ffa5d166ea803a">osgEarth::Features::SubstituteModelFilter::_style</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="SubstituteModelFilter_source.html#l00080">80</a> of file <a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/cube/sources/osgearth/src/osgEarthFeatures/<a class="el" href="SubstituteModelFilter_source.html">SubstituteModelFilter</a></li>
<li>/home/cube/sources/osgearth/src/osgEarthFeatures/<a class="el" href="SubstituteModelFilter_8cpp_source.html">SubstituteModelFilter.cpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Jan 18 2012 15:02:56 for osgEarth by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
