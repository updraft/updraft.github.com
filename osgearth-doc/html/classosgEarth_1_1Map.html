<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>osgEarth: osgEarth::Map Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">osgEarth&#160;<span id="projectnumber">2.1.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceosgEarth.html">osgEarth</a>      </li>
      <li class="navelem"><a class="el" href="classosgEarth_1_1Map.html">Map</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<h1>osgEarth::Map Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="osgEarth::Map" --><!-- doxytag: inherits="osg::Referenced" --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for osgEarth::Map:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map__inherit__graph.png" border="0" usemap="#osgEarth_1_1Map_inherit__map" alt="Inheritance graph"/></div>
<map name="osgEarth_1_1Map_inherit__map" id="osgEarth_1_1Map_inherit__map">
<area shape="rect" id="node2" href="classosg_1_1Referenced.html" title="Referenced" alt="" coords="15,5,103,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Collaboration diagram for osgEarth::Map:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map__coll__graph.png" border="0" usemap="#osgEarth_1_1Map_coll__map" alt="Collaboration graph"/></div>
<map name="osgEarth_1_1Map_coll__map" id="osgEarth_1_1Map_coll__map">
<area shape="rect" id="node2" href="classosg_1_1Referenced.html" title="Referenced" alt="" coords="1983,252,2071,281"/><area shape="rect" id="node4" href="classosgEarth_1_1MapOptions.html" title="osgEarth::MapOptions" alt="" coords="1951,305,2103,335"/><area shape="rect" id="node6" href="classosgEarth_1_1ConfigOptions.html" title="osgEarth::ConfigOptions" alt="" coords="477,355,643,384"/><area shape="rect" id="node22" href="classosgEarth_1_1DriverConfigOptions.html" title="osgEarth::DriverConfigOptions" alt="" coords="776,355,976,384"/><area shape="rect" id="node29" href="classosgEarth_1_1ProfileOptions.html" title="osgEarth::ProfileOptions" alt="" coords="1164,259,1327,288"/><area shape="rect" id="node8" href="classosgEarth_1_1Config.html" title="osgEarth::Config" alt="" coords="275,355,395,384"/><area shape="rect" id="node10" href="structosgEarth_1_1Properties.html" title="osgEarth::Properties" alt="" coords="11,328,152,357"/><area shape="rect" id="node12" href="classosgEarth_1_1URIContext.html" title="osgEarth::URIContext" alt="" coords="5,381,157,411"/><area shape="rect" id="node14" href="structosgEarth_1_1optional.html" title="osgEarth::optional\&lt; CoordinateSystemType \&gt;" alt="" coords="1461,21,1749,51"/><area shape="rect" id="node16" href="structosgEarth_1_1optional.html" title="osgEarth::optional\&lt; std::string \&gt;" alt="" coords="772,107,980,136"/><area shape="rect" id="node18" href="structosgEarth_1_1optional.html" title="osgEarth::optional\&lt; CacheOptions \&gt;" alt="" coords="1488,341,1723,371"/><area shape="rect" id="node20" href="classosgEarth_1_1CacheOptions.html" title="osgEarth::CacheOptions" alt="" coords="1163,355,1328,384"/><area shape="rect" id="node25" href="structosgEarth_1_1optional.html" title="osgEarth::optional\&lt; bool \&gt;" alt="" coords="789,408,963,437"/><area shape="rect" id="node27" href="structosgEarth_1_1optional.html" title="osgEarth::optional\&lt; ProfileOptions \&gt;" alt="" coords="1489,277,1721,307"/><area shape="rect" id="node33" href="structosgEarth_1_1optional.html" title="osgEarth::optional\&lt; Bounds \&gt;" alt="" coords="779,193,973,223"/><area shape="rect" id="node35" href="classosgEarth_1_1Bounds.html" title="osgEarth::Bounds" alt="" coords="497,193,623,223"/><area shape="rect" id="node37" href="structosgEarth_1_1optional.html" title="osgEarth::optional\&lt; int \&gt;" alt="" coords="793,251,959,280"/><area shape="rect" id="node39" href="structosgEarth_1_1Revision.html" title="osgEarth::Revision" alt="" coords="1960,359,2093,388"/><area shape="rect" id="node41" href="classosgEarth_1_1Threading_1_1ReadWriteMutex.html" title="osgEarth::Threading::ReadWriteMutex" alt="" coords="1904,463,2149,492"/><area shape="rect" id="node43" href="classosgEarth_1_1Threading_1_1Event.html" title="osgEarth::Threading::Event" alt="" coords="1515,515,1696,544"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classosgEarth_1_1Map-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896b">ModelParts</a> { <br/>
&#160;&#160;<a class="el" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba051c62c463cec3759b9b609bbcd82886">IMAGE_LAYERS</a> =  1 &lt;&lt; 0, 
<a class="el" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba54b09d6e4f190bec8f3ebae7299b17ab">ELEVATION_LAYERS</a> =  1 &lt;&lt; 1, 
<a class="el" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba6ad20a0fde7a177895100c5819a24fc2">TERRAIN_LAYERS</a> =  IMAGE_LAYERS | ELEVATION_LAYERS, 
<a class="el" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896bafe32fcd2382c07f5b985451e15244caa">MODEL_LAYERS</a> =  1 &lt;&lt; 2, 
<br/>
&#160;&#160;<a class="el" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba901792fce6d6f1bfd90d06fca7b46cc2">MASK_LAYERS</a> =  1 &lt;&lt; 3, 
<a class="el" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba2ccfa8100799c72c2205d7ec028f6cbf">MASKED_TERRAIN_LAYERS</a> =  TERRAIN_LAYERS | MASK_LAYERS, 
<a class="el" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba9a8154a658bb751bcfbb35c1c0236111">ENTIRE_MODEL</a> =  0xff
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#ae9d0b7beb817a2fb45544332bbd85043">Map</a> (const <a class="el" href="classosgEarth_1_1MapOptions.html">MapOptions</a> &amp;options=<a class="el" href="classosgEarth_1_1MapOptions.html">MapOptions</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classosgEarth_1_1MapOptions.html">MapOptions</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a693567c847af460f6934b0fdb9242ab2">getMapOptions</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classosgEarth_1_1Profile.html">Profile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a7d4fe3351a35ece7b80316b8869a3b48">getProfile</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#ab546d2b91a4d909de22abe3bebbe2945">getImageLayers</a> (<a class="el" href="namespaceosgEarth.html#a735aaffdcba342668743fbcf18779cd7">ImageLayerVector</a> &amp;out_layers, bool validLayersOnly=false) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a8c654fea8c7c150a08c089ce7c3ef464">getNumImageLayers</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#ae2e5334b2e181025d45f7601a929bbf0">getImageLayerByName</a> (const std::string &amp;name) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a62f88a2a8403a3283ec0d15c4105d56f">getImageLayerByUID</a> (<a class="el" href="namespaceosgEarth.html#afc79b9a35ed940aaee797fde114b9801">UID</a> layerUID) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a44c078b3afc98ea99664af30ff7f83d4">getImageLayerAt</a> (int index) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#acb0f72abc9919e3f0e9911e4cf6203c2">getElevationLayers</a> (<a class="el" href="namespaceosgEarth.html#ada107a5ca40a6c4bee7f4d2ffe615fcd">ElevationLayerVector</a> &amp;out_layers, bool validLayersOnly=false) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a993075c480c5649d758f94a2ebd4d754">getNumElevationLayers</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1ElevationLayer.html">ElevationLayer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#aef8c0751adaf0f34591501ee5641f54a">getElevationLayerByName</a> (const std::string &amp;name) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1ElevationLayer.html">ElevationLayer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a172ea7e07e0391f6c77fda762624acd7">getElevationLayerByUID</a> (<a class="el" href="namespaceosgEarth.html#afc79b9a35ed940aaee797fde114b9801">UID</a> layerUID) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1ElevationLayer.html">ElevationLayer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a0f6b0bf4ccbb9e0a4b4dd6a6ad18094e">getElevationLayerAt</a> (int index) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a10f9fedf7dc40383660f448c35642d47">getModelLayers</a> (<a class="el" href="namespaceosgEarth.html#adcc0d64f72608dae97e167f6b5b5297f">ModelLayerVector</a> &amp;out_layers, bool validLayersOnly=false) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a49671b77a9a7bb9ee960944d550148a9">getNumModelLayers</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1ModelLayer.html">ModelLayer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a9752c28e110230a4ecf6386677624c34">getModelLayerByName</a> (const std::string &amp;name) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1ModelLayer.html">ModelLayer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a3bfd5043b53394c445947448c587c7b2">getModelLayerByUID</a> (<a class="el" href="namespaceosgEarth.html#afc79b9a35ed940aaee797fde114b9801">UID</a> layerUID) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1ModelLayer.html">ModelLayer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a5c85f9e7df949586c9b437c3b0a6edf0">getModelLayerAt</a> (int index) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a594ff9dfe41412fee6e4d2f051a5d2cc">getTerrainMaskLayers</a> (<a class="el" href="namespaceosgEarth.html#ab74a145bbc3ec2c099d8e1f007c498c6">MaskLayerVector</a> &amp;out_list) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a67cc548269c2a28b55bbc4418398f3ce">addMapCallback</a> (<a class="el" href="structosgEarth_1_1MapCallback.html">MapCallback</a> *callback) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a963974c1226320da8984a30d24a21cf0">removeMapCallback</a> (<a class="el" href="structosgEarth_1_1MapCallback.html">MapCallback</a> *callback)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#aff4f55389d999d345b4822eaf74cecf0">addImageLayer</a> (<a class="el" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a> *layer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#ae7a1c99ec62a390e22cf9c37620f27e1">insertImageLayer</a> (<a class="el" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a> *layer, unsigned int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#ae60fb7d35fb946ae944c12b87e7d017f">removeImageLayer</a> (<a class="el" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a> *layer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#aa33e19c2aa338773d49ac535555b514d">moveImageLayer</a> (<a class="el" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a> *layer, unsigned int newIndex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a0b9cb734082b8f3cf9b0d0918690c7bd">addElevationLayer</a> (<a class="el" href="classosgEarth_1_1ElevationLayer.html">ElevationLayer</a> *layer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#add460b57dc27ae18c13436c09690efa4">removeElevationLayer</a> (<a class="el" href="classosgEarth_1_1ElevationLayer.html">ElevationLayer</a> *layer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a52b78ae00f8070a042b84c3ea5c27f58">moveElevationLayer</a> (<a class="el" href="classosgEarth_1_1ElevationLayer.html">ElevationLayer</a> *layer, unsigned int newIndex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#aa12f2741dd873872cf77fa487e84c915">addModelLayer</a> (<a class="el" href="classosgEarth_1_1ModelLayer.html">ModelLayer</a> *layer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a085e5c9ce03ab4c23d7a7585fb353430">insertModelLayer</a> (<a class="el" href="classosgEarth_1_1ModelLayer.html">ModelLayer</a> *layer, unsigned int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a10b13027334c6a0a5877e86df8005f43">removeModelLayer</a> (<a class="el" href="classosgEarth_1_1ModelLayer.html">ModelLayer</a> *layer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#ac053332970d9f090d5e1a7347a0b07d3">moveModelLayer</a> (<a class="el" href="classosgEarth_1_1ModelLayer.html">ModelLayer</a> *layer, unsigned int newIndex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a9c5dfa555fde481ba52efa7132783211">addTerrainMaskLayer</a> (<a class="el" href="classosgEarth_1_1MaskLayer.html">MaskLayer</a> *layer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#ac3a07bacdbd964ee9594584e46095fbc">removeTerrainMaskLayer</a> (<a class="el" href="classosgEarth_1_1MaskLayer.html">MaskLayer</a> *layer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <br class="typebreak"/>
osgDB::ReaderWriter::Options *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#aff6828d516163df32a7084d0bb7fc983">getGlobalOptions</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a6543620b62f165b4ca63944b50e6ff57">setGlobalOptions</a> (const osgDB::ReaderWriter::Options *options)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a619ca3a01cd56237ca24f23ac1503dbc">setName</a> (const std::string &amp;name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a717f1d4b6a65ac5cfc03c358c08db2db">getName</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a007d4d86b22dc6ad4017831b944adbf7">getHeightField</a> (const <a class="el" href="classosgEarth_1_1TileKey.html">TileKey</a> &amp;key, bool fallback, osg::ref_ptr&lt; osg::HeightField &gt; &amp;out_hf, bool *out_isFallback=0L, ElevationInterpolation interpolation=INTERP_AVERAGE, ElevationSamplePolicy samplePolicy=SAMPLE_FIRST_VALID, ProgressCallback *progress=0) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a2340eb04005ed0caf43a554959a88294">setCache</a> (<a class="el" href="classosgEarth_1_1Cache.html">Cache</a> *cache)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1Cache.html">Cache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a84a02a614b4b6ed8d2aceebb8a8593d9">getCache</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structosgEarth_1_1Revision.html">Revision</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a37cb6555685fd0a43cddf36b066ccc05">getDataModelRevision</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#aa84a08fbbe14e7bfff2ec5d8c8e53960">isGeocentric</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a536179d774c9182092b87fdb58f6f0af">toMapPoint</a> (const osg::Vec3d &amp;input, const <a class="el" href="classosgEarth_1_1SpatialReference.html">SpatialReference</a> *input_srs, osg::Vec3d &amp;output) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a3a7e1f28b755eb7ca5603bfbd44ada0d">mapPointToWorldPoint</a> (const osg::Vec3d &amp;input, osg::Vec3d &amp;output) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a8e362c3a2a963ddab71d6639a01ec0cb">worldPointToMapPoint</a> (const osg::Vec3d &amp;input, osg::Vec3d &amp;output) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a167b9433251149e7b3b505f84a2ac219">sync</a> (class <a class="el" href="classosgEarth_1_1MapFrame.html">MapFrame</a> &amp;frame) const </td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a889e675cefe8ee51279de037dad5984b">~Map</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a63e65da3e4d6d60cab5f7d174e55a688">calculateProfile</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1MapOptions.html">MapOptions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a44e63e4f1f0372cdc343028e2f8c3cbd">_name</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceosgEarth.html#a735aaffdcba342668743fbcf18779cd7">ImageLayerVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceosgEarth.html#ada107a5ca40a6c4bee7f4d2ffe615fcd">ElevationLayerVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceosgEarth.html#adcc0d64f72608dae97e167f6b5b5297f">ModelLayerVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceosgEarth.html#ab74a145bbc3ec2c099d8e1f007c498c6">MaskLayerVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#af9f37d5d4be26a65eae5748b69a630e2">_terrainMaskLayers</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceosgEarth.html#a210d278abf5657fe8291ef2c7f6af188">MapCallbackList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; const <br class="typebreak"/>
osgDB::ReaderWriter::Options &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a402fdff2ca81de922d3652863951f672">_globalOptions</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosgEarth_1_1Threading_1_1ReadWriteMutex.html">Threading::ReadWriteMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; const <a class="el" href="classosgEarth_1_1Profile.html">Profile</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">osg::ref_ptr&lt; <a class="el" href="classosgEarth_1_1Cache.html">Cache</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a2f254f85b9cfcfabc96fb885dc0d6e5a">_cache</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structosgEarth_1_1Revision.html">Revision</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classosgEarth_1_1Map.html">Map</a> is the main data model that the <a class="el" href="classosgEarth_1_1MapNode.html">MapNode</a> will render. It is a container for all <a class="el" href="classosgEarth_1_1Layer.html">Layer</a> objects (that contain the actual data) and the rendering options. </p>

<p>Definition at line <a class="el" href="Map_source.html#l00112">112</a> of file <a class="el" href="Map_source.html">Map</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a450a2b8069ef0b5d6cae73f59310896b"></a><!-- doxytag: member="osgEarth::Map::ModelParts" ref="a450a2b8069ef0b5d6cae73f59310896b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896b">osgEarth::Map::ModelParts</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a450a2b8069ef0b5d6cae73f59310896ba051c62c463cec3759b9b609bbcd82886"></a><!-- doxytag: member="IMAGE_LAYERS" ref="a450a2b8069ef0b5d6cae73f59310896ba051c62c463cec3759b9b609bbcd82886" args="" -->IMAGE_LAYERS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a450a2b8069ef0b5d6cae73f59310896ba54b09d6e4f190bec8f3ebae7299b17ab"></a><!-- doxytag: member="ELEVATION_LAYERS" ref="a450a2b8069ef0b5d6cae73f59310896ba54b09d6e4f190bec8f3ebae7299b17ab" args="" -->ELEVATION_LAYERS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a450a2b8069ef0b5d6cae73f59310896ba6ad20a0fde7a177895100c5819a24fc2"></a><!-- doxytag: member="TERRAIN_LAYERS" ref="a450a2b8069ef0b5d6cae73f59310896ba6ad20a0fde7a177895100c5819a24fc2" args="" -->TERRAIN_LAYERS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a450a2b8069ef0b5d6cae73f59310896bafe32fcd2382c07f5b985451e15244caa"></a><!-- doxytag: member="MODEL_LAYERS" ref="a450a2b8069ef0b5d6cae73f59310896bafe32fcd2382c07f5b985451e15244caa" args="" -->MODEL_LAYERS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a450a2b8069ef0b5d6cae73f59310896ba901792fce6d6f1bfd90d06fca7b46cc2"></a><!-- doxytag: member="MASK_LAYERS" ref="a450a2b8069ef0b5d6cae73f59310896ba901792fce6d6f1bfd90d06fca7b46cc2" args="" -->MASK_LAYERS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a450a2b8069ef0b5d6cae73f59310896ba2ccfa8100799c72c2205d7ec028f6cbf"></a><!-- doxytag: member="MASKED_TERRAIN_LAYERS" ref="a450a2b8069ef0b5d6cae73f59310896ba2ccfa8100799c72c2205d7ec028f6cbf" args="" -->MASKED_TERRAIN_LAYERS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a450a2b8069ef0b5d6cae73f59310896ba9a8154a658bb751bcfbb35c1c0236111"></a><!-- doxytag: member="ENTIRE_MODEL" ref="a450a2b8069ef0b5d6cae73f59310896ba9a8154a658bb751bcfbb35c1c0236111" args="" -->ENTIRE_MODEL</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="Map_source.html#l00374">374</a> of file <a class="el" href="Map_source.html">Map</a>.</p>
<div class="fragment"><pre class="fragment">                        {
            <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba051c62c463cec3759b9b609bbcd82886">IMAGE_LAYERS</a>     = 1 &lt;&lt; 0,
            <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba54b09d6e4f190bec8f3ebae7299b17ab">ELEVATION_LAYERS</a> = 1 &lt;&lt; 1,
            <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba6ad20a0fde7a177895100c5819a24fc2">TERRAIN_LAYERS</a>   = <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba051c62c463cec3759b9b609bbcd82886">IMAGE_LAYERS</a> | <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba54b09d6e4f190bec8f3ebae7299b17ab">ELEVATION_LAYERS</a>,
            <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896bafe32fcd2382c07f5b985451e15244caa">MODEL_LAYERS</a>     = 1 &lt;&lt; 2,
            <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba901792fce6d6f1bfd90d06fca7b46cc2">MASK_LAYERS</a>      = 1 &lt;&lt; 3,
            <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba2ccfa8100799c72c2205d7ec028f6cbf">MASKED_TERRAIN_LAYERS</a> = <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba6ad20a0fde7a177895100c5819a24fc2">TERRAIN_LAYERS</a> | <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba901792fce6d6f1bfd90d06fca7b46cc2">MASK_LAYERS</a>,
            <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba9a8154a658bb751bcfbb35c1c0236111">ENTIRE_MODEL</a>     = 0xff
        };
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae9d0b7beb817a2fb45544332bbd85043"></a><!-- doxytag: member="osgEarth::Map::Map" ref="ae9d0b7beb817a2fb45544332bbd85043" args="(const MapOptions &amp;options=MapOptions())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Map::Map </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1MapOptions.html">MapOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em> = <code><a class="el" href="classosgEarth_1_1MapOptions.html">MapOptions</a>()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs a new, empty map. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00064">64</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                    :
osg::Referenced( <span class="keyword">true</span> ),
<a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>( options ),
<a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>(0)
{
    <span class="comment">//NOP</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a889e675cefe8ee51279de037dad5984b"></a><!-- doxytag: member="osgEarth::Map::~Map" ref="a889e675cefe8ee51279de037dad5984b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osgEarth::Map::~Map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_source.html#l00386">386</a> of file <a class="el" href="Map_source.html">Map</a>.</p>
<div class="fragment"><pre class="fragment">{ }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0b9cb734082b8f3cf9b0d0918690c7bd"></a><!-- doxytag: member="osgEarth::Map::addElevationLayer" ref="a0b9cb734082b8f3cf9b0d0918690c7bd" args="(ElevationLayer *layer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::addElevationLayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1ElevationLayer.html">ElevationLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds an elevation layer to the map. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00428">428</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09">osgEarth::Registry::instance</a>()-&gt;<a class="code" href="classosgEarth_1_1Registry.html#a619b41e8ddbfac14a491edac8b879c1f">clearBlacklist</a>();
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = -1;
    <span class="keywordflow">if</span> ( layer )
    {
            <span class="comment">//Set options for the map from the layer</span>
                layer-&gt;setReferenceURI( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73">referenceURI</a>().<a class="code" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820">value</a>() );

        <span class="comment">//propagate the cache to the layer:</span>
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab85de1d6b56f3bc365e8137d5d36f0d0">cache</a>().<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() &amp;&amp; <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab85de1d6b56f3bc365e8137d5d36f0d0">cache</a>()-&gt;cacheOnly().<a class="code" href="structosgEarth_1_1optional.html#abac1ffb58a490a5d8c30cc11fe6969bf">isSetTo</a>( <span class="keyword">true</span> ) )
                {
                        layer-&gt;setCacheOnly( <span class="keyword">true</span> );
                }

                <span class="comment">//Set the Cache for the MapLayer to our cache.</span>
                layer-&gt;<a class="code" href="classosgEarth_1_1TerrainLayer.html#ae98db9ea06d28b953bef666b95c5e9ad">setCache</a>( this-&gt;<a class="code" href="classosgEarth_1_1Map.html#a84a02a614b4b6ed8d2aceebb8a8593d9">getCache</a>() );
        
        <span class="comment">// Tell the layer the map profile, if possible:</span>
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.valid() )
            layer-&gt;<a class="code" href="classosgEarth_1_1TerrainLayer.html#a8259fe83544eee15cd68fc739183025e">setTargetProfileHint</a>( <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.get() );

        <span class="keywordtype">int</span> newRevision;

        <span class="comment">// Add the layer to our stack.</span>
        {
            <a class="code" href="structosgEarth_1_1Threading_1_1ScopedWriteLock.html">Threading::ScopedWriteLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );

            <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.push_back( layer );
            index = <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.size() - 1;
            newRevision = ++<a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
        }

        <span class="comment">// a separate block b/c we don&#39;t need the mutex   </span>
        <span class="keywordflow">for</span>( MapCallbackList::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(); i++ )
        {
            i-&gt;get()-&gt;onMapModelChanged( <a class="code" href="structosgEarth_1_1MapModelChange.html">MapModelChange</a>(
                <a class="code" href="structosgEarth_1_1MapModelChange.html#af25022d670929a5d72c1859060f81114a6698281474289b2e6e501a26a9c20ac4">MapModelChange::ADD_ELEVATION_LAYER</a>, newRevision, layer, index) );
        }       
    }   
}
</pre></div>
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a0b9cb734082b8f3cf9b0d0918690c7bd_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_a0b9cb734082b8f3cf9b0d0918690c7bd_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a0b9cb734082b8f3cf9b0d0918690c7bd_cgraph" id="classosgEarth_1_1Map_a0b9cb734082b8f3cf9b0d0918690c7bd_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1MapOptions.html#ab85de1d6b56f3bc365e8137d5d36f0d0" title="osgEarth::MapOptions::cache" alt="" coords="653,36,848,65"/><area shape="rect" id="node5" href="classosgEarth_1_1Registry.html#a619b41e8ddbfac14a491edac8b879c1f" title="osgEarth::Registry::clearBlacklist" alt="" coords="309,593,525,622"/><area shape="rect" id="node7" href="classosgEarth_1_1Map.html#a84a02a614b4b6ed8d2aceebb8a8593d9" title="osgEarth::Map::getCache" alt="" coords="332,222,503,252"/><area shape="rect" id="node18" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="657,353,844,382"/><area shape="rect" id="node31" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="668,406,833,436"/><area shape="rect" id="node35" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73" title="osgEarth::MapOptions::referenceURI" alt="" coords="956,89,1193,118"/><area shape="rect" id="node37" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820" title="osgEarth::optional::value" alt="" coords="992,300,1157,329"/><area shape="rect" id="node41" href="structosgEarth_1_1optional.html#abac1ffb58a490a5d8c30cc11fe6969bf" title="osgEarth::optional::isSetTo" alt="" coords="328,646,507,676"/><area shape="rect" id="node44" href="classosgEarth_1_1TerrainLayer.html#ae98db9ea06d28b953bef666b95c5e9ad" title="osgEarth::TerrainLayer::setCache" alt="" coords="308,540,527,569"/><area shape="rect" id="node65" href="classosgEarth_1_1TerrainLayer.html#a8259fe83544eee15cd68fc739183025e" title="osgEarth::TerrainLayer::setTargetProfileHint" alt="" coords="279,700,556,729"/><area shape="rect" id="node10" href="classosgEarth_1_1CacheFactory.html#a1bac5511c0d97cf20443a7a96ea6e324" title="osgEarth::CacheFactory::create" alt="" coords="647,249,855,278"/><area shape="rect" id="node14" href="structosgEarth_1_1optional.html#ac10ed828e5fb151d8cabf856e1fc3d3e" title="osgEarth::optional::get" alt="" coords="675,142,827,172"/><area shape="rect" id="node16" href="classosgEarth_1_1Registry.html#a061d3903e633b9abfafc38d6faa1590c" title="osgEarth::Registry::getCacheOverride" alt="" coords="629,89,872,118"/><area shape="rect" id="node33" href="classosgEarth_1_1Map.html#a2340eb04005ed0caf43a554959a88294" title="osgEarth::Map::setCache" alt="" coords="665,196,836,225"/><area shape="rect" id="node12" href="classosgEarth_1_1DriverConfigOptions.html#ab989b270751800e8fca87b17fdc456bc" title="osgEarth::DriverConfigOptions::getDriver" alt="" coords="944,246,1205,276"/><area shape="rect" id="node20" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="981,353,1168,382"/><area shape="rect" id="node22" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="1253,273,1581,302"/><area shape="rect" id="node25" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="1305,326,1529,356"/><area shape="rect" id="node27" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="1296,380,1539,409"/><area shape="rect" id="node29" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="1295,433,1540,462"/><area shape="rect" id="node46" href="classosgEarth_1_1TerrainLayerOptions.html#a3e25ced92475376f2b5117af076dbb0e" title="osgEarth::TerrainLayerOptions::cacheEnabled" alt="" coords="607,886,895,916"/><area shape="rect" id="node48" href="classosgEarth_1_1TerrainLayerOptions.html#a8418e1ff33afb76c241144c1e1804992" title="osgEarth::TerrainLayerOptions::cacheFormat" alt="" coords="609,460,892,489"/><area shape="rect" id="node50" href="classosgEarth_1_1TerrainLayerOptions.html#af32e3cc40e8d9a7b27c305706cd17f5e" title="osgEarth::TerrainLayerOptions::cacheId" alt="" coords="624,513,877,542"/><area shape="rect" id="node52" href="classosgEarth_1_1TerrainLayerOptions.html#a50caaefc27eb54a34b6ff5628c43c34f" title="osgEarth::TerrainLayerOptions::driver" alt="" coords="632,566,869,596"/><area shape="rect" id="node54" href="structosgEarth_1_1CacheSpec.html#a4253bd68a78e3ae7ec8a6e103c4dd187" title="osgEarth::CacheSpec::format" alt="" coords="653,620,848,649"/><area shape="rect" id="node56" href="classosgEarth_1_1TerrainLayer.html#a55830499ac602f6f8dac06de5f81da2c" title="osgEarth::TerrainLayer::getName" alt="" coords="644,673,857,702"/><area shape="rect" id="node58" href="namespaceosgEarth.html#a73391515286f2830aefc25b521fdc09c" title="osgEarth::hashString" alt="" coords="679,726,823,756"/><area shape="rect" id="node61" href="classosgEarth_1_1Config.html#a6544fe1a09134161f5bdc451045a1e7f" title="osgEarth::Config::remove" alt="" coords="665,780,836,809"/><area shape="rect" id="node63" href="classosgEarth_1_1Config.html#ae2b663e7cdb3f6920f4a199024d87b8f" title="osgEarth::Config::toHashString" alt="" coords="649,833,852,862"/></map>
</div>
</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a0b9cb734082b8f3cf9b0d0918690c7bd_icgraph.png" border="0" usemap="#classosgEarth_1_1Map_a0b9cb734082b8f3cf9b0d0918690c7bd_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a0b9cb734082b8f3cf9b0d0918690c7bd_icgraph" id="classosgEarth_1_1Map_a0b9cb734082b8f3cf9b0d0918690c7bd_icgraph">
<area shape="rect" id="node3" href="classEarthFileSerializer2.html#a768aaf0a191205dd694560c76e295d02" title="EarthFileSerializer2::deserialize" alt="" coords="277,5,483,35"/><area shape="rect" id="node7" href="classEarthFileSerializer1.html#a7c7d88a338ca50972b7009083db89200" title="EarthFileSerializer1::deserialize" alt="" coords="277,59,483,88"/><area shape="rect" id="node10" href="osgearth__map_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="355,112,405,141"/><area shape="rect" id="node5" href="classReaderWriterEarth.html#acd6002b63309882f70304cf509c9bef9" title="ReaderWriterEarth::readNode" alt="" coords="531,32,725,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aff4f55389d999d345b4822eaf74cecf0"></a><!-- doxytag: member="osgEarth::Map::addImageLayer" ref="aff4f55389d999d345b4822eaf74cecf0" args="(ImageLayer *layer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::addImageLayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds an image layer to the map. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00338">338</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09">osgEarth::Registry::instance</a>()-&gt;<a class="code" href="classosgEarth_1_1Registry.html#a619b41e8ddbfac14a491edac8b879c1f">clearBlacklist</a>();
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = -1;
    <span class="keywordflow">if</span> ( layer )
    {
            <span class="comment">//Set options for the map from the layer</span>
                layer-&gt;setReferenceURI( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73">referenceURI</a>().<a class="code" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820">value</a>() );

        <span class="comment">//propagate the cache to the layer:</span>
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab85de1d6b56f3bc365e8137d5d36f0d0">cache</a>().<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() &amp;&amp; <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab85de1d6b56f3bc365e8137d5d36f0d0">cache</a>()-&gt;cacheOnly().<a class="code" href="structosgEarth_1_1optional.html#abac1ffb58a490a5d8c30cc11fe6969bf">isSetTo</a>( <span class="keyword">true</span> ) )
                {
                        layer-&gt;setCacheOnly( <span class="keyword">true</span> );
                }

                <span class="comment">//Set the Cache for the MapLayer to our cache.</span>
                layer-&gt;<a class="code" href="classosgEarth_1_1TerrainLayer.html#ae98db9ea06d28b953bef666b95c5e9ad">setCache</a>( this-&gt;<a class="code" href="classosgEarth_1_1Map.html#a84a02a614b4b6ed8d2aceebb8a8593d9">getCache</a>() );

        <span class="comment">// Tell the layer the map profile, if possible:</span>
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.valid() )
            layer-&gt;<a class="code" href="classosgEarth_1_1ImageLayer.html#a08fec3b68feea1922b60bbc8e993aa93">setTargetProfileHint</a>( <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.get() );

        <span class="keywordtype">int</span> newRevision;

        <span class="comment">// Add the layer to our stack.</span>
        {
            <a class="code" href="structosgEarth_1_1Threading_1_1ScopedWriteLock.html">Threading::ScopedWriteLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );

            <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.push_back( layer );
            index = <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.size() - 1;
            newRevision = ++<a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
        }

        <span class="comment">// a separate block b/c we don&#39;t need the mutex   </span>
        <span class="keywordflow">for</span>( MapCallbackList::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(); i++ )
        {
            i-&gt;get()-&gt;onMapModelChanged( <a class="code" href="structosgEarth_1_1MapModelChange.html">MapModelChange</a>(
                <a class="code" href="structosgEarth_1_1MapModelChange.html#af25022d670929a5d72c1859060f81114a46b3aef057123daf5ad293050b0d5298">MapModelChange::ADD_IMAGE_LAYER</a>, newRevision, layer, index) );
            <span class="comment">//i-&gt;get()-&gt;onImageLayerAdded( layer, index, newRevision );</span>
        }       
    }   
}
</pre></div>
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_aff4f55389d999d345b4822eaf74cecf0_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_aff4f55389d999d345b4822eaf74cecf0_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_aff4f55389d999d345b4822eaf74cecf0_cgraph" id="classosgEarth_1_1Map_aff4f55389d999d345b4822eaf74cecf0_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1MapOptions.html#ab85de1d6b56f3bc365e8137d5d36f0d0" title="osgEarth::MapOptions::cache" alt="" coords="609,34,804,63"/><area shape="rect" id="node5" href="classosgEarth_1_1Registry.html#a619b41e8ddbfac14a491edac8b879c1f" title="osgEarth::Registry::clearBlacklist" alt="" coords="288,73,504,102"/><area shape="rect" id="node7" href="classosgEarth_1_1Map.html#a84a02a614b4b6ed8d2aceebb8a8593d9" title="osgEarth::Map::getCache" alt="" coords="311,294,481,323"/><area shape="rect" id="node18" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="2504,162,2691,191"/><area shape="rect" id="node31" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="1812,370,1977,399"/><area shape="rect" id="node35" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73" title="osgEarth::MapOptions::referenceURI" alt="" coords="881,434,1119,463"/><area shape="rect" id="node37" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820" title="osgEarth::optional::value" alt="" coords="917,511,1083,541"/><area shape="rect" id="node41" href="structosgEarth_1_1optional.html#abac1ffb58a490a5d8c30cc11fe6969bf" title="osgEarth::optional::isSetTo" alt="" coords="307,627,485,657"/><area shape="rect" id="node44" href="classosgEarth_1_1TerrainLayer.html#ae98db9ea06d28b953bef666b95c5e9ad" title="osgEarth::TerrainLayer::setCache" alt="" coords="1471,637,1689,666"/><area shape="rect" id="node65" href="classosgEarth_1_1ImageLayer.html#a08fec3b68feea1922b60bbc8e993aa93" title="osgEarth::ImageLayer::setTargetProfileHint" alt="" coords="259,870,533,899"/><area shape="rect" id="node10" href="classosgEarth_1_1CacheFactory.html#a1bac5511c0d97cf20443a7a96ea6e324" title="osgEarth::CacheFactory::create" alt="" coords="1185,318,1393,347"/><area shape="rect" id="node14" href="structosgEarth_1_1optional.html#ac10ed828e5fb151d8cabf856e1fc3d3e" title="osgEarth::optional::get" alt="" coords="631,214,783,243"/><area shape="rect" id="node16" href="classosgEarth_1_1Registry.html#a061d3903e633b9abfafc38d6faa1590c" title="osgEarth::Registry::getCacheOverride" alt="" coords="585,267,828,297"/><area shape="rect" id="node33" href="classosgEarth_1_1Map.html#a2340eb04005ed0caf43a554959a88294" title="osgEarth::Map::setCache" alt="" coords="621,473,792,502"/><area shape="rect" id="node12" href="classosgEarth_1_1DriverConfigOptions.html#ab989b270751800e8fca87b17fdc456bc" title="osgEarth::DriverConfigOptions::getDriver" alt="" coords="2093,478,2355,507"/><area shape="rect" id="node20" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="2836,162,3023,191"/><area shape="rect" id="node22" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="3072,82,3400,111"/><area shape="rect" id="node25" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="3124,135,3348,165"/><area shape="rect" id="node27" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="3115,189,3357,218"/><area shape="rect" id="node29" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="3113,242,3359,271"/><area shape="rect" id="node46" href="classosgEarth_1_1TerrainLayerOptions.html#a3e25ced92475376f2b5117af076dbb0e" title="osgEarth::TerrainLayerOptions::cacheEnabled" alt="" coords="1751,530,2039,559"/><area shape="rect" id="node48" href="classosgEarth_1_1TerrainLayerOptions.html#a8418e1ff33afb76c241144c1e1804992" title="osgEarth::TerrainLayerOptions::cacheFormat" alt="" coords="1753,797,2036,826"/><area shape="rect" id="node50" href="classosgEarth_1_1TerrainLayerOptions.html#af32e3cc40e8d9a7b27c305706cd17f5e" title="osgEarth::TerrainLayerOptions::cacheId" alt="" coords="1768,583,2021,613"/><area shape="rect" id="node52" href="classosgEarth_1_1TerrainLayerOptions.html#a50caaefc27eb54a34b6ff5628c43c34f" title="osgEarth::TerrainLayerOptions::driver" alt="" coords="1776,850,2013,879"/><area shape="rect" id="node54" href="structosgEarth_1_1CacheSpec.html#a4253bd68a78e3ae7ec8a6e103c4dd187" title="osgEarth::CacheSpec::format" alt="" coords="1797,637,1992,666"/><area shape="rect" id="node56" href="classosgEarth_1_1TerrainLayer.html#a55830499ac602f6f8dac06de5f81da2c" title="osgEarth::TerrainLayer::getName" alt="" coords="1788,743,2001,773"/><area shape="rect" id="node58" href="namespaceosgEarth.html#a73391515286f2830aefc25b521fdc09c" title="osgEarth::hashString" alt="" coords="1823,690,1967,719"/><area shape="rect" id="node61" href="classosgEarth_1_1Config.html#a6544fe1a09134161f5bdc451045a1e7f" title="osgEarth::Config::remove" alt="" coords="1809,423,1980,453"/><area shape="rect" id="node63" href="classosgEarth_1_1Config.html#ae2b663e7cdb3f6920f4a199024d87b8f" title="osgEarth::Config::toHashString" alt="" coords="1793,477,1996,506"/><area shape="rect" id="node67" href="classosgEarth_1_1ImageLayer.html#a2adf54040ab69ee998f1202cd68198a8" title="osgEarth::ImageLayer::initPreCacheOp" alt="" coords="581,939,832,969"/><area shape="rect" id="node69" href="classosgEarth_1_1TerrainLayer.html#a8c3b22dfd214263aefe467b36b9d0828" title="osgEarth::TerrainLayer::getProfile" alt="" coords="892,1023,1108,1053"/><area shape="rect" id="node71" href="classosgEarth_1_1TerrainLayerOptions.html#a2eaa401b3dedfe09b1995b12194acd85" title="osgEarth::TerrainLayerOptions::cacheOnly" alt="" coords="1760,1223,2029,1253"/><area shape="rect" id="node73" href="classosgEarth_1_1TerrainLayer.html#a94efa05e40e34514a0255250850aa889" title="osgEarth::TerrainLayer::getTileSource" alt="" coords="1168,1023,1411,1053"/><area shape="rect" id="node76" href="classosgEarth_1_1TerrainLayer.html#ab070bc97ce845a6dd4a9e3bc8d610ee8" title="osgEarth::TerrainLayer::initTileSource" alt="" coords="1460,983,1700,1013"/><area shape="rect" id="node79" href="structosgEarth_1_1CacheSpec.html#a74395f8d7912eab234ba66e7537d7ba6" title="osgEarth::CacheSpec::cacheId" alt="" coords="1793,903,1996,933"/><area shape="rect" id="node82" href="classosgEarth_1_1Profile.html#a3d862455737d2b9f813a078f9ec22752" title="osgEarth::Profile::create" alt="" coords="1813,1010,1976,1039"/><area shape="rect" id="node104" href="classosgEarth_1_1TileSourceFactory.html#a56df79a1262c8b6cca64a121f60181d0" title="osgEarth::TileSourceFactory::create" alt="" coords="1779,957,2011,986"/><area shape="rect" id="node110" href="structosgEarth_1_1CacheSpec.html#aa0aeef925682e234f4684a59f7454406" title="osgEarth::CacheSpec::name" alt="" coords="1800,1063,1989,1093"/><area shape="rect" id="node112" href="classosgEarth_1_1TerrainLayerOptions.html#ae1fd077446d87d31ff2c0d7ddad4a112" title="osgEarth::TerrainLayerOptions::profile" alt="" coords="1773,1117,2016,1146"/><area shape="rect" id="node114" href="classosgEarth_1_1TerrainLayer.html#a6e2d32e9af81bd8372dc7d2fe3942446" title="osgEarth::TerrainLayer::suggestCacheFormat" alt="" coords="1752,1170,2037,1199"/><area shape="rect" id="node84" href="classosgEarth_1_1VerticalSpatialReference.html#a9acfa96c19f41c37fe4ac55493440b44" title="osgEarth::VerticalSpatialReference::create" alt="" coords="2089,945,2359,974"/><area shape="rect" id="node97" href="classosgEarth_1_1SpatialReference.html#a6f0818e362f23b50606b0e4f66773da1" title="osgEarth::SpatialReference::create" alt="" coords="2111,1050,2337,1079"/><area shape="rect" id="node101" href="classosgEarth_1_1Profile.html#abd4572b378cfd1f2a671774e9650e5b1" title="osgEarth::Profile::Profile" alt="" coords="2143,771,2305,801"/><area shape="rect" id="node86" href="classosgEarth_1_1Geoid.html#a416fbcb1c9daf8a9380a1f427ad4649c" title="osgEarth::Geoid::getName" alt="" coords="2841,943,3017,973"/><area shape="rect" id="node88" href="classosgEarth_1_1VerticalSpatialReference.html#a2bbc5770a11ffef3e170ade273b9e935" title="osgEarth::VerticalSpatialReference::registerGeoid" alt="" coords="2443,918,2752,947"/><area shape="rect" id="node91" href="namespaceosgEarth.html#a4c5320dc9ca7ee620ce2262d72fff769" title="osgEarth::startsWith" alt="" coords="2527,1022,2668,1051"/><area shape="rect" id="node93" href="namespaceosgEarth.html#a2c3b7223f6314c9d36e643c231f9123f" title="osgEarth::toLower" alt="" coords="2533,811,2661,841"/><area shape="rect" id="node95" href="classosgEarth_1_1VerticalSpatialReference.html#ab87754166e414475d1e59130cc6a579f" title="osgEarth::VerticalSpatialReference::VerticalSpatialReference" alt="" coords="2408,865,2787,894"/><area shape="rect" id="node99" href="classosgEarth_1_1SpatialReference.html#a91d6f84d9ff109c35108dcd8c814f4d5" title="osgEarth::SpatialReference::createCube" alt="" coords="2469,1075,2725,1105"/></map>
</div>
</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_aff4f55389d999d345b4822eaf74cecf0_icgraph.png" border="0" usemap="#classosgEarth_1_1Map_aff4f55389d999d345b4822eaf74cecf0_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_aff4f55389d999d345b4822eaf74cecf0_icgraph" id="classosgEarth_1_1Map_aff4f55389d999d345b4822eaf74cecf0_icgraph">
<area shape="rect" id="node3" href="classEarthFileSerializer2.html#a768aaf0a191205dd694560c76e295d02" title="EarthFileSerializer2::deserialize" alt="" coords="259,5,464,35"/><area shape="rect" id="node7" href="classEarthFileSerializer1.html#a7c7d88a338ca50972b7009083db89200" title="EarthFileSerializer1::deserialize" alt="" coords="259,59,464,88"/><area shape="rect" id="node10" href="osgearth__composite_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="336,112,387,141"/><area shape="rect" id="node5" href="classReaderWriterEarth.html#acd6002b63309882f70304cf509c9bef9" title="ReaderWriterEarth::readNode" alt="" coords="512,32,707,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a67cc548269c2a28b55bbc4418398f3ce"></a><!-- doxytag: member="osgEarth::Map::addMapCallback" ref="a67cc548269c2a28b55bbc4418398f3ce" args="(MapCallback *callback) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::addMapCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structosgEarth_1_1MapCallback.html">MapCallback</a> *&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a map layer callback to this map. This will be notified whenever layers are added, removed, or re-ordered. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00321">321</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( cb )
        <span class="keyword">const_cast&lt;</span><a class="code" href="classosgEarth_1_1Map.html">Map</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.push_back( cb );
}
</pre></div>
<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a67cc548269c2a28b55bbc4418398f3ce_icgraph.png" border="0" usemap="#classosgEarth_1_1Map_a67cc548269c2a28b55bbc4418398f3ce_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a67cc548269c2a28b55bbc4418398f3ce_icgraph" id="classosgEarth_1_1Map_a67cc548269c2a28b55bbc4418398f3ce_icgraph">
<area shape="rect" id="node3" href="classOSGTerrainEngineNode.html#ade031eeced1cd505df571e1d8cc4fb2f" title="OSGTerrainEngineNode::postInitialize" alt="" coords="291,5,533,35"/><area shape="rect" id="node5" href="classseamless_1_1SeamlessEngineNode.html#a12d64651f9bb95bcb365d9a519465662" title="seamless::SeamlessEngineNode::preInitialize" alt="" coords="268,59,556,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa12f2741dd873872cf77fa487e84c915"></a><!-- doxytag: member="osgEarth::Map::addModelLayer" ref="aa12f2741dd873872cf77fa487e84c915" args="(ModelLayer *layer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::addModelLayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1ModelLayer.html">ModelLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a new model layer to the map. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00636">636</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( layer )
    {
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = -1;

        <a class="code" href="structosgEarth_1_1Revision.html">Revision</a> newRevision;
        {
            <a class="code" href="structosgEarth_1_1Threading_1_1ScopedWriteLock.html">Threading::ScopedWriteLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
            <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.push_back( layer );
                                                index = <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.size() - 1;
            newRevision = ++<a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
        }

        layer-&gt;<a class="code" href="classosgEarth_1_1ModelLayer.html#aeecbe7281d0d1e11fa2665e8ae0e40fb">initialize</a>( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73">referenceURI</a>().<a class="code" href="structosgEarth_1_1optional.html#ac10ed828e5fb151d8cabf856e1fc3d3e">get</a>(), this ); <span class="comment">//getReferenceURI(), this );        </span>

        <span class="comment">// a seprate block b/c we don&#39;t need the mutex</span>
        <span class="keywordflow">for</span>( MapCallbackList::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(); i++ )
        {
            i-&gt;get()-&gt;onMapModelChanged( <a class="code" href="structosgEarth_1_1MapModelChange.html">MapModelChange</a>(
                                                                <a class="code" href="structosgEarth_1_1MapModelChange.html#af25022d670929a5d72c1859060f81114a16ec3f7c4fdea607a678ec1d52906e28">MapModelChange::ADD_MODEL_LAYER</a>, newRevision, layer, index ) );
        }
    }
}
</pre></div>
<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_aa12f2741dd873872cf77fa487e84c915_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_aa12f2741dd873872cf77fa487e84c915_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_aa12f2741dd873872cf77fa487e84c915_cgraph" id="classosgEarth_1_1Map_aa12f2741dd873872cf77fa487e84c915_cgraph">
<area shape="rect" id="node3" href="structosgEarth_1_1optional.html#ac10ed828e5fb151d8cabf856e1fc3d3e" title="osgEarth::optional::get" alt="" coords="300,5,452,35"/><area shape="rect" id="node5" href="classosgEarth_1_1ModelLayer.html#aeecbe7281d0d1e11fa2665e8ae0e40fb" title="osgEarth::ModelLayer::initialize" alt="" coords="275,59,477,88"/><area shape="rect" id="node15" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73" title="osgEarth::MapOptions::referenceURI" alt="" coords="257,112,495,141"/><area shape="rect" id="node7" href="classosgEarth_1_1ModelSourceFactory.html#aa04ff59f6f44b8cffe06dbdc1d45c65f" title="osgEarth::ModelSourceFactory::create" alt="" coords="545,5,791,35"/><area shape="rect" id="node11" href="classosgEarth_1_1ModelLayerOptions.html#a0db8860b9fde151576402fa73ba513b8" title="osgEarth::ModelLayerOptions::driver" alt="" coords="551,59,785,88"/><area shape="rect" id="node13" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="585,112,751,141"/><area shape="rect" id="node9" href="classosgEarth_1_1DriverConfigOptions.html#ab989b270751800e8fca87b17fdc456bc" title="osgEarth::DriverConfigOptions::getDriver" alt="" coords="840,5,1101,35"/></map>
</div>
</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_aa12f2741dd873872cf77fa487e84c915_icgraph.png" border="0" usemap="#classosgEarth_1_1Map_aa12f2741dd873872cf77fa487e84c915_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_aa12f2741dd873872cf77fa487e84c915_icgraph" id="classosgEarth_1_1Map_aa12f2741dd873872cf77fa487e84c915_icgraph">
<area shape="rect" id="node3" href="classEarthFileSerializer2.html#a768aaf0a191205dd694560c76e295d02" title="EarthFileSerializer2::deserialize" alt="" coords="256,5,461,35"/><area shape="rect" id="node7" href="classEarthFileSerializer1.html#a7c7d88a338ca50972b7009083db89200" title="EarthFileSerializer1::deserialize" alt="" coords="256,59,461,88"/><area shape="rect" id="node10" href="osgearth__features_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="333,112,384,141"/><area shape="rect" id="node5" href="classReaderWriterEarth.html#acd6002b63309882f70304cf509c9bef9" title="ReaderWriterEarth::readNode" alt="" coords="509,32,704,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9c5dfa555fde481ba52efa7132783211"></a><!-- doxytag: member="osgEarth::Map::addTerrainMaskLayer" ref="a9c5dfa555fde481ba52efa7132783211" args="(MaskLayer *layer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::addTerrainMaskLayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1MaskLayer.html">MaskLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a new layer to use as a terrain mask. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00762">762</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( layer )
    {
        <a class="code" href="structosgEarth_1_1Revision.html">Revision</a> newRevision;
        {
            <a class="code" href="structosgEarth_1_1Threading_1_1ScopedWriteLock.html">Threading::ScopedWriteLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
            <a class="code" href="classosgEarth_1_1Map.html#af9f37d5d4be26a65eae5748b69a630e2">_terrainMaskLayers</a>.push_back(layer);
            newRevision = ++<a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
        }

        layer-&gt;<a class="code" href="classosgEarth_1_1MaskLayer.html#a79f7a8d051a2b2e410ea58d4ee7fc12d">initialize</a>( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73">referenceURI</a>().<a class="code" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820">value</a>(), this );

        <span class="comment">// a separate block b/c we don&#39;t need the mutex   </span>
        <span class="keywordflow">for</span>( MapCallbackList::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(); i++ )
        {
            i-&gt;get()-&gt;onMapModelChanged( <a class="code" href="structosgEarth_1_1MapModelChange.html">MapModelChange</a>(
                <a class="code" href="structosgEarth_1_1MapModelChange.html#af25022d670929a5d72c1859060f81114a1a2b82f545c90fdc15107b591cef3525">MapModelChange::ADD_MASK_LAYER</a>, newRevision, layer) );
        }
    }
}
</pre></div>
<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a9c5dfa555fde481ba52efa7132783211_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_a9c5dfa555fde481ba52efa7132783211_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a9c5dfa555fde481ba52efa7132783211_cgraph" id="classosgEarth_1_1Map_a9c5dfa555fde481ba52efa7132783211_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1MaskLayer.html#a79f7a8d051a2b2e410ea58d4ee7fc12d" title="osgEarth::MaskLayer::initialize" alt="" coords="313,59,513,88"/><area shape="rect" id="node13" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73" title="osgEarth::MapOptions::referenceURI" alt="" coords="295,112,532,141"/><area shape="rect" id="node15" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820" title="osgEarth::optional::value" alt="" coords="331,165,496,195"/><area shape="rect" id="node5" href="classosgEarth_1_1MaskSourceFactory.html#aa8d5486b3d73b7632c2c153c65c056d7" title="osgEarth::MaskSourceFactory::create" alt="" coords="581,5,824,35"/><area shape="rect" id="node9" href="classosgEarth_1_1MaskLayerOptions.html#aaa0c518dff8e5f2cf2e9f04e4aa06599" title="osgEarth::MaskLayerOptions::driver" alt="" coords="588,59,817,88"/><area shape="rect" id="node11" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="620,112,785,141"/><area shape="rect" id="node7" href="classosgEarth_1_1DriverConfigOptions.html#ab989b270751800e8fca87b17fdc456bc" title="osgEarth::DriverConfigOptions::getDriver" alt="" coords="872,5,1133,35"/></map>
</div>
</p>

<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a9c5dfa555fde481ba52efa7132783211_icgraph.png" border="0" usemap="#classosgEarth_1_1Map_a9c5dfa555fde481ba52efa7132783211_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a9c5dfa555fde481ba52efa7132783211_icgraph" id="classosgEarth_1_1Map_a9c5dfa555fde481ba52efa7132783211_icgraph">
<area shape="rect" id="node3" href="classEarthFileSerializer2.html#a768aaf0a191205dd694560c76e295d02" title="EarthFileSerializer2::deserialize" alt="" coords="293,5,499,35"/><area shape="rect" id="node7" href="classEarthFileSerializer1.html#a7c7d88a338ca50972b7009083db89200" title="EarthFileSerializer1::deserialize" alt="" coords="293,59,499,88"/><area shape="rect" id="node5" href="classReaderWriterEarth.html#acd6002b63309882f70304cf509c9bef9" title="ReaderWriterEarth::readNode" alt="" coords="547,32,741,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a63e65da3e4d6d60cab5f7d174e55a688"></a><!-- doxytag: member="osgEarth::Map::calculateProfile" ref="a63e65da3e4d6d60cab5f7d174e55a688" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::calculateProfile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00815">815</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.valid() )
    {
        osg::ref_ptr&lt;const Profile&gt; userProfile;
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#a59fec9e7a064f8b6d1ddff51e93e7273">profile</a>().<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() )
        {
            userProfile = <a class="code" href="classosgEarth_1_1Profile.html#a3d862455737d2b9f813a078f9ec22752">Profile::create</a>( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#a59fec9e7a064f8b6d1ddff51e93e7273">profile</a>().<a class="code" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820">value</a>() );
        }

        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#aed50a44017f7ed40f56855253cc027d0">coordSysType</a>() == <a class="code" href="classosgEarth_1_1MapOptions.html#a7729a762221a14c8c17d2f9c3fcc4b74a3119cef99248f128887179617f5f2841">MapOptions::CSTYPE_GEOCENTRIC</a> )
        {
            <span class="keywordflow">if</span> ( userProfile.valid() )
            {
                <span class="keywordflow">if</span> ( userProfile-&gt;isOK() &amp;&amp; userProfile-&gt;getSRS()-&gt;isGeographic() )
                {
                    <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a> = userProfile.get();
                }
                <span class="keywordflow">else</span>
                {
                    <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <a class="code" href="Map_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> 
                        &lt;&lt; <span class="stringliteral">&quot;Map is geocentric, but the configured profile does not &quot;</span>
                        &lt;&lt; <span class="stringliteral">&quot;have a geographic SRS. Falling back on default..&quot;</span>
                        &lt;&lt; std::endl;
                }
            }

            <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.valid() )
            {
                <span class="comment">// by default, set a geocentric map to use global-geodetic WGS84.</span>
                <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a> = <a class="code" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09">osgEarth::Registry::instance</a>()-&gt;<a class="code" href="classosgEarth_1_1Registry.html#aa347b00b8aa5b7db6cd4c52ee5d63d5e">getGlobalGeodeticProfile</a>();
            }
        }

        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#aed50a44017f7ed40f56855253cc027d0">coordSysType</a>() == <a class="code" href="classosgEarth_1_1MapOptions.html#a7729a762221a14c8c17d2f9c3fcc4b74a7f82de27d598f194f29064812a95b9c9">MapOptions::CSTYPE_GEOCENTRIC_CUBE</a> )
        {
            <span class="comment">//If the map type is a Geocentric Cube, set the profile to the cube profile.</span>
            <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a> = <a class="code" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09">osgEarth::Registry::instance</a>()-&gt;<a class="code" href="classosgEarth_1_1Registry.html#a5c8444bf03f422d1039bb6a8c5ab7519">getCubeProfile</a>();
        }

        <span class="keywordflow">else</span> <span class="comment">// CSTYPE_PROJECTED</span>
        {
            <span class="keywordflow">if</span> ( userProfile.valid() )
            {
                <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a> = userProfile.get();
            }
        }

        <span class="comment">// At this point, if we don&#39;t have a profile we need to search tile sources until we find one.</span>
        <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.valid() )
        {
            <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );

            <span class="keywordflow">for</span>( ImageLayerVector::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.end() &amp;&amp; !<a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.valid(); i++ )
            {
                <a class="code" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a>* layer = i-&gt;get();
                <span class="keywordflow">if</span> ( layer-&gt;<a class="code" href="classosgEarth_1_1TerrainLayer.html#a94efa05e40e34514a0255250850aa889">getTileSource</a>() )
                {
                    <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a> = layer-&gt;<a class="code" href="classosgEarth_1_1TerrainLayer.html#a94efa05e40e34514a0255250850aa889">getTileSource</a>()-&gt;<a class="code" href="classosgEarth_1_1TileSource.html#a3be10f31653dd2ed6ad6f0e5ff1f814f">getProfile</a>();
                }
            }

            <span class="keywordflow">for</span>( ElevationLayerVector::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.end() &amp;&amp; !<a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.valid(); i++ )
            {
                <a class="code" href="classosgEarth_1_1ElevationLayer.html">ElevationLayer</a>* layer = i-&gt;get();
                <span class="keywordflow">if</span> ( layer-&gt;<a class="code" href="classosgEarth_1_1TerrainLayer.html#a94efa05e40e34514a0255250850aa889">getTileSource</a>() )
                {
                    <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a> = layer-&gt;<a class="code" href="classosgEarth_1_1TerrainLayer.html#a94efa05e40e34514a0255250850aa889">getTileSource</a>()-&gt;<a class="code" href="classosgEarth_1_1TileSource.html#a3be10f31653dd2ed6ad6f0e5ff1f814f">getProfile</a>();
                }
            }
        }

        <span class="comment">// finally, fire an event if the profile has been set.</span>
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.valid() )
        {
            <a class="code" href="Notify.html#a47e8673ea1af7af40d431820bf3856fa">OE_INFO</a> &lt;&lt; <a class="code" href="Map_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Map profile is: &quot;</span> &lt;&lt; <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>-&gt;toString() &lt;&lt; std::endl;

            <span class="keywordflow">for</span>( MapCallbackList::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(); i++ )
            {
                i-&gt;get()-&gt;onMapInfoEstablished( <a class="code" href="classosgEarth_1_1MapInfo.html">MapInfo</a>(<span class="keyword">this</span>) );
            }
        }

        <span class="keywordflow">else</span>
        {
            <a class="code" href="Notify.html#a13b79c6470fc74594070bd2098afc9de">OE_WARN</a> &lt;&lt; <a class="code" href="Map_8cpp.html#aa499bb75bb504909cd0a72baf48c4653">LC</a> &lt;&lt; <span class="stringliteral">&quot;Warning, not yet able to establish a map profile!&quot;</span> &lt;&lt; std::endl;
        }
    }

    <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.valid() )
    {
        <span class="comment">// tell all the loaded layers what the profile is, as a hint</span>
        {
            <a class="code" href="structosgEarth_1_1Threading_1_1ScopedWriteLock.html">Threading::ScopedWriteLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );

            <span class="keywordflow">for</span>( ImageLayerVector::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.end(); i++ )
            {
                <a class="code" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a>* layer = i-&gt;get();
                layer-&gt;<a class="code" href="classosgEarth_1_1ImageLayer.html#a08fec3b68feea1922b60bbc8e993aa93">setTargetProfileHint</a>( <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.get() );
            }

            <span class="keywordflow">for</span>( ElevationLayerVector::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.end(); i++ )
            {
                <a class="code" href="classosgEarth_1_1ElevationLayer.html">ElevationLayer</a>* layer = i-&gt;get();
                layer-&gt;<a class="code" href="classosgEarth_1_1TerrainLayer.html#a8259fe83544eee15cd68fc739183025e">setTargetProfileHint</a>( <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.get() );
            }
        }
    }
}
</pre></div>
<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a63e65da3e4d6d60cab5f7d174e55a688_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_a63e65da3e4d6d60cab5f7d174e55a688_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a63e65da3e4d6d60cab5f7d174e55a688_cgraph" id="classosgEarth_1_1Map_a63e65da3e4d6d60cab5f7d174e55a688_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1MapOptions.html#aed50a44017f7ed40f56855253cc027d0" title="osgEarth::MapOptions::coordSysType" alt="" coords="277,379,520,408"/><area shape="rect" id="node5" href="classosgEarth_1_1Profile.html#a3d862455737d2b9f813a078f9ec22752" title="osgEarth::Profile::create" alt="" coords="1828,341,1991,371"/><area shape="rect" id="node38" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="2900,684,3087,713"/><area shape="rect" id="node69" href="classosgEarth_1_1Registry.html#a5c8444bf03f422d1039bb6a8c5ab7519" title="osgEarth::Registry::getCubeProfile" alt="" coords="287,929,511,959"/><area shape="rect" id="node71" href="classosgEarth_1_1Registry.html#aa347b00b8aa5b7db6cd4c52ee5d63d5e" title="osgEarth::Registry::getGlobalGeodeticProfile" alt="" coords="587,559,869,588"/><area shape="rect" id="node74" href="classosgEarth_1_1TileSource.html#a3be10f31653dd2ed6ad6f0e5ff1f814f" title="osgEarth::TileSource::getProfile" alt="" coords="296,983,501,1012"/><area shape="rect" id="node76" href="classosgEarth_1_1TerrainLayer.html#a94efa05e40e34514a0255250850aa889" title="osgEarth::TerrainLayer::getTileSource" alt="" coords="1184,635,1427,664"/><area shape="rect" id="node94" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="1827,875,1992,904"/><area shape="rect" id="node104" href="classosgEarth_1_1MapOptions.html#a59fec9e7a064f8b6d1ddff51e93e7273" title="osgEarth::MapOptions::profile" alt="" coords="301,1036,496,1065"/><area shape="rect" id="node106" href="classosgEarth_1_1TerrainLayer.html#a8259fe83544eee15cd68fc739183025e" title="osgEarth::TerrainLayer::setTargetProfileHint" alt="" coords="260,1089,537,1119"/><area shape="rect" id="node108" href="classosgEarth_1_1ImageLayer.html#a08fec3b68feea1922b60bbc8e993aa93" title="osgEarth::ImageLayer::setTargetProfileHint" alt="" coords="261,704,536,733"/><area shape="rect" id="node116" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820" title="osgEarth::optional::value" alt="" coords="316,1143,481,1172"/><area shape="rect" id="node7" href="classosgEarth_1_1VerticalSpatialReference.html#a9acfa96c19f41c37fe4ac55493440b44" title="osgEarth::VerticalSpatialReference::create" alt="" coords="2103,136,2372,165"/><area shape="rect" id="node20" href="classosgEarth_1_1SpatialReference.html#a6f0818e362f23b50606b0e4f66773da1" title="osgEarth::SpatialReference::create" alt="" coords="2124,375,2351,404"/><area shape="rect" id="node53" href="classosgEarth_1_1Profile.html#abd4572b378cfd1f2a671774e9650e5b1" title="osgEarth::Profile::Profile" alt="" coords="2156,684,2319,713"/><area shape="rect" id="node9" href="classosgEarth_1_1Geoid.html#a416fbcb1c9daf8a9380a1f427ad4649c" title="osgEarth::Geoid::getName" alt="" coords="2905,84,3081,113"/><area shape="rect" id="node11" href="classosgEarth_1_1VerticalSpatialReference.html#a2bbc5770a11ffef3e170ade273b9e935" title="osgEarth::VerticalSpatialReference::registerGeoid" alt="" coords="2456,109,2765,139"/><area shape="rect" id="node14" href="namespaceosgEarth.html#a4c5320dc9ca7ee620ce2262d72fff769" title="osgEarth::startsWith" alt="" coords="2540,5,2681,35"/><area shape="rect" id="node16" href="namespaceosgEarth.html#a2c3b7223f6314c9d36e643c231f9123f" title="osgEarth::toLower" alt="" coords="2547,163,2675,192"/><area shape="rect" id="node18" href="classosgEarth_1_1VerticalSpatialReference.html#ab87754166e414475d1e59130cc6a579f" title="osgEarth::VerticalSpatialReference::VerticalSpatialReference" alt="" coords="2421,216,2800,245"/><area shape="rect" id="node22" href="classosgEarth_1_1SpatialReference.html#a91d6f84d9ff109c35108dcd8c814f4d5" title="osgEarth::SpatialReference::createCube" alt="" coords="3188,477,3444,507"/><area shape="rect" id="node24" href="classosgEarth_1_1SpatialReference.html#ad4674227fe46613b3f5821109a509714" title="osgEarth::SpatialReference::init" alt="" coords="3555,477,3760,507"/><area shape="rect" id="node26" href="classosgEarth_1_1SpatialReference.html#a2d9cb8d1418187a640151fd728e12546" title="osgEarth::SpatialReference::createFromPROJ4" alt="" coords="2461,323,2760,352"/><area shape="rect" id="node30" href="classosgEarth_1_1SpatialReference.html#a28d916a87ed2653a5763bf8777cd9cbf" title="osgEarth::SpatialReference::transform" alt="" coords="3193,373,3439,403"/><area shape="rect" id="node33" href="classosgEarth_1_1SpatialReference.html#a350359a4aecf5fcb3c5cd0cda7678cbd" title="osgEarth::SpatialReference::createFromWKT" alt="" coords="2468,269,2753,299"/><area shape="rect" id="node36" href="classosgEarth_1_1SpatialReference.html#a1ce7bab196098591946294d17771c355" title="osgEarth::SpatialReference::getSpatialReferenceCache" alt="" coords="2437,632,2784,661"/><area shape="rect" id="node28" href="classosgEarth_1_1SpatialReference.html#ae27903c7c477c9f22b68ee71415888bf" title="osgEarth::SpatialReference::SpatialReference" alt="" coords="2848,323,3139,352"/><area shape="rect" id="node40" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="3223,684,3409,713"/><area shape="rect" id="node42" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="3493,711,3821,740"/><area shape="rect" id="node45" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="3545,764,3769,793"/><area shape="rect" id="node47" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="3536,604,3779,633"/><area shape="rect" id="node49" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="3535,657,3780,687"/><area shape="rect" id="node55" href="classosgEarth_1_1Registry.html#a5f57482206df285f0910c7756a19d0d2" title="osgEarth::Registry::getDefaultVSRS" alt="" coords="2493,736,2728,765"/><area shape="rect" id="node57" href="classosgEarth_1_1SpatialReference.html#a42fc6ea305be6b94340bf300d7b67dbe" title="osgEarth::SpatialReference::getGeographicSRS" alt="" coords="2460,528,2761,557"/><area shape="rect" id="node61" href="classosgEarth_1_1GeoExtent.html#a77766059cde5244c2bc309cfa50800c3" title="osgEarth::GeoExtent::getSRS" alt="" coords="2512,789,2709,819"/><area shape="rect" id="node64" href="classosgEarth_1_1SpatialReference.html#adfb00834f8d96146b119add7ec2c93a3" title="osgEarth::SpatialReference::isGeographic" alt="" coords="2860,581,3127,611"/><area shape="rect" id="node67" href="classosgEarth_1_1GeoExtent.html#a279160f409098609ad030cf7b3e7bf9d" title="osgEarth::GeoExtent::transform" alt="" coords="2508,843,2713,872"/><area shape="rect" id="node78" href="classosgEarth_1_1TerrainLayerOptions.html#a2eaa401b3dedfe09b1995b12194acd85" title="osgEarth::TerrainLayerOptions::cacheOnly" alt="" coords="1775,395,2044,424"/><area shape="rect" id="node80" href="classosgEarth_1_1TerrainLayer.html#ab070bc97ce845a6dd4a9e3bc8d610ee8" title="osgEarth::TerrainLayer::initTileSource" alt="" coords="1476,635,1716,664"/><area shape="rect" id="node82" href="classosgEarth_1_1TerrainLayerOptions.html#a8418e1ff33afb76c241144c1e1804992" title="osgEarth::TerrainLayerOptions::cacheFormat" alt="" coords="1768,768,2051,797"/><area shape="rect" id="node84" href="structosgEarth_1_1CacheSpec.html#a74395f8d7912eab234ba66e7537d7ba6" title="osgEarth::CacheSpec::cacheId" alt="" coords="1808,821,2011,851"/><area shape="rect" id="node88" href="classosgEarth_1_1TileSourceFactory.html#a56df79a1262c8b6cca64a121f60181d0" title="osgEarth::TileSourceFactory::create" alt="" coords="1793,448,2025,477"/><area shape="rect" id="node90" href="classosgEarth_1_1TerrainLayerOptions.html#a50caaefc27eb54a34b6ff5628c43c34f" title="osgEarth::TerrainLayerOptions::driver" alt="" coords="1791,501,2028,531"/><area shape="rect" id="node92" href="classosgEarth_1_1TerrainLayer.html#a55830499ac602f6f8dac06de5f81da2c" title="osgEarth::TerrainLayer::getName" alt="" coords="1803,555,2016,584"/><area shape="rect" id="node96" href="structosgEarth_1_1CacheSpec.html#aa0aeef925682e234f4684a59f7454406" title="osgEarth::CacheSpec::name" alt="" coords="1815,608,2004,637"/><area shape="rect" id="node98" href="classosgEarth_1_1TerrainLayerOptions.html#ae1fd077446d87d31ff2c0d7ddad4a112" title="osgEarth::TerrainLayerOptions::profile" alt="" coords="1788,661,2031,691"/><area shape="rect" id="node100" href="classosgEarth_1_1TerrainLayer.html#a6e2d32e9af81bd8372dc7d2fe3942446" title="osgEarth::TerrainLayer::suggestCacheFormat" alt="" coords="1767,715,2052,744"/><area shape="rect" id="node110" href="classosgEarth_1_1ImageLayer.html#a2adf54040ab69ee998f1202cd68198a8" title="osgEarth::ImageLayer::initPreCacheOp" alt="" coords="603,689,853,719"/><area shape="rect" id="node112" href="classosgEarth_1_1TerrainLayer.html#a8c3b22dfd214263aefe467b36b9d0828" title="osgEarth::TerrainLayer::getProfile" alt="" coords="919,635,1135,664"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a84a02a614b4b6ed8d2aceebb8a8593d9"></a><!-- doxytag: member="osgEarth::Map::getCache" ref="a84a02a614b4b6ed8d2aceebb8a8593d9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1Cache.html">Cache</a> * Map::getCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the <a class="el" href="classosgEarth_1_1Cache.html">Cache</a> for this <a class="el" href="classosgEarth_1_1Map.html">Map</a> </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00274">274</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1Map.html#a2f254f85b9cfcfabc96fb885dc0d6e5a">_cache</a>.valid() )
    {
        <a class="code" href="classosgEarth_1_1Cache.html">Cache</a>* cache = 0L;

        <span class="comment">// if there&#39;s a cache override in the registry, install it now.</span>
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09">osgEarth::Registry::instance</a>()-&gt;<a class="code" href="classosgEarth_1_1Registry.html#a061d3903e633b9abfafc38d6faa1590c">getCacheOverride</a>() )
        {
            cache = <a class="code" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09">osgEarth::Registry::instance</a>()-&gt;<a class="code" href="classosgEarth_1_1Registry.html#a061d3903e633b9abfafc38d6faa1590c">getCacheOverride</a>();
        }

        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab85de1d6b56f3bc365e8137d5d36f0d0">cache</a>().<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() )
        {
            cache = <a class="code" href="classosgEarth_1_1CacheFactory.html#a1bac5511c0d97cf20443a7a96ea6e324">CacheFactory::create</a>( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab85de1d6b56f3bc365e8137d5d36f0d0">cache</a>().<a class="code" href="structosgEarth_1_1optional.html#ac10ed828e5fb151d8cabf856e1fc3d3e">get</a>() );
        }

        <span class="keywordflow">if</span> ( cache )
        {
            <span class="keyword">const_cast&lt;</span><a class="code" href="classosgEarth_1_1Map.html">Map</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#a2340eb04005ed0caf43a554959a88294">setCache</a>( cache );
        }
    }
        <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#a2f254f85b9cfcfabc96fb885dc0d6e5a">_cache</a>.get();
}
</pre></div>
<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a84a02a614b4b6ed8d2aceebb8a8593d9_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_a84a02a614b4b6ed8d2aceebb8a8593d9_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a84a02a614b4b6ed8d2aceebb8a8593d9_cgraph" id="classosgEarth_1_1Map_a84a02a614b4b6ed8d2aceebb8a8593d9_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1MapOptions.html#ab85de1d6b56f3bc365e8137d5d36f0d0" title="osgEarth::MapOptions::cache" alt="" coords="249,5,444,35"/><area shape="rect" id="node5" href="classosgEarth_1_1CacheFactory.html#a1bac5511c0d97cf20443a7a96ea6e324" title="osgEarth::CacheFactory::create" alt="" coords="243,59,451,88"/><area shape="rect" id="node9" href="structosgEarth_1_1optional.html#ac10ed828e5fb151d8cabf856e1fc3d3e" title="osgEarth::optional::get" alt="" coords="271,112,423,141"/><area shape="rect" id="node11" href="classosgEarth_1_1Registry.html#a061d3903e633b9abfafc38d6faa1590c" title="osgEarth::Registry::getCacheOverride" alt="" coords="225,165,468,195"/><area shape="rect" id="node13" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="253,219,440,248"/><area shape="rect" id="node26" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="264,272,429,301"/><area shape="rect" id="node28" href="classosgEarth_1_1Map.html#a2340eb04005ed0caf43a554959a88294" title="osgEarth::Map::setCache" alt="" coords="261,325,432,355"/><area shape="rect" id="node7" href="classosgEarth_1_1DriverConfigOptions.html#ab989b270751800e8fca87b17fdc456bc" title="osgEarth::DriverConfigOptions::getDriver" alt="" coords="517,59,779,88"/><area shape="rect" id="node15" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="555,219,741,248"/><area shape="rect" id="node17" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="827,139,1155,168"/><area shape="rect" id="node20" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="879,192,1103,221"/><area shape="rect" id="node22" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="869,245,1112,275"/><area shape="rect" id="node24" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="868,299,1113,328"/><area shape="rect" id="node30" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73" title="osgEarth::MapOptions::referenceURI" alt="" coords="529,299,767,328"/><area shape="rect" id="node32" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820" title="osgEarth::optional::value" alt="" coords="565,352,731,381"/></map>
</div>
</p>

<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a84a02a614b4b6ed8d2aceebb8a8593d9_icgraph.png" border="0" usemap="#classosgEarth_1_1Map_a84a02a614b4b6ed8d2aceebb8a8593d9_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a84a02a614b4b6ed8d2aceebb8a8593d9_icgraph" id="classosgEarth_1_1Map_a84a02a614b4b6ed8d2aceebb8a8593d9_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Map.html#a0b9cb734082b8f3cf9b0d0918690c7bd" title="osgEarth::Map::addElevationLayer" alt="" coords="225,132,447,161"/><area shape="rect" id="node14" href="classosgEarth_1_1Map.html#aff4f55389d999d345b4822eaf74cecf0" title="osgEarth::Map::addImageLayer" alt="" coords="235,65,437,95"/><area shape="rect" id="node20" href="classosgEarth_1_1Map.html#ae7a1c99ec62a390e22cf9c37620f27e1" title="osgEarth::Map::insertImageLayer" alt="" coords="229,192,443,221"/><area shape="rect" id="node22" href="osgearth__seed_8cpp.html#af4b11f03092036dcc7d19e0eaf644e88" title="list" alt="" coords="317,272,355,301"/><area shape="rect" id="node32" href="osgearth__seed_8cpp.html#a5474eb5fe707f69df07bc3256c116324" title="purge" alt="" coords="309,432,363,461"/><area shape="rect" id="node5" href="classEarthFileSerializer2.html#a768aaf0a191205dd694560c76e295d02" title="EarthFileSerializer2::deserialize" alt="" coords="573,59,779,88"/><area shape="rect" id="node9" href="classEarthFileSerializer1.html#a7c7d88a338ca50972b7009083db89200" title="EarthFileSerializer1::deserialize" alt="" coords="573,112,779,141"/><area shape="rect" id="node12" href="osgearth__map_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="651,165,701,195"/><area shape="rect" id="node7" href="classReaderWriterEarth.html#acd6002b63309882f70304cf509c9bef9" title="ReaderWriterEarth::readNode" alt="" coords="904,85,1099,115"/><area shape="rect" id="node18" href="osgearth__composite_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="651,5,701,35"/><area shape="rect" id="node24" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#ac809b2ed223fa837dec5311909e63b43" title="osgEarth::Features::FeatureModelGraph::build" alt="" coords="531,219,821,248"/><area shape="rect" id="node26" href="classosgEarth_1_1Features_1_1FeatureTileSource.html#a80af978c5495abab5ab9779479162a07" title="osgEarth::Features::FeatureTileSource::createImage" alt="" coords="513,272,839,301"/><area shape="rect" id="node28" href="osgearth__seed_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="651,379,701,408"/><area shape="rect" id="node30" href="classosgEarth_1_1Features_1_1GeometryFeatureCursor.html#a8e1bbfce699cf352c8b984b1f84032c4" title="osgEarth::Features::GeometryFeatureCursor::nextFeature" alt="" coords="497,325,855,355"/><area shape="rect" id="node34" href="structLayerTable.html#ab73421eb54bab9384f8d086b5f3ed3dd" title="LayerTable::checkAndPurgeIfNeeded" alt="" coords="557,485,795,515"/><area shape="rect" id="node39" href="structLayerTable.html#a4bf3db12348df2b63f630a427a84e078" title="LayerTable::purge" alt="" coords="613,432,739,461"/><area shape="rect" id="node42" href="classSqlite3Cache.html#a90410529af647e1e89b7f538226bda8d" title="Sqlite3Cache::setImageSync" alt="" coords="580,539,772,568"/><area shape="rect" id="node36" href="classSqlite3Cache.html#aa929c5104c0260ec8e391457cd821b3b" title="Sqlite3Cache::purge" alt="" coords="932,459,1071,488"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a37cb6555685fd0a43cddf36b066ccc05"></a><!-- doxytag: member="osgEarth::Map::getDataModelRevision" ref="a37cb6555685fd0a43cddf36b066ccc05" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structosgEarth_1_1Revision.html">Revision</a> Map::getDataModelRevision </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the revision # of the map. The revision # changes every time you add, remove, or move layers. You can use this to track changes in the map model (as a alternative to installing a <a class="el" href="structosgEarth_1_1MapCallback.html">MapCallback</a>). </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00259">259</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a> lock( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0f6b0bf4ccbb9e0a4b4dd6a6ad18094e"></a><!-- doxytag: member="osgEarth::Map::getElevationLayerAt" ref="a0f6b0bf4ccbb9e0a4b4dd6a6ad18094e" args="(int index) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1ElevationLayer.html">ElevationLayer</a> * Map::getElevationLayerAt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets an elevation layer at the specified index. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00181">181</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a>( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">if</span> ( index &gt;= 0 &amp;&amp; index &lt; (<span class="keywordtype">int</span>)<a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.size() )
        <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>[index].<span class="keyword">get</span>();
    <span class="keywordflow">else</span>
        <span class="keywordflow">return</span> 0L;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aef8c0751adaf0f34591501ee5641f54a"></a><!-- doxytag: member="osgEarth::Map::getElevationLayerByName" ref="aef8c0751adaf0f34591501ee5641f54a" args="(const std::string &amp;name) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1ElevationLayer.html">ElevationLayer</a> * Map::getElevationLayerByName </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets an elevation layer by name. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00161">161</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a>( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">for</span>( ElevationLayerVector::const_iterator i = <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.end(); ++i )
        <span class="keywordflow">if</span> ( i-&gt;get()-&gt;getName() == name )
            <span class="keywordflow">return</span> i-&gt;get();
    <span class="keywordflow">return</span> 0L;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a172ea7e07e0391f6c77fda762624acd7"></a><!-- doxytag: member="osgEarth::Map::getElevationLayerByUID" ref="a172ea7e07e0391f6c77fda762624acd7" args="(UID layerUID) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1ElevationLayer.html">ElevationLayer</a> * Map::getElevationLayerByUID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceosgEarth.html#afc79b9a35ed940aaee797fde114b9801">UID</a>&#160;</td>
          <td class="paramname"><em>layerUID</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets an elevation layer by its unique ID. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00171">171</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a>( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">for</span>( ElevationLayerVector::const_iterator i = <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.end(); ++i )
        <span class="keywordflow">if</span> ( i-&gt;get()-&gt;getUID() == layerUID )
            <span class="keywordflow">return</span> i-&gt;get();
    <span class="keywordflow">return</span> 0L;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acb0f72abc9919e3f0e9911e4cf6203c2"></a><!-- doxytag: member="osgEarth::Map::getElevationLayers" ref="acb0f72abc9919e3f0e9911e4cf6203c2" args="(ElevationLayerVector &amp;out_layers, bool validLayersOnly=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Map::getElevationLayers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceosgEarth.html#ada107a5ca40a6c4bee7f4d2ffe615fcd">ElevationLayerVector</a> &amp;&#160;</td>
          <td class="paramname"><em>out_layers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>validLayersOnly</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies references of the elevation layers into the output list. This method is thread safe. It returns the map revision that was in effect when the data was copied. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00141">141</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    out_list.reserve( <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.size() );

    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a> lock( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">for</span>( ElevationLayerVector::const_iterator i = <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.end(); ++i )
        <span class="keywordflow">if</span> ( !validLayersOnly || i-&gt;get()-&gt;getProfile() )
            out_list.push_back( i-&gt;get() );

    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
}
</pre></div>
<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_acb0f72abc9919e3f0e9911e4cf6203c2_icgraph.png" border="0" usemap="#classosgEarth_1_1Map_acb0f72abc9919e3f0e9911e4cf6203c2_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_acb0f72abc9919e3f0e9911e4cf6203c2_icgraph" id="classosgEarth_1_1Map_acb0f72abc9919e3f0e9911e4cf6203c2_icgraph">
<area shape="rect" id="node3" href="classOSGTileFactory.html#a1533d71e8c0df619d1d9cbc236d20af9" title="OSGTileFactory::hasMoreLevels" alt="" coords="281,5,492,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aff6828d516163df32a7084d0bb7fc983"></a><!-- doxytag: member="osgEarth::Map::getGlobalOptions" ref="aff6828d516163df32a7084d0bb7fc983" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const osgDB::ReaderWriter::Options * Map::getGlobalOptions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the user-provided options structure stored in this map. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00081">81</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                            {
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#a402fdff2ca81de922d3652863951f672">_globalOptions</a>.get();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a007d4d86b22dc6ad4017831b944adbf7"></a><!-- doxytag: member="osgEarth::Map::getHeightField" ref="a007d4d86b22dc6ad4017831b944adbf7" args="(const TileKey &amp;key, bool fallback, osg::ref_ptr&lt; osg::HeightField &gt; &amp;out_hf, bool *out_isFallback=0L, ElevationInterpolation interpolation=INTERP_AVERAGE, ElevationSamplePolicy samplePolicy=SAMPLE_FIRST_VALID, ProgressCallback *progress=0) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Map::getHeightField </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1TileKey.html">TileKey</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">osg::ref_ptr&lt; osg::HeightField &gt; &amp;&#160;</td>
          <td class="paramname"><em>out_hf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>out_isFallback</em> = <code>0L</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ElevationInterpolation&#160;</td>
          <td class="paramname"><em>interpolation</em> = <code><a class="el" href="HeightFieldUtils.html#a8680962596afe586cceeb725c5397bad">INTERP_AVERAGE</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ElevationSamplePolicy&#160;</td>
          <td class="paramname"><em>samplePolicy</em> = <code><a class="el" href="HeightFieldUtils.html#a543eded95166caf021f1068869167d97">SAMPLE_FIRST_VALID</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1ProgressCallback.html">ProgressCallback</a> *&#160;</td>
          <td class="paramname"><em>progress</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a heightfield for the region covered by the given <a class="el" href="classosgEarth_1_1TileKey.html">TileKey</a>, falling back on lower resolutions if necessary.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td><a class="el" href="classTile.html">Tile</a> key defining the region (and ideal LOD) for which to return a heightfield </td></tr>
    <tr><td class="paramname">samplePolicy</td><td>See enum SamplePolicy in this class. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l01150">1150</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a> lock( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );

    <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02Map_8cpp_03.html#ad7b47bdac1bfab5aef1bddd9e7545edd">s_getHeightField</a>(
        key, <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>, <a class="code" href="classosgEarth_1_1Map.html#a7d4fe3351a35ece7b80316b8869a3b48">getProfile</a>(), fallback, 
        interpolation, samplePolicy, 
        out_result, out_isFallback,
        progress );
}
</pre></div>
<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a007d4d86b22dc6ad4017831b944adbf7_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_a007d4d86b22dc6ad4017831b944adbf7_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a007d4d86b22dc6ad4017831b944adbf7_cgraph" id="classosgEarth_1_1Map_a007d4d86b22dc6ad4017831b944adbf7_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Map.html#a7d4fe3351a35ece7b80316b8869a3b48" title="osgEarth::Map::getProfile" alt="" coords="333,1050,504,1079"/><area shape="rect" id="node5" href="namespaceanonymous__namespace_02Map_8cpp_03.html#ad7b47bdac1bfab5aef1bddd9e7545edd" title="anonymous_namespace\{Map::cpp\}::s_getHeightField" alt="" coords="253,1103,584,1132"/><area shape="rect" id="node7" href="classosgEarth_1_1ElevationLayer.html#a4f96d09e39960b527c417b0e672b3393" title="osgEarth::ElevationLayer::createHeightField" alt="" coords="683,686,960,715"/><area shape="rect" id="node21" href="classosgEarth_1_1TileKey.html#a44441e91bc4f46b997456786a0b749a4" title="osgEarth::TileKey::getExtent" alt="" coords="1760,343,1949,372"/><area shape="rect" id="node25" href="classosgEarth_1_1TerrainLayer.html#a8c3b22dfd214263aefe467b36b9d0828" title="osgEarth::TerrainLayer::getProfile" alt="" coords="1445,656,1661,686"/><area shape="rect" id="node39" href="classosgEarth_1_1Profile.html#a51ec4bfed483574305760252382a2b80" title="osgEarth::Profile::getVerticalSRS" alt="" coords="1445,1232,1661,1262"/><area shape="rect" id="node44" href="classosgEarth_1_1TileKey.html#a0ee6b25bbae560dda11987ac1e9dc69d" title="osgEarth::TileKey::getLevelOfDetail" alt="" coords="1740,500,1969,530"/><area shape="rect" id="node50" href="classosgEarth_1_1GeoExtent.html#afa0bd831daf0541cbbb161763ed9291f" title="osgEarth::GeoExtent::getBounds" alt="" coords="1109,1023,1323,1052"/><area shape="rect" id="node64" href="classosgEarth_1_1GeoExtent.html#a77766059cde5244c2bc309cfa50800c3" title="osgEarth::GeoExtent::getSRS" alt="" coords="1117,1180,1315,1210"/><area shape="rect" id="node74" href="classosgEarth_1_1TileKey.html#a71ee8076e4558c15c9499b3b1993944f" title="osgEarth::TileKey::valid" alt="" coords="1473,395,1633,424"/><area shape="rect" id="node79" href="classosgEarth_1_1GeoHeightField.html#afe0f5de783999fec164c48852f8a708b" title="osgEarth::GeoHeightField::takeHeightField" alt="" coords="1081,1076,1351,1106"/><area shape="rect" id="node83" href="classosgEarth_1_1TileKey.html#a4b0740ba2a5f0d536566f10d6e38ec36" title="osgEarth::TileKey::createParentKey" alt="" coords="707,1474,936,1503"/><area shape="rect" id="node87" href="classosgEarth_1_1GeoHeightField.html#acb3bb34c9a60038685de8723084422a1" title="osgEarth::GeoHeightField::createSubSample" alt="" coords="680,1340,963,1370"/><area shape="rect" id="node102" href="classosgEarth_1_1GeoHeightField.html#a69cd23edf51596764b79e6985e609874" title="osgEarth::GeoHeightField::getElevation" alt="" coords="696,1420,947,1450"/><area shape="rect" id="node121" href="classosgEarth_1_1TerrainLayer.html#a02f9aaac89492153b97433acddaaf915" title="osgEarth::TerrainLayer::getEnabled" alt="" coords="708,1527,935,1556"/><area shape="rect" id="node128" href="structosgEarth_1_1ReplaceInvalidDataOperator.html#ae03a895aa3dffc8e76ad752f2fedc2d7" title="osgEarth::ReplaceInvalidDataOperator::setValidDataOperator" alt="" coords="632,1580,1011,1610"/><area shape="rect" id="node9" href="classosgEarth_1_1TerrainLayerOptions.html#a3e25ced92475376f2b5117af076dbb0e" title="osgEarth::TerrainLayerOptions::cacheEnabled" alt="" coords="1072,500,1360,530"/><area shape="rect" id="node11" href="classosgEarth_1_1ElevationLayer.html#addfadc579d13e356c6a9ec6585a629f7" title="osgEarth::ElevationLayer::createGeoHeightField" alt="" coords="1065,815,1367,844"/><area shape="rect" id="node23" href="classosgEarth_1_1TerrainLayer.html#a55830499ac602f6f8dac06de5f81da2c" title="osgEarth::TerrainLayer::getName" alt="" coords="2343,1079,2556,1108"/><area shape="rect" id="node29" href="classosgEarth_1_1TerrainLayer.html#a94efa05e40e34514a0255250850aa889" title="osgEarth::TerrainLayer::getTileSource" alt="" coords="1733,1027,1976,1056"/><area shape="rect" id="node48" href="classosgEarth_1_1TileKey.html#aff6a958d86c7ac9a6300e0d9fa8aa72c" title="osgEarth::TileKey::str" alt="" coords="1479,448,1628,478"/><area shape="rect" id="node53" href="classosgEarth_1_1Profile.html#adbc4bb3e15675c7b570820195b741abe" title="osgEarth::Profile::getIntersectingTiles" alt="" coords="1096,242,1336,271"/><area shape="rect" id="node56" href="classosgEarth_1_1TileKey.html#a3e50d16b9f2702e5d1008278a10ac6ae" title="osgEarth::TileKey::getProfile" alt="" coords="1459,187,1648,216"/><area shape="rect" id="node58" href="classosgEarth_1_1Profile.html#a974f5e0d0adcea82a5871eb39282d53f" title="osgEarth::Profile::isEquivalentTo" alt="" coords="1447,291,1660,320"/><area shape="rect" id="node67" href="classosgEarth_1_1TerrainLayer.html#a5adea8725e5958108243ab7c0e69edcd" title="osgEarth::TerrainLayer::isCacheOnly" alt="" coords="1097,554,1335,583"/><area shape="rect" id="node70" href="classosgEarth_1_1TerrainLayer.html#a3e2acf7ab5d8ac1ce8b6bb25ccfcdd79" title="osgEarth::TerrainLayer::isKeyValid" alt="" coords="1104,607,1328,636"/><area shape="rect" id="node76" href="classosgEarth_1_1TileSource.html#a083e837ba25042d44b31b0567e26ac32" title="osgEarth::TileSource::isOK" alt="" coords="1125,660,1307,690"/><area shape="rect" id="node81" href="classosgEarth_1_1GeoHeightField.html#a1ec82037a9f16b971ef46291cb7c172a" title="osgEarth::GeoHeightField::valid" alt="" coords="1113,868,1319,898"/><area shape="rect" id="node13" href="classosgEarth_1_1TileBlacklist.html#a17ba3778fe6836d00cda30aa9ac55b34" title="osgEarth::TileBlacklist::add" alt="" coords="1463,870,1644,899"/><area shape="rect" id="node15" href="classosgEarth_1_1TileBlacklist.html#a3770842472eef897eb18e98bda49216a" title="osgEarth::TileBlacklist::contains" alt="" coords="1448,923,1659,952"/><area shape="rect" id="node17" href="classosgEarth_1_1TileSource.html#af76d4ecf126c2d1e287c31cba3d1bae3" title="osgEarth::TileSource::createHeightField" alt="" coords="1427,976,1680,1006"/><area shape="rect" id="node19" href="classosgEarth_1_1TileSource.html#a7b1e251d3df3d15ba2e2872fdc05d0df" title="osgEarth::TileSource::getBlacklist" alt="" coords="1444,710,1663,739"/><area shape="rect" id="node36" href="classosgEarth_1_1TileKey.html#a0cd9a498339c25af48a8342017940d69" title="osgEarth::TileKey::getTileId" alt="" coords="1461,816,1645,846"/><area shape="rect" id="node41" href="classosgEarth_1_1TileSource.html#a1e6a2c6a1d70473c54432886d9db35ad" title="osgEarth::TileSource::hasData" alt="" coords="1453,603,1653,632"/><area shape="rect" id="node46" href="classosgEarth_1_1ProgressCallback.html#abe0f8bf93f93716f3aad268c0fe4c1e7" title="osgEarth::ProgressCallback::isCanceled" alt="" coords="1424,763,1683,792"/><area shape="rect" id="node27" href="classosgEarth_1_1TerrainLayerOptions.html#a2eaa401b3dedfe09b1995b12194acd85" title="osgEarth::TerrainLayerOptions::cacheOnly" alt="" coords="2315,975,2584,1004"/><area shape="rect" id="node32" href="classosgEarth_1_1TerrainLayer.html#ab070bc97ce845a6dd4a9e3bc8d610ee8" title="osgEarth::TerrainLayer::initTileSource" alt="" coords="2025,1027,2265,1056"/><area shape="rect" id="node85" href="classosgEarth_1_1TileKey.html#a20ff137204ea7b91598b5a1b3ca21126" title="osgEarth::TileKey::TileKey" alt="" coords="1127,1818,1305,1847"/><area shape="rect" id="node89" href="classosgEarth_1_1GeoHeightField.html#ae973543963c8aee9f01383db20b78524" title="osgEarth::GeoHeightField::GeoHeightField" alt="" coords="1081,1234,1351,1263"/><area shape="rect" id="node91" href="classosgEarth_1_1HeightFieldUtils.html#a4105a355e751cf6c15e11341ec3bae71" title="osgEarth::HeightFieldUtils::getHeightAtLocation" alt="" coords="1065,1340,1367,1370"/><area shape="rect" id="node93" href="classosgEarth_1_1GeoExtent.html#a9ed09180cbcdd15321ced7b24f4c4c9d" title="osgEarth::GeoExtent::height" alt="" coords="1123,1394,1309,1423"/><area shape="rect" id="node95" href="classosgEarth_1_1GeoExtent.html#a1161940ef6756ba732ff7fc7da21db2d" title="osgEarth::GeoExtent::width" alt="" coords="1125,1447,1307,1476"/><area shape="rect" id="node97" href="classosgEarth_1_1GeoExtent.html#ac421fa06a19aac8423f81ca35c4f507b" title="osgEarth::GeoExtent::xMin" alt="" coords="1127,1500,1305,1530"/><area shape="rect" id="node99" href="classosgEarth_1_1GeoExtent.html#a7d9c1d5fc6c411bb01964350dcb48a8c" title="osgEarth::GeoExtent::yMin" alt="" coords="1127,1287,1305,1316"/><area shape="rect" id="node104" href="classosgEarth_1_1VerticalSpatialReference.html#a3132c1f0e80a0fc643f5ba5af619d21a" title="osgEarth::VerticalSpatialReference::canTransform" alt="" coords="1059,1714,1373,1743"/><area shape="rect" id="node106" href="classosgEarth_1_1GeoExtent.html#aee6715804d02b8467ace54bd77d93681" title="osgEarth::GeoExtent::contains" alt="" coords="1116,1554,1316,1583"/><area shape="rect" id="node108" href="classosgEarth_1_1SpatialReference.html#a8ac8eb28a1c629d9c7522096310311db" title="osgEarth::SpatialReference::transform2D" alt="" coords="1423,1659,1684,1688"/><area shape="rect" id="node110" href="classosgEarth_1_1SpatialReference.html#a42fc6ea305be6b94340bf300d7b67dbe" title="osgEarth::SpatialReference::getGeographicSRS" alt="" coords="1065,1607,1367,1636"/><area shape="rect" id="node115" href="classosgEarth_1_1SpatialReference.html#adfb00834f8d96146b119add7ec2c93a3" title="osgEarth::SpatialReference::isGeographic" alt="" coords="1083,1660,1349,1690"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a44c078b3afc98ea99664af30ff7f83d4"></a><!-- doxytag: member="osgEarth::Map::getImageLayerAt" ref="a44c078b3afc98ea99664af30ff7f83d4" args="(int index) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a> * Map::getImageLayerAt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets an image layer at the specified index. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00131">131</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a>( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">if</span> ( index &gt;= 0 &amp;&amp; index &lt; (<span class="keywordtype">int</span>)<a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.size() )
        <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>[index].<span class="keyword">get</span>();
    <span class="keywordflow">else</span>
        <span class="keywordflow">return</span> 0L;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae2e5334b2e181025d45f7601a929bbf0"></a><!-- doxytag: member="osgEarth::Map::getImageLayerByName" ref="ae2e5334b2e181025d45f7601a929bbf0" args="(const std::string &amp;name) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a> * Map::getImageLayerByName </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets an image layer by name. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00111">111</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a>( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">for</span>( ImageLayerVector::const_iterator i = <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.end(); ++i )
        <span class="keywordflow">if</span> ( i-&gt;get()-&gt;getName() == name )
            <span class="keywordflow">return</span> i-&gt;get();
    <span class="keywordflow">return</span> 0L;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a62f88a2a8403a3283ec0d15c4105d56f"></a><!-- doxytag: member="osgEarth::Map::getImageLayerByUID" ref="a62f88a2a8403a3283ec0d15c4105d56f" args="(UID layerUID) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a> * Map::getImageLayerByUID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceosgEarth.html#afc79b9a35ed940aaee797fde114b9801">UID</a>&#160;</td>
          <td class="paramname"><em>layerUID</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets an image layer by its unique ID. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00121">121</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a>( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">for</span>( ImageLayerVector::const_iterator i = <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.end(); ++i )
        <span class="keywordflow">if</span> ( i-&gt;get()-&gt;getUID() == layerUID )
            <span class="keywordflow">return</span> i-&gt;get();
    <span class="keywordflow">return</span> 0L;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab546d2b91a4d909de22abe3bebbe2945"></a><!-- doxytag: member="osgEarth::Map::getImageLayers" ref="ab546d2b91a4d909de22abe3bebbe2945" args="(ImageLayerVector &amp;out_layers, bool validLayersOnly=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Map::getImageLayers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceosgEarth.html#a735aaffdcba342668743fbcf18779cd7">ImageLayerVector</a> &amp;&#160;</td>
          <td class="paramname"><em>out_layers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>validLayersOnly</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies references of the map image layers into the output list. This method is thread safe. It returns the map revision that was in effect when the data was copied. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00091">91</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    out_list.reserve( <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.size() );

    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a> lock( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">for</span>( ImageLayerVector::const_iterator i = <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.end(); ++i )
        <span class="keywordflow">if</span> ( !validLayersOnly || i-&gt;get()-&gt;getProfile() )
            out_list.push_back( i-&gt;get() );

    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
}
</pre></div>
<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_ab546d2b91a4d909de22abe3bebbe2945_icgraph.png" border="0" usemap="#classosgEarth_1_1Map_ab546d2b91a4d909de22abe3bebbe2945_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_ab546d2b91a4d909de22abe3bebbe2945_icgraph" id="classosgEarth_1_1Map_ab546d2b91a4d909de22abe3bebbe2945_icgraph">
<area shape="rect" id="node3" href="classOSGTileFactory.html#a1533d71e8c0df619d1d9cbc236d20af9" title="OSGTileFactory::hasMoreLevels" alt="" coords="263,5,473,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a693567c847af460f6934b0fdb9242ab2"></a><!-- doxytag: member="osgEarth::Map::getMapOptions" ref="a693567c847af460f6934b0fdb9242ab2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classosgEarth_1_1MapOptions.html">MapOptions</a>&amp; osgEarth::Map::getMapOptions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the optons with which this map was created. </p>

<p>Definition at line <a class="el" href="Map_source.html#l00124">124</a> of file <a class="el" href="Map_source.html">Map</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>; }
</pre></div>
<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a693567c847af460f6934b0fdb9242ab2_icgraph.png" border="0" usemap="#classosgEarth_1_1Map_a693567c847af460f6934b0fdb9242ab2_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a693567c847af460f6934b0fdb9242ab2_icgraph" id="classosgEarth_1_1Map_a693567c847af460f6934b0fdb9242ab2_icgraph">
<area shape="rect" id="node3" href="classseamless_1_1SeamlessEngineNode.html#aeaba3dc8c364c86aa9de8d24a226064e" title="seamless::SeamlessEngineNode::onMapProfileEstablished" alt="" coords="257,5,623,35"/><area shape="rect" id="node7" href="classosgEarth_1_1CacheSeed.html#abeac486824e4e45a61096b279e93b65e" title="osgEarth::CacheSeed::seed" alt="" coords="347,59,533,88"/><area shape="rect" id="node13" href="classEarthFileSerializer2.html#a276faeb62aacdd59653b527d4fdab154" title="EarthFileSerializer2::serialize" alt="" coords="345,112,535,141"/><area shape="rect" id="node5" href="classseamless_1_1SeamlessEngineNode.html#a12d64651f9bb95bcb365d9a519465662" title="seamless::SeamlessEngineNode::preInitialize" alt="" coords="673,5,961,35"/><area shape="rect" id="node9" href="osgearth__seed_8cpp.html#ab778b2c4948eabbbdb75cb4f3f92b9ca" title="seed" alt="" coords="792,59,843,88"/><area shape="rect" id="node11" href="osgearth__seed_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1011,59,1061,88"/><area shape="rect" id="node15" href="classReaderWriterEarth.html#a6cf10dbc47aa3c627e51f6f3d76536ed" title="ReaderWriterEarth::writeNode" alt="" coords="719,112,916,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5c85f9e7df949586c9b437c3b0a6edf0"></a><!-- doxytag: member="osgEarth::Map::getModelLayerAt" ref="a5c85f9e7df949586c9b437c3b0a6edf0" args="(int index) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1ModelLayer.html">ModelLayer</a> * Map::getModelLayerAt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the model layer at the specified index. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00225">225</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a>( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">if</span> ( index &gt;= 0 &amp;&amp; index &lt; (<span class="keywordtype">int</span>)<a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.size() )
        <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>[index].<span class="keyword">get</span>();
    <span class="keywordflow">else</span>
        <span class="keywordflow">return</span> 0L;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9752c28e110230a4ecf6386677624c34"></a><!-- doxytag: member="osgEarth::Map::getModelLayerByName" ref="a9752c28e110230a4ecf6386677624c34" args="(const std::string &amp;name) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1ModelLayer.html">ModelLayer</a> * Map::getModelLayerByName </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets a model layer by name. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00204">204</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a>( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">for</span>( ModelLayerVector::const_iterator i = <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.end(); ++i )
        <span class="keywordflow">if</span> ( i-&gt;get()-&gt;getName() == name )
            <span class="keywordflow">return</span> i-&gt;get();
    <span class="keywordflow">return</span> 0L;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3bfd5043b53394c445947448c587c7b2"></a><!-- doxytag: member="osgEarth::Map::getModelLayerByUID" ref="a3bfd5043b53394c445947448c587c7b2" args="(UID layerUID) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1ModelLayer.html">ModelLayer</a> * Map::getModelLayerByUID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceosgEarth.html#afc79b9a35ed940aaee797fde114b9801">UID</a>&#160;</td>
          <td class="paramname"><em>layerUID</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets a model layer by its unique ID. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00214">214</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a>( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">for</span>( ModelLayerVector::const_iterator i = <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.end(); ++i )
        <span class="keywordflow">if</span> ( i-&gt;get()-&gt;getUID() == layerUID )
            <span class="keywordflow">return</span> i-&gt;get();
    <span class="keywordflow">return</span> 0L;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a10f9fedf7dc40383660f448c35642d47"></a><!-- doxytag: member="osgEarth::Map::getModelLayers" ref="a10f9fedf7dc40383660f448c35642d47" args="(ModelLayerVector &amp;out_layers, bool validLayersOnly=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Map::getModelLayers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceosgEarth.html#adcc0d64f72608dae97e167f6b5b5297f">ModelLayerVector</a> &amp;&#160;</td>
          <td class="paramname"><em>out_layers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>validLayersOnly</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies references of the model layers into the output list. This method is thread safe. It returns the map revision that was in effect when the data was copied. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00191">191</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    out_list.reserve( <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.size() );

    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a> lock( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">for</span>( ModelLayerVector::const_iterator i = <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.end(); ++i )
        <span class="comment">//if ( !validLayersOnly || i-&gt;get()-&gt;i-&gt;get()-&gt;getProfile() )</span>
            out_list.push_back( i-&gt;get() );

    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a717f1d4b6a65ac5cfc03c358c08db2db"></a><!-- doxytag: member="osgEarth::Map::getName" ref="a717f1d4b6a65ac5cfc03c358c08db2db" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; osgEarth::Map::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the readable name of this map. </p>

<p>Definition at line <a class="el" href="Map_source.html#l00309">309</a> of file <a class="el" href="Map_source.html">Map</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#a44e63e4f1f0372cdc343028e2f8c3cbd">_name</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="a993075c480c5649d758f94a2ebd4d754"></a><!-- doxytag: member="osgEarth::Map::getNumElevationLayers" ref="a993075c480c5649d758f94a2ebd4d754" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Map::getNumElevationLayers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the number of elevation layers in the map. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00154">154</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a> lock( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.size();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8c654fea8c7c150a08c089ce7c3ef464"></a><!-- doxytag: member="osgEarth::Map::getNumImageLayers" ref="a8c654fea8c7c150a08c089ce7c3ef464" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Map::getNumImageLayers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the number of image layers in the map. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00104">104</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a> lock( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.size();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a49671b77a9a7bb9ee960944d550148a9"></a><!-- doxytag: member="osgEarth::Map::getNumModelLayers" ref="a49671b77a9a7bb9ee960944d550148a9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Map::getNumModelLayers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the number of model layers in the map. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00235">235</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a> lock( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.size();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7d4fe3351a35ece7b80316b8869a3b48"></a><!-- doxytag: member="osgEarth::Map::getProfile" ref="a7d4fe3351a35ece7b80316b8869a3b48" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classosgEarth_1_1Profile.html">Profile</a> * Map::getProfile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the map's master profile. This value may not be available until after autoCalculateProfile has been called. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00266">266</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( !<a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.valid() )
        const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;calculateProfile();
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.get();
}
</pre></div>
<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a7d4fe3351a35ece7b80316b8869a3b48_icgraph.png" border="0" usemap="#classosgEarth_1_1Map_a7d4fe3351a35ece7b80316b8869a3b48_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a7d4fe3351a35ece7b80316b8869a3b48_icgraph" id="classosgEarth_1_1Map_a7d4fe3351a35ece7b80316b8869a3b48_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Util_1_1AutoClipPlaneHandler.html#a7025461c0cd553bbca710639215e5966" title="osgEarth::Util::AutoClipPlaneHandler::AutoClipPlaneHandler" alt="" coords="239,5,612,35"/><area shape="rect" id="node5" href="structKML__NetworkLink.html#aff646fc62d507151571453664d8e81c0" title="KML_NetworkLink::build" alt="" coords="344,59,507,88"/><area shape="rect" id="node7" href="classosgEarth_1_1Util_1_1Annotation_1_1CircleNode.html#aed0aaabea5e3687bdab1f06b6fe72698" title="osgEarth::Util::Annotation::CircleNode::CircleNode" alt="" coords="267,112,584,141"/><area shape="rect" id="node9" href="classosgEarth_1_1Util_1_1Annotation_1_1EllipseNode.html#a481f52ee32ee3adff9d647a47342c2ad" title="osgEarth::Util::Annotation::EllipseNode::EllipseNode" alt="" coords="261,165,589,195"/><area shape="rect" id="node11" href="classosgEarth_1_1Map.html#a007d4d86b22dc6ad4017831b944adbf7" title="osgEarth::Map::getHeightField" alt="" coords="327,219,524,248"/><area shape="rect" id="node13" href="classosgEarth_1_1Util_1_1EarthManipulator.html#a5194c54a67ca8c18227014cb5a5c6832" title="osgEarth::Util::EarthManipulator::getSRS" alt="" coords="295,272,556,301"/><area shape="rect" id="node56" href="classosgEarth_1_1Util_1_1Graticule.html#a8dd0af0a47f490fba6a16af0b1f028c1" title="osgEarth::Util::Graticule::Graticule" alt="" coords="315,325,536,355"/><area shape="rect" id="node58" href="osgearth__annotation_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="400,379,451,408"/><area shape="rect" id="node62" href="namespaceseamless_1_1anonymous__namespace_02Projected_8cpp_03.html#aa039781d785e3ac8118959d9a7cf57b6" title="seamless::anonymous_namespace\{Projected::cpp\}::makeTileKey" alt="" coords="224,432,627,461"/><area shape="rect" id="node66" href="classseamless_1_1SeamlessEngineNode.html#a12d64651f9bb95bcb365d9a519465662" title="seamless::SeamlessEngineNode::preInitialize" alt="" coords="281,485,569,515"/><area shape="rect" id="node68" href="classosgEarth_1_1CacheSeed.html#abeac486824e4e45a61096b279e93b65e" title="osgEarth::CacheSeed::seed" alt="" coords="332,539,519,568"/><area shape="rect" id="node74" href="classosgEarth_1_1Util_1_1SkyNode.html#a3ccc8e3c54f55d9a4e8a554265c97f3f" title="osgEarth::Util::SkyNode::SkyNode" alt="" coords="312,592,539,621"/><area shape="rect" id="node15" href="classosgEarth_1_1Util_1_1EarthManipulator.html#a29b0e7356c6f72e6e1e0926286f6644d" title="osgEarth::Util::EarthManipulator::getViewpoint" alt="" coords="675,220,965,249"/><area shape="rect" id="node21" href="classosgEarth_1_1Util_1_1EarthManipulator.html#aec1cf71c46c5fb638c38b09f284857ed" title="osgEarth::Util::EarthManipulator::handlePointAction" alt="" coords="1353,431,1673,460"/><area shape="rect" id="node25" href="classosgEarth_1_1Util_1_1EarthManipulator.html#af2d299a4e7a689feeede98cd994a47d1" title="osgEarth::Util::EarthManipulator::setViewpoint" alt="" coords="1013,221,1304,251"/><area shape="rect" id="node17" href="classosgEarth_1_1Util_1_1EarthManipulator.html#ae51e752032a892b33b961c99955ecba0" title="osgEarth::Util::EarthManipulator::applySettings" alt="" coords="1367,63,1660,92"/><area shape="rect" id="node19" href="structViewpointHandler.html#a6448e208a16dd48fc51bef27440fedeb" title="ViewpointHandler::handle" alt="" coords="1428,116,1599,145"/><area shape="rect" id="node23" href="classosgEarth_1_1Util_1_1EarthManipulator.html#a11a833833f8e0f2f44aec92ad02ac77b" title="osgEarth::Util::EarthManipulator::handle" alt="" coords="2119,300,2372,329"/><area shape="rect" id="node28" href="classosgEarth_1_1Util_1_1EarthManipulator.html#ad9774a7b32221362485e0ba101f2ec07" title="osgEarth::Util::EarthManipulator::established" alt="" coords="1372,169,1655,199"/><area shape="rect" id="node38" href="classosgEarth_1_1Util_1_1EarthManipulator.html#a19e9021a3bfe4666a99d93d46e7fdd90" title="osgEarth::Util::EarthManipulator::handleAction" alt="" coords="1368,273,1659,303"/><area shape="rect" id="node49" href="structClickViewpointHandler.html#abab423a63328f7f47c18faa49b63e6c1" title="ClickViewpointHandler::onClick" alt="" coords="1411,377,1616,407"/><area shape="rect" id="node51" href="classosgEarth_1_1Util_1_1EarthManipulator.html#a9b7b6ff45e91f68f7fdcfcdb952e9ffe" title="osgEarth::Util::EarthManipulator::updateSetViewpoint" alt="" coords="1731,167,2061,196"/><area shape="rect" id="node31" href="classosgEarth_1_1Util_1_1EarthManipulator.html#ac04e4204ab79440f3ea56a6551e55597" title="osgEarth::Util::EarthManipulator::setNode" alt="" coords="1764,63,2028,92"/><area shape="rect" id="node33" href="osgearth__manip_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="2220,63,2271,92"/><area shape="rect" id="node40" href="classosgEarth_1_1Util_1_1EarthManipulator.html#a0afaa40b97ffb5ee1e0230d4f3aa1ae6" title="osgEarth::Util::EarthManipulator::handleKeyboardAction" alt="" coords="1723,327,2069,356"/><area shape="rect" id="node43" href="classosgEarth_1_1Util_1_1EarthManipulator.html#ab905cbb14296f91dc589ea2c9d678d82" title="osgEarth::Util::EarthManipulator::handleScrollAction" alt="" coords="1735,273,2057,303"/><area shape="rect" id="node46" href="classosgEarth_1_1Util_1_1EarthManipulator.html#a63a858684745302754400851c1718478" title="osgEarth::Util::EarthManipulator::home" alt="" coords="1772,220,2020,249"/><area shape="rect" id="node60" href="osgearth__viewer_8cpp.html#af13a68596b38f2660f1cef8e18b71e29" title="createControlPanel" alt="" coords="753,379,887,408"/><area shape="rect" id="node64" href="classseamless_1_1Projected.html#a3e7a91e57257d0352905789ac8f96596" title="seamless::Projected::createPatch" alt="" coords="711,432,929,461"/><area shape="rect" id="node70" href="osgearth__seed_8cpp.html#ab778b2c4948eabbbdb75cb4f3f92b9ca" title="seed" alt="" coords="795,539,845,568"/><area shape="rect" id="node72" href="osgearth__seed_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1133,539,1184,568"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a594ff9dfe41412fee6e4d2f051a5d2cc"></a><!-- doxytag: member="osgEarth::Map::getTerrainMaskLayers" ref="a594ff9dfe41412fee6e4d2f051a5d2cc" args="(MaskLayerVector &amp;out_list) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Map::getTerrainMaskLayers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceosgEarth.html#ab74a145bbc3ec2c099d8e1f007c498c6">MaskLayerVector</a> &amp;&#160;</td>
          <td class="paramname"><em>out_list</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies references of the mask layers into the output list. This method is thread safe. It returns the map revision that was in effect when the data was copied. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00242">242</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    out_list.reserve( <a class="code" href="classosgEarth_1_1Map.html#af9f37d5d4be26a65eae5748b69a630e2">_terrainMaskLayers</a>.size() );

    <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a> lock( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
    <span class="keywordflow">for</span>( MaskLayerVector::const_iterator i = <a class="code" href="classosgEarth_1_1Map.html#af9f37d5d4be26a65eae5748b69a630e2">_terrainMaskLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#af9f37d5d4be26a65eae5748b69a630e2">_terrainMaskLayers</a>.end(); ++i )
        out_list.push_back( i-&gt;get() );

    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae7a1c99ec62a390e22cf9c37620f27e1"></a><!-- doxytag: member="osgEarth::Map::insertImageLayer" ref="ae7a1c99ec62a390e22cf9c37620f27e1" args="(ImageLayer *layer, unsigned int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::insertImageLayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds an image layer to the map at the specified index. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00383">383</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09">osgEarth::Registry::instance</a>()-&gt;<a class="code" href="classosgEarth_1_1Registry.html#a619b41e8ddbfac14a491edac8b879c1f">clearBlacklist</a>();
    <span class="keywordflow">if</span> ( layer )
    {
        <span class="comment">//Set options for the map from the layer</span>
        layer-&gt;setReferenceURI( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73">referenceURI</a>().<a class="code" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820">value</a>() );

        <span class="comment">//propagate the cache to the layer:</span>
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab85de1d6b56f3bc365e8137d5d36f0d0">cache</a>().<a class="code" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365">isSet</a>() &amp;&amp; <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab85de1d6b56f3bc365e8137d5d36f0d0">cache</a>()-&gt;cacheOnly().<a class="code" href="structosgEarth_1_1optional.html#abac1ffb58a490a5d8c30cc11fe6969bf">isSetTo</a>( <span class="keyword">true</span> ) )
        {
            layer-&gt;setCacheOnly( <span class="keyword">true</span> );
        }

        <span class="comment">//Set the Cache for the MapLayer to our cache.</span>
        layer-&gt;<a class="code" href="classosgEarth_1_1TerrainLayer.html#ae98db9ea06d28b953bef666b95c5e9ad">setCache</a>( this-&gt;<a class="code" href="classosgEarth_1_1Map.html#a84a02a614b4b6ed8d2aceebb8a8593d9">getCache</a>() );

        <span class="comment">// Tell the layer the map profile, if possible:</span>
        <span class="keywordflow">if</span> ( <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.valid() )
            layer-&gt;<a class="code" href="classosgEarth_1_1ImageLayer.html#a08fec3b68feea1922b60bbc8e993aa93">setTargetProfileHint</a>( <a class="code" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">_profile</a>.get() );

        <span class="keywordtype">int</span> newRevision;

        <span class="comment">// Add the layer to our stack.</span>
        {
            <a class="code" href="structosgEarth_1_1Threading_1_1ScopedWriteLock.html">Threading::ScopedWriteLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );

            <span class="keywordflow">if</span> (index &gt;= <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.size())
                <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.push_back(layer);
            <span class="keywordflow">else</span>
                <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.insert( <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.begin() + index, layer );

            newRevision = ++<a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
        }

        <span class="comment">// a separate block b/c we don&#39;t need the mutex   </span>
        <span class="keywordflow">for</span>( MapCallbackList::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(); i++ )
        {
            i-&gt;get()-&gt;onMapModelChanged( <a class="code" href="structosgEarth_1_1MapModelChange.html">MapModelChange</a>(
                <a class="code" href="structosgEarth_1_1MapModelChange.html#af25022d670929a5d72c1859060f81114a46b3aef057123daf5ad293050b0d5298">MapModelChange::ADD_IMAGE_LAYER</a>, newRevision, layer, index) );
        }       
    }   
}
</pre></div>
<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_ae7a1c99ec62a390e22cf9c37620f27e1_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_ae7a1c99ec62a390e22cf9c37620f27e1_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_ae7a1c99ec62a390e22cf9c37620f27e1_cgraph" id="classosgEarth_1_1Map_ae7a1c99ec62a390e22cf9c37620f27e1_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1MapOptions.html#ab85de1d6b56f3bc365e8137d5d36f0d0" title="osgEarth::MapOptions::cache" alt="" coords="620,34,815,63"/><area shape="rect" id="node5" href="classosgEarth_1_1Registry.html#a619b41e8ddbfac14a491edac8b879c1f" title="osgEarth::Registry::clearBlacklist" alt="" coords="299,72,515,102"/><area shape="rect" id="node7" href="classosgEarth_1_1Map.html#a84a02a614b4b6ed8d2aceebb8a8593d9" title="osgEarth::Map::getCache" alt="" coords="321,294,492,323"/><area shape="rect" id="node18" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="2515,162,2701,191"/><area shape="rect" id="node31" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="1823,370,1988,399"/><area shape="rect" id="node35" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73" title="osgEarth::MapOptions::referenceURI" alt="" coords="892,434,1129,463"/><area shape="rect" id="node37" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820" title="osgEarth::optional::value" alt="" coords="928,511,1093,540"/><area shape="rect" id="node41" href="structosgEarth_1_1optional.html#abac1ffb58a490a5d8c30cc11fe6969bf" title="osgEarth::optional::isSetTo" alt="" coords="317,627,496,656"/><area shape="rect" id="node44" href="classosgEarth_1_1TerrainLayer.html#ae98db9ea06d28b953bef666b95c5e9ad" title="osgEarth::TerrainLayer::setCache" alt="" coords="1481,636,1700,666"/><area shape="rect" id="node65" href="classosgEarth_1_1ImageLayer.html#a08fec3b68feea1922b60bbc8e993aa93" title="osgEarth::ImageLayer::setTargetProfileHint" alt="" coords="269,870,544,899"/><area shape="rect" id="node10" href="classosgEarth_1_1CacheFactory.html#a1bac5511c0d97cf20443a7a96ea6e324" title="osgEarth::CacheFactory::create" alt="" coords="1196,318,1404,347"/><area shape="rect" id="node14" href="structosgEarth_1_1optional.html#ac10ed828e5fb151d8cabf856e1fc3d3e" title="osgEarth::optional::get" alt="" coords="641,214,793,243"/><area shape="rect" id="node16" href="classosgEarth_1_1Registry.html#a061d3903e633b9abfafc38d6faa1590c" title="osgEarth::Registry::getCacheOverride" alt="" coords="596,267,839,296"/><area shape="rect" id="node33" href="classosgEarth_1_1Map.html#a2340eb04005ed0caf43a554959a88294" title="osgEarth::Map::setCache" alt="" coords="632,472,803,502"/><area shape="rect" id="node12" href="classosgEarth_1_1DriverConfigOptions.html#ab989b270751800e8fca87b17fdc456bc" title="osgEarth::DriverConfigOptions::getDriver" alt="" coords="2104,478,2365,507"/><area shape="rect" id="node20" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="2847,162,3033,191"/><area shape="rect" id="node22" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="3083,82,3411,111"/><area shape="rect" id="node25" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="3135,135,3359,164"/><area shape="rect" id="node27" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="3125,188,3368,218"/><area shape="rect" id="node29" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="3124,242,3369,271"/><area shape="rect" id="node46" href="classosgEarth_1_1TerrainLayerOptions.html#a3e25ced92475376f2b5117af076dbb0e" title="osgEarth::TerrainLayerOptions::cacheEnabled" alt="" coords="1761,530,2049,559"/><area shape="rect" id="node48" href="classosgEarth_1_1TerrainLayerOptions.html#a8418e1ff33afb76c241144c1e1804992" title="osgEarth::TerrainLayerOptions::cacheFormat" alt="" coords="1764,796,2047,826"/><area shape="rect" id="node50" href="classosgEarth_1_1TerrainLayerOptions.html#af32e3cc40e8d9a7b27c305706cd17f5e" title="osgEarth::TerrainLayerOptions::cacheId" alt="" coords="1779,583,2032,612"/><area shape="rect" id="node52" href="classosgEarth_1_1TerrainLayerOptions.html#a50caaefc27eb54a34b6ff5628c43c34f" title="osgEarth::TerrainLayerOptions::driver" alt="" coords="1787,850,2024,879"/><area shape="rect" id="node54" href="structosgEarth_1_1CacheSpec.html#a4253bd68a78e3ae7ec8a6e103c4dd187" title="osgEarth::CacheSpec::format" alt="" coords="1808,636,2003,666"/><area shape="rect" id="node56" href="classosgEarth_1_1TerrainLayer.html#a55830499ac602f6f8dac06de5f81da2c" title="osgEarth::TerrainLayer::getName" alt="" coords="1799,743,2012,772"/><area shape="rect" id="node58" href="namespaceosgEarth.html#a73391515286f2830aefc25b521fdc09c" title="osgEarth::hashString" alt="" coords="1833,690,1977,719"/><area shape="rect" id="node61" href="classosgEarth_1_1Config.html#a6544fe1a09134161f5bdc451045a1e7f" title="osgEarth::Config::remove" alt="" coords="1820,423,1991,452"/><area shape="rect" id="node63" href="classosgEarth_1_1Config.html#ae2b663e7cdb3f6920f4a199024d87b8f" title="osgEarth::Config::toHashString" alt="" coords="1804,476,2007,506"/><area shape="rect" id="node67" href="classosgEarth_1_1ImageLayer.html#a2adf54040ab69ee998f1202cd68198a8" title="osgEarth::ImageLayer::initPreCacheOp" alt="" coords="592,939,843,968"/><area shape="rect" id="node69" href="classosgEarth_1_1TerrainLayer.html#a8c3b22dfd214263aefe467b36b9d0828" title="osgEarth::TerrainLayer::getProfile" alt="" coords="903,1023,1119,1052"/><area shape="rect" id="node71" href="classosgEarth_1_1TerrainLayerOptions.html#a2eaa401b3dedfe09b1995b12194acd85" title="osgEarth::TerrainLayerOptions::cacheOnly" alt="" coords="1771,1223,2040,1252"/><area shape="rect" id="node73" href="classosgEarth_1_1TerrainLayer.html#a94efa05e40e34514a0255250850aa889" title="osgEarth::TerrainLayer::getTileSource" alt="" coords="1179,1023,1421,1052"/><area shape="rect" id="node76" href="classosgEarth_1_1TerrainLayer.html#ab070bc97ce845a6dd4a9e3bc8d610ee8" title="osgEarth::TerrainLayer::initTileSource" alt="" coords="1471,983,1711,1012"/><area shape="rect" id="node79" href="structosgEarth_1_1CacheSpec.html#a74395f8d7912eab234ba66e7537d7ba6" title="osgEarth::CacheSpec::cacheId" alt="" coords="1804,903,2007,932"/><area shape="rect" id="node82" href="classosgEarth_1_1Profile.html#a3d862455737d2b9f813a078f9ec22752" title="osgEarth::Profile::create" alt="" coords="1824,1010,1987,1039"/><area shape="rect" id="node104" href="classosgEarth_1_1TileSourceFactory.html#a56df79a1262c8b6cca64a121f60181d0" title="osgEarth::TileSourceFactory::create" alt="" coords="1789,956,2021,986"/><area shape="rect" id="node110" href="structosgEarth_1_1CacheSpec.html#aa0aeef925682e234f4684a59f7454406" title="osgEarth::CacheSpec::name" alt="" coords="1811,1063,2000,1092"/><area shape="rect" id="node112" href="classosgEarth_1_1TerrainLayerOptions.html#ae1fd077446d87d31ff2c0d7ddad4a112" title="osgEarth::TerrainLayerOptions::profile" alt="" coords="1784,1116,2027,1146"/><area shape="rect" id="node114" href="classosgEarth_1_1TerrainLayer.html#a6e2d32e9af81bd8372dc7d2fe3942446" title="osgEarth::TerrainLayer::suggestCacheFormat" alt="" coords="1763,1170,2048,1199"/><area shape="rect" id="node84" href="classosgEarth_1_1VerticalSpatialReference.html#a9acfa96c19f41c37fe4ac55493440b44" title="osgEarth::VerticalSpatialReference::create" alt="" coords="2100,944,2369,974"/><area shape="rect" id="node97" href="classosgEarth_1_1SpatialReference.html#a6f0818e362f23b50606b0e4f66773da1" title="osgEarth::SpatialReference::create" alt="" coords="2121,1050,2348,1079"/><area shape="rect" id="node101" href="classosgEarth_1_1Profile.html#abd4572b378cfd1f2a671774e9650e5b1" title="osgEarth::Profile::Profile" alt="" coords="2153,771,2316,800"/><area shape="rect" id="node86" href="classosgEarth_1_1Geoid.html#a416fbcb1c9daf8a9380a1f427ad4649c" title="osgEarth::Geoid::getName" alt="" coords="2852,943,3028,972"/><area shape="rect" id="node88" href="classosgEarth_1_1VerticalSpatialReference.html#a2bbc5770a11ffef3e170ade273b9e935" title="osgEarth::VerticalSpatialReference::registerGeoid" alt="" coords="2453,918,2763,947"/><area shape="rect" id="node91" href="namespaceosgEarth.html#a4c5320dc9ca7ee620ce2262d72fff769" title="osgEarth::startsWith" alt="" coords="2537,1022,2679,1051"/><area shape="rect" id="node93" href="namespaceosgEarth.html#a2c3b7223f6314c9d36e643c231f9123f" title="osgEarth::toLower" alt="" coords="2544,811,2672,840"/><area shape="rect" id="node95" href="classosgEarth_1_1VerticalSpatialReference.html#ab87754166e414475d1e59130cc6a579f" title="osgEarth::VerticalSpatialReference::VerticalSpatialReference" alt="" coords="2419,864,2797,894"/><area shape="rect" id="node99" href="classosgEarth_1_1SpatialReference.html#a91d6f84d9ff109c35108dcd8c814f4d5" title="osgEarth::SpatialReference::createCube" alt="" coords="2480,1075,2736,1104"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a085e5c9ce03ab4c23d7a7585fb353430"></a><!-- doxytag: member="osgEarth::Map::insertModelLayer" ref="a085e5c9ce03ab4c23d7a7585fb353430" args="(ModelLayer *layer, unsigned int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::insertModelLayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1ModelLayer.html">ModelLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a new model layer to the map at the specified index. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00662">662</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( layer )
    {
        <a class="code" href="structosgEarth_1_1Revision.html">Revision</a> newRevision;
        {
            <a class="code" href="structosgEarth_1_1Threading_1_1ScopedWriteLock.html">Threading::ScopedWriteLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
            <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.insert( <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.begin() + index, layer );
            newRevision = ++<a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
        }

        layer-&gt;<a class="code" href="classosgEarth_1_1ModelLayer.html#aeecbe7281d0d1e11fa2665e8ae0e40fb">initialize</a>( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73">referenceURI</a>().<a class="code" href="structosgEarth_1_1optional.html#ac10ed828e5fb151d8cabf856e1fc3d3e">get</a>(), this ); <span class="comment">//getReferenceURI(), this );        </span>

        <span class="comment">// a seprate block b/c we don&#39;t need the mutex</span>
        <span class="keywordflow">for</span>( MapCallbackList::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(); i++ )
        {
            i-&gt;get()-&gt;onMapModelChanged( <a class="code" href="structosgEarth_1_1MapModelChange.html">MapModelChange</a>(
                <a class="code" href="structosgEarth_1_1MapModelChange.html#af25022d670929a5d72c1859060f81114a16ec3f7c4fdea607a678ec1d52906e28">MapModelChange::ADD_MODEL_LAYER</a>, newRevision, layer, index) );
        }
    }
}
</pre></div>
<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a085e5c9ce03ab4c23d7a7585fb353430_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_a085e5c9ce03ab4c23d7a7585fb353430_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a085e5c9ce03ab4c23d7a7585fb353430_cgraph" id="classosgEarth_1_1Map_a085e5c9ce03ab4c23d7a7585fb353430_cgraph">
<area shape="rect" id="node3" href="structosgEarth_1_1optional.html#ac10ed828e5fb151d8cabf856e1fc3d3e" title="osgEarth::optional::get" alt="" coords="313,5,465,35"/><area shape="rect" id="node5" href="classosgEarth_1_1ModelLayer.html#aeecbe7281d0d1e11fa2665e8ae0e40fb" title="osgEarth::ModelLayer::initialize" alt="" coords="288,59,491,88"/><area shape="rect" id="node15" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73" title="osgEarth::MapOptions::referenceURI" alt="" coords="271,112,508,141"/><area shape="rect" id="node7" href="classosgEarth_1_1ModelSourceFactory.html#aa04ff59f6f44b8cffe06dbdc1d45c65f" title="osgEarth::ModelSourceFactory::create" alt="" coords="559,5,804,35"/><area shape="rect" id="node11" href="classosgEarth_1_1ModelLayerOptions.html#a0db8860b9fde151576402fa73ba513b8" title="osgEarth::ModelLayerOptions::driver" alt="" coords="564,59,799,88"/><area shape="rect" id="node13" href="structosgEarth_1_1optional.html#aa094207bf2b22a4848989cd017dc4365" title="osgEarth::optional::isSet" alt="" coords="599,112,764,141"/><area shape="rect" id="node9" href="classosgEarth_1_1DriverConfigOptions.html#ab989b270751800e8fca87b17fdc456bc" title="osgEarth::DriverConfigOptions::getDriver" alt="" coords="853,5,1115,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa84a08fbbe14e7bfff2ec5d8c8e53960"></a><!-- doxytag: member="osgEarth::Map::isGeocentric" ref="aa84a08fbbe14e7bfff2ec5d8c8e53960" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Map::isGeocentric </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience function that returns TRUE if the map cs type is geocentric. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00073">73</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> 
        <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#aed50a44017f7ed40f56855253cc027d0">coordSysType</a>() == <a class="code" href="classosgEarth_1_1MapOptions.html#a7729a762221a14c8c17d2f9c3fcc4b74a3119cef99248f128887179617f5f2841">MapOptions::CSTYPE_GEOCENTRIC</a> ||
        <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#aed50a44017f7ed40f56855253cc027d0">coordSysType</a>() == <a class="code" href="classosgEarth_1_1MapOptions.html#a7729a762221a14c8c17d2f9c3fcc4b74a7f82de27d598f194f29064812a95b9c9">MapOptions::CSTYPE_GEOCENTRIC_CUBE</a>;
}
</pre></div>
<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_aa84a08fbbe14e7bfff2ec5d8c8e53960_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_aa84a08fbbe14e7bfff2ec5d8c8e53960_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_aa84a08fbbe14e7bfff2ec5d8c8e53960_cgraph" id="classosgEarth_1_1Map_aa84a08fbbe14e7bfff2ec5d8c8e53960_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1MapOptions.html#aed50a44017f7ed40f56855253cc027d0" title="osgEarth::MapOptions::coordSysType" alt="" coords="244,5,487,35"/></map>
</div>
</p>

<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_aa84a08fbbe14e7bfff2ec5d8c8e53960_icgraph.png" border="0" usemap="#classosgEarth_1_1Map_aa84a08fbbe14e7bfff2ec5d8c8e53960_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_aa84a08fbbe14e7bfff2ec5d8c8e53960_icgraph" id="classosgEarth_1_1Map_aa84a08fbbe14e7bfff2ec5d8c8e53960_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Util_1_1AutoClipPlaneHandler.html#a7025461c0cd553bbca710639215e5966" title="osgEarth::Util::AutoClipPlaneHandler::AutoClipPlaneHandler" alt="" coords="244,5,617,35"/><area shape="rect" id="node5" href="osgearth__elevation_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="405,59,456,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3a7e1f28b755eb7ca5603bfbd44ada0d"></a><!-- doxytag: member="osgEarth::Map::mapPointToWorldPoint" ref="a3a7e1f28b755eb7ca5603bfbd44ada0d" args="(const osg::Vec3d &amp;input, osg::Vec3d &amp;output) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Map::mapPointToWorldPoint </td>
          <td>(</td>
          <td class="paramtype">const osg::Vec3d &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">osg::Vec3d &amp;&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience function to convert a point (in map coordinates) to world-space (XYZ) coordinates. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l01239">1239</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1MapInfo.html">MapInfo</a>(<span class="keyword">this</span>).<a class="code" href="classosgEarth_1_1MapInfo.html#a1e9b20bc69b524b1ed8a450337ab0078">mapPointToWorldPoint</a>(input, output);
}
</pre></div>
<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a3a7e1f28b755eb7ca5603bfbd44ada0d_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_a3a7e1f28b755eb7ca5603bfbd44ada0d_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a3a7e1f28b755eb7ca5603bfbd44ada0d_cgraph" id="classosgEarth_1_1Map_a3a7e1f28b755eb7ca5603bfbd44ada0d_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1MapInfo.html#a1e9b20bc69b524b1ed8a450337ab0078" title="osgEarth::MapInfo::mapPointToWorldPoint" alt="" coords="305,5,575,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a52b78ae00f8070a042b84c3ea5c27f58"></a><!-- doxytag: member="osgEarth::Map::moveElevationLayer" ref="a52b78ae00f8070a042b84c3ea5c27f58" args="(ElevationLayer *layer, unsigned int newIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::moveElevationLayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1ElevationLayer.html">ElevationLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>newIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Moves (re-orders) an elevation layer to another index position in its list. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00589">589</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> oldIndex = 0;
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> actualIndex = 0;
    <a class="code" href="structosgEarth_1_1Revision.html">Revision</a> newRevision;

    <span class="keywordflow">if</span> ( layer )
    {
        <a class="code" href="structosgEarth_1_1Threading_1_1ScopedWriteLock.html">Threading::ScopedWriteLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );

        <span class="comment">// preserve the layer with a ref:</span>
        osg::ref_ptr&lt;ElevationLayer&gt; layerToMove = layer;

        <span class="comment">// find it:</span>
        ElevationLayerVector::iterator i_oldIndex = <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.end();
        <span class="keywordflow">for</span>( ElevationLayerVector::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.end(); i++, actualIndex++ )
        {
            <span class="keywordflow">if</span> ( i-&gt;get() == layer )
            {
                i_oldIndex = i;
                oldIndex = actualIndex;
                <span class="keywordflow">break</span>;
            }
        }

        <span class="keywordflow">if</span> ( i_oldIndex == <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.end() )
            <span class="keywordflow">return</span>; <span class="comment">// layer not found in list</span>

        <span class="comment">// erase the old one and insert the new one.</span>
        <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.erase( i_oldIndex );
        <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.insert( <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.begin() + newIndex, layerToMove.get() );

        newRevision = ++<a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
    }

    <span class="comment">// a separate block b/c we don&#39;t need the mutex</span>
    <span class="keywordflow">if</span> ( layer )
    {
        <span class="keywordflow">for</span>( MapCallbackList::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(); i++ )
        {
            i-&gt;get()-&gt;onMapModelChanged( <a class="code" href="structosgEarth_1_1MapModelChange.html">MapModelChange</a>(
                <a class="code" href="structosgEarth_1_1MapModelChange.html#af25022d670929a5d72c1859060f81114abaa8fd3a55ee27e982c5e385cd1c3e8c">MapModelChange::MOVE_ELEVATION_LAYER</a>, newRevision, layer, oldIndex, newIndex) );
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa33e19c2aa338773d49ac535555b514d"></a><!-- doxytag: member="osgEarth::Map::moveImageLayer" ref="aa33e19c2aa338773d49ac535555b514d" args="(ImageLayer *layer, unsigned int newIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::moveImageLayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>newIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Moves (re-orders) an image layer to another index position in its list. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00542">542</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> oldIndex = 0;
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> actualIndex = 0;
    <a class="code" href="structosgEarth_1_1Revision.html">Revision</a> newRevision;

    <span class="keywordflow">if</span> ( layer )
    {
        <a class="code" href="structosgEarth_1_1Threading_1_1ScopedWriteLock.html">Threading::ScopedWriteLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );

        <span class="comment">// preserve the layer with a ref:</span>
        osg::ref_ptr&lt;ImageLayer&gt; layerToMove = layer;

        <span class="comment">// find it:</span>
        ImageLayerVector::iterator i_oldIndex = <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.end();
        <span class="keywordflow">for</span>( ImageLayerVector::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.end(); i++, actualIndex++ )
        {
            <span class="keywordflow">if</span> ( i-&gt;get() == layer )
            {
                i_oldIndex = i;
                oldIndex = actualIndex;
                <span class="keywordflow">break</span>;
            }
        }

        <span class="keywordflow">if</span> ( i_oldIndex == <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.end() )
            <span class="keywordflow">return</span>; <span class="comment">// layer not found in list</span>

        <span class="comment">// erase the old one and insert the new one.</span>
        <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.erase( i_oldIndex );
        <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.insert( <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.begin() + newIndex, layerToMove.get() );

        newRevision = ++<a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
    }

    <span class="comment">// a separate block b/c we don&#39;t need the mutex</span>
    <span class="keywordflow">if</span> ( layer )
    {
        <span class="keywordflow">for</span>( MapCallbackList::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(); i++ )
        {
            i-&gt;get()-&gt;onMapModelChanged( <a class="code" href="structosgEarth_1_1MapModelChange.html">MapModelChange</a>(
                <a class="code" href="structosgEarth_1_1MapModelChange.html#af25022d670929a5d72c1859060f81114a745ff875665571af0275256b56a64e22">MapModelChange::MOVE_IMAGE_LAYER</a>, newRevision, layer, oldIndex, newIndex) );
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac053332970d9f090d5e1a7347a0b07d3"></a><!-- doxytag: member="osgEarth::Map::moveModelLayer" ref="ac053332970d9f090d5e1a7347a0b07d3" args="(ModelLayer *layer, unsigned int newIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::moveModelLayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1ModelLayer.html">ModelLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>newIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Moves (re-orders) an image layer to another index position in its list. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00715">715</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> oldIndex = 0;
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> actualIndex = 0;
    <a class="code" href="structosgEarth_1_1Revision.html">Revision</a> newRevision;

    <span class="keywordflow">if</span> ( layer )
    {
        <a class="code" href="structosgEarth_1_1Threading_1_1ScopedWriteLock.html">Threading::ScopedWriteLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );

        <span class="comment">// preserve the layer with a ref:</span>
        osg::ref_ptr&lt;ModelLayer&gt; layerToMove = layer;

        <span class="comment">// find it:</span>
        ModelLayerVector::iterator i_oldIndex = <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.end();
        <span class="keywordflow">for</span>( ModelLayerVector::iterator i = <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.end(); i++, actualIndex++ )
        {
            <span class="keywordflow">if</span> ( i-&gt;get() == layer )
            {
                i_oldIndex = i;
                oldIndex = actualIndex;
                <span class="keywordflow">break</span>;
            }
        }

        <span class="keywordflow">if</span> ( i_oldIndex == <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.end() )
            <span class="keywordflow">return</span>; <span class="comment">// layer not found in list</span>

        <span class="comment">// erase the old one and insert the new one.</span>
        <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.erase( i_oldIndex );
        <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.insert( <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.begin() + newIndex, layerToMove.get() );

        newRevision = ++<a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
    }

    <span class="comment">// a separate block b/c we don&#39;t need the mutex</span>
    <span class="keywordflow">if</span> ( layer )
    {
        <span class="keywordflow">for</span>( MapCallbackList::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(); i++ )
        {
            i-&gt;get()-&gt;onMapModelChanged( <a class="code" href="structosgEarth_1_1MapModelChange.html">MapModelChange</a>(
                <a class="code" href="structosgEarth_1_1MapModelChange.html#af25022d670929a5d72c1859060f81114af0b34334880685d0e53e8cf42e8a3b3f">MapModelChange::MOVE_MODEL_LAYER</a>, newRevision, layer, oldIndex, newIndex) );
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="add460b57dc27ae18c13436c09690efa4"></a><!-- doxytag: member="osgEarth::Map::removeElevationLayer" ref="add460b57dc27ae18c13436c09690efa4" args="(ElevationLayer *layer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::removeElevationLayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1ElevationLayer.html">ElevationLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes an elevation layer from the map. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00507">507</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09">osgEarth::Registry::instance</a>()-&gt;<a class="code" href="classosgEarth_1_1Registry.html#a619b41e8ddbfac14a491edac8b879c1f">clearBlacklist</a>();
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = -1;

    osg::ref_ptr&lt;ElevationLayer&gt; layerToRemove = layer;
    <a class="code" href="structosgEarth_1_1Revision.html">Revision</a> newRevision;

    <span class="keywordflow">if</span> ( layerToRemove.get() )
    {
        <a class="code" href="structosgEarth_1_1Threading_1_1ScopedWriteLock.html">Threading::ScopedWriteLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
        index = 0;
        <span class="keywordflow">for</span>( ElevationLayerVector::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.end(); i++, index++ )
        {
            <span class="keywordflow">if</span> ( i-&gt;get() == layerToRemove.get() )
            {
                <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.erase( i );
                newRevision = ++<a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
                <span class="keywordflow">break</span>;
            }
        }
    }

    <span class="comment">// a separate block b/c we don&#39;t need the mutex</span>
    <span class="keywordflow">if</span> ( newRevision &gt;= 0 ) <span class="comment">//layerToRemove.get() )</span>
    {
        <span class="keywordflow">for</span>( MapCallbackList::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(); i++ )
        {
            i-&gt;get()-&gt;onMapModelChanged( <a class="code" href="structosgEarth_1_1MapModelChange.html">MapModelChange</a>(
                <a class="code" href="structosgEarth_1_1MapModelChange.html#af25022d670929a5d72c1859060f81114a38fc3dca8dcc3662a5f95da61f0fcf99">MapModelChange::REMOVE_ELEVATION_LAYER</a>, newRevision, layerToRemove.get(), index) );
        }
    }
}
</pre></div>
<p><div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_add460b57dc27ae18c13436c09690efa4_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_add460b57dc27ae18c13436c09690efa4_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_add460b57dc27ae18c13436c09690efa4_cgraph" id="classosgEarth_1_1Map_add460b57dc27ae18c13436c09690efa4_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Registry.html#a619b41e8ddbfac14a491edac8b879c1f" title="osgEarth::Registry::clearBlacklist" alt="" coords="300,32,516,61"/><area shape="rect" id="node5" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="315,85,501,115"/><area shape="rect" id="node7" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="567,85,753,115"/><area shape="rect" id="node9" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="803,5,1131,35"/><area shape="rect" id="node12" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="855,59,1079,88"/><area shape="rect" id="node14" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="845,112,1088,141"/><area shape="rect" id="node16" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="844,165,1089,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae60fb7d35fb946ae944c12b87e7d017f"></a><!-- doxytag: member="osgEarth::Map::removeImageLayer" ref="ae60fb7d35fb946ae944c12b87e7d017f" args="(ImageLayer *layer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::removeImageLayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1ImageLayer.html">ImageLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes an image layer from the map. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00471">471</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09">osgEarth::Registry::instance</a>()-&gt;<a class="code" href="classosgEarth_1_1Registry.html#a619b41e8ddbfac14a491edac8b879c1f">clearBlacklist</a>();
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = -1;

    osg::ref_ptr&lt;ImageLayer&gt; layerToRemove = layer;
    <a class="code" href="structosgEarth_1_1Revision.html">Revision</a> newRevision;

    <span class="keywordflow">if</span> ( layerToRemove.get() )
    {
        <a class="code" href="structosgEarth_1_1Threading_1_1ScopedWriteLock.html">Threading::ScopedWriteLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
        index = 0;
        <span class="keywordflow">for</span>( ImageLayerVector::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.end(); i++, index++ )
        {
            <span class="keywordflow">if</span> ( i-&gt;get() == layerToRemove.get() )
            {
                <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.erase( i );
                newRevision = ++<a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
                <span class="keywordflow">break</span>;
            }
        }
    }

    <span class="comment">// a separate block b/c we don&#39;t need the mutex</span>
    <span class="keywordflow">if</span> ( newRevision &gt;= 0 ) <span class="comment">// layerToRemove.get() )</span>
    {
        <span class="keywordflow">for</span>( MapCallbackList::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(); i++ )
        {
            i-&gt;get()-&gt;onMapModelChanged( <a class="code" href="structosgEarth_1_1MapModelChange.html">MapModelChange</a>(
                <a class="code" href="structosgEarth_1_1MapModelChange.html#af25022d670929a5d72c1859060f81114ac6fee1bc1ae645733f7969551d3751f3">MapModelChange::REMOVE_IMAGE_LAYER</a>, newRevision, layerToRemove.get(), index) );
            <span class="comment">//i-&gt;get()-&gt;onImageLayerRemoved( layerToRemove.get(), index, newRevision );</span>
        }
    }
}
</pre></div>
<p><div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_ae60fb7d35fb946ae944c12b87e7d017f_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_ae60fb7d35fb946ae944c12b87e7d017f_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_ae60fb7d35fb946ae944c12b87e7d017f_cgraph" id="classosgEarth_1_1Map_ae60fb7d35fb946ae944c12b87e7d017f_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Registry.html#a619b41e8ddbfac14a491edac8b879c1f" title="osgEarth::Registry::clearBlacklist" alt="" coords="281,32,497,61"/><area shape="rect" id="node5" href="classosgEarth_1_1Registry.html#a92d21da82224d40008d7218eac280c09" title="osgEarth::Registry::instance" alt="" coords="296,85,483,115"/><area shape="rect" id="node7" href="classosgEarth_1_1Registry.html#acb15d8aa051bf36ea92a86ee6c00bc3c" title="osgEarth::Registry::Registry" alt="" coords="548,85,735,115"/><area shape="rect" id="node9" href="classosgEarth_1_1Registry.html#a5a56910fe4fcb016cbae8e7728e8bf47" title="osgEarth::Registry::addMimeTypeExtensionMapping" alt="" coords="784,5,1112,35"/><area shape="rect" id="node12" href="classosgEarth_1_1DiskCacheOptions.html#a89cba75c20b7201cebec071d7e68883c" title="osgEarth::DiskCacheOptions::path" alt="" coords="836,59,1060,88"/><area shape="rect" id="node14" href="classosgEarth_1_1Registry.html#a958fd3968bf858d536d8468a330c66da" title="osgEarth::Registry::setCacheOverride" alt="" coords="827,112,1069,141"/><area shape="rect" id="node16" href="classosgEarth_1_1DiskCacheOptions.html#af3b83ff8d6fb16c2f8688b51cbeceea2" title="osgEarth::DiskCacheOptions::setPath" alt="" coords="825,165,1071,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a963974c1226320da8984a30d24a21cf0"></a><!-- doxytag: member="osgEarth::Map::removeMapCallback" ref="a963974c1226320da8984a30d24a21cf0" args="(MapCallback *callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::removeMapCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structosgEarth_1_1MapCallback.html">MapCallback</a> *&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00328">328</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    MapCallbackList::iterator i = std::find( <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(), <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(), cb);
    <span class="keywordflow">if</span> (i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end())
    {
        <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.erase( i );
    }    
}
</pre></div>
</div>
</div>
<a class="anchor" id="a10b13027334c6a0a5877e86df8005f43"></a><!-- doxytag: member="osgEarth::Map::removeModelLayer" ref="a10b13027334c6a0a5877e86df8005f43" args="(ModelLayer *layer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::removeModelLayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1ModelLayer.html">ModelLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes a model layer from the map. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00685">685</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( layer )
    {
        <span class="comment">//Take a reference to the layer since we will be deleting it</span>
        osg::ref_ptr&lt; ModelLayer &gt; layerRef = layer;

        <a class="code" href="structosgEarth_1_1Revision.html">Revision</a> newRevision;
        {
            <a class="code" href="structosgEarth_1_1Threading_1_1ScopedWriteLock.html">Threading::ScopedWriteLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
            <span class="keywordflow">for</span>( ModelLayerVector::iterator i = <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.end(); ++i )
            {
                <span class="keywordflow">if</span> ( i-&gt;get() == layer )
                {
                    <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.erase( i );
                    newRevision = ++<a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
                    <span class="keywordflow">break</span>;
                }
            }
        }

        <span class="keywordflow">for</span>( MapCallbackList::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(); ++i )
        {
            i-&gt;get()-&gt;onMapModelChanged( <a class="code" href="structosgEarth_1_1MapModelChange.html">MapModelChange</a>(
                <a class="code" href="structosgEarth_1_1MapModelChange.html#af25022d670929a5d72c1859060f81114a9468104d59834c343018c5e6ce0daa69">MapModelChange::REMOVE_MODEL_LAYER</a>, newRevision, layerRef.get()) );
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac3a07bacdbd964ee9594584e46095fbc"></a><!-- doxytag: member="osgEarth::Map::removeTerrainMaskLayer" ref="ac3a07bacdbd964ee9594584e46095fbc" args="(MaskLayer *layer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::removeTerrainMaskLayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1MaskLayer.html">MaskLayer</a> *&#160;</td>
          <td class="paramname"><em>layer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removed a terrain mask layer that was set with setTerrainMaskLayer(). </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00785">785</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> ( layer )
    {
        <span class="comment">//Take a reference to the layer since we will be deleting it</span>
        osg::ref_ptr&lt; MaskLayer &gt; layerRef = layer;
        <a class="code" href="structosgEarth_1_1Revision.html">Revision</a> newRevision;
        {
            <a class="code" href="structosgEarth_1_1Threading_1_1ScopedWriteLock.html">Threading::ScopedWriteLock</a> lock( <a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );
            <span class="keywordflow">for</span>( MaskLayerVector::iterator i = <a class="code" href="classosgEarth_1_1Map.html#af9f37d5d4be26a65eae5748b69a630e2">_terrainMaskLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#af9f37d5d4be26a65eae5748b69a630e2">_terrainMaskLayers</a>.end(); ++i )
            {
                <span class="keywordflow">if</span> ( i-&gt;get() == layer )
                {
                    <a class="code" href="classosgEarth_1_1Map.html#af9f37d5d4be26a65eae5748b69a630e2">_terrainMaskLayers</a>.erase( i );
                    newRevision = ++<a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
                    <span class="keywordflow">break</span>;
                }
            }
        }
        
        <span class="comment">// a separate block b/c we don&#39;t need the mutex   </span>
        <span class="keywordflow">for</span>( MapCallbackList::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">_mapCallbacks</a>.end(); i++ )
        {
            i-&gt;get()-&gt;onMapModelChanged( <a class="code" href="structosgEarth_1_1MapModelChange.html">MapModelChange</a>(
                <a class="code" href="structosgEarth_1_1MapModelChange.html#af25022d670929a5d72c1859060f81114ac1c102de380d692966fecf503e01f4eb">MapModelChange::REMOVE_MASK_LAYER</a>, newRevision, layerRef.get()) );
        }       
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2340eb04005ed0caf43a554959a88294"></a><!-- doxytag: member="osgEarth::Map::setCache" ref="a2340eb04005ed0caf43a554959a88294" args="(Cache *cache)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::setCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classosgEarth_1_1Cache.html">Cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the <a class="el" href="classosgEarth_1_1Cache.html">Cache</a> for this <a class="el" href="classosgEarth_1_1Map.html">Map</a>. Set to NULL for no cache. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00300">300</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="classosgEarth_1_1Map.html#a2f254f85b9cfcfabc96fb885dc0d6e5a">_cache</a>.get() != cache)
    {
        <a class="code" href="classosgEarth_1_1Map.html#a2f254f85b9cfcfabc96fb885dc0d6e5a">_cache</a> = cache;
        <a class="code" href="classosgEarth_1_1Map.html#a2f254f85b9cfcfabc96fb885dc0d6e5a">_cache</a>-&gt;setReferenceURI( <a class="code" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">_mapOptions</a>.<a class="code" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73">referenceURI</a>().<a class="code" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820">value</a>() );

        <span class="comment">//Propagate the cache to any of our layers</span>
        <span class="keywordflow">for</span> (ImageLayerVector::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.end(); ++i)
        {
            i-&gt;get()-&gt;setCache( <a class="code" href="classosgEarth_1_1Map.html#a2f254f85b9cfcfabc96fb885dc0d6e5a">_cache</a>.get() );
        }

        <span class="keywordflow">for</span> (ElevationLayerVector::iterator i = <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.end(); ++i)
        {
            i-&gt;get()-&gt;setCache( <a class="code" href="classosgEarth_1_1Map.html#a2f254f85b9cfcfabc96fb885dc0d6e5a">_cache</a>.get() );
        }
    }
}
</pre></div>
<p><div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a2340eb04005ed0caf43a554959a88294_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_a2340eb04005ed0caf43a554959a88294_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a2340eb04005ed0caf43a554959a88294_cgraph" id="classosgEarth_1_1Map_a2340eb04005ed0caf43a554959a88294_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1MapOptions.html#ab5f0670c447efcb8e24d01624eb8cd73" title="osgEarth::MapOptions::referenceURI" alt="" coords="225,5,463,35"/><area shape="rect" id="node5" href="structosgEarth_1_1optional.html#a9e71f677728602dc521d7102c9be7820" title="osgEarth::optional::value" alt="" coords="261,59,427,88"/></map>
</div>
</p>

<p><div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png"/> Here is the caller graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a2340eb04005ed0caf43a554959a88294_icgraph.png" border="0" usemap="#classosgEarth_1_1Map_a2340eb04005ed0caf43a554959a88294_icgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a2340eb04005ed0caf43a554959a88294_icgraph" id="classosgEarth_1_1Map_a2340eb04005ed0caf43a554959a88294_icgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1Map.html#a84a02a614b4b6ed8d2aceebb8a8593d9" title="osgEarth::Map::getCache" alt="" coords="224,192,395,221"/><area shape="rect" id="node5" href="classosgEarth_1_1Map.html#a0b9cb734082b8f3cf9b0d0918690c7bd" title="osgEarth::Map::addElevationLayer" alt="" coords="444,132,665,161"/><area shape="rect" id="node16" href="classosgEarth_1_1Map.html#aff4f55389d999d345b4822eaf74cecf0" title="osgEarth::Map::addImageLayer" alt="" coords="453,65,656,95"/><area shape="rect" id="node22" href="classosgEarth_1_1Map.html#ae7a1c99ec62a390e22cf9c37620f27e1" title="osgEarth::Map::insertImageLayer" alt="" coords="448,192,661,221"/><area shape="rect" id="node24" href="osgearth__seed_8cpp.html#af4b11f03092036dcc7d19e0eaf644e88" title="list" alt="" coords="536,272,573,301"/><area shape="rect" id="node34" href="osgearth__seed_8cpp.html#a5474eb5fe707f69df07bc3256c116324" title="purge" alt="" coords="528,432,581,461"/><area shape="rect" id="node7" href="classEarthFileSerializer2.html#a768aaf0a191205dd694560c76e295d02" title="EarthFileSerializer2::deserialize" alt="" coords="792,59,997,88"/><area shape="rect" id="node11" href="classEarthFileSerializer1.html#a7c7d88a338ca50972b7009083db89200" title="EarthFileSerializer1::deserialize" alt="" coords="792,112,997,141"/><area shape="rect" id="node14" href="osgearth__map_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="869,165,920,195"/><area shape="rect" id="node9" href="classReaderWriterEarth.html#acd6002b63309882f70304cf509c9bef9" title="ReaderWriterEarth::readNode" alt="" coords="1123,85,1317,115"/><area shape="rect" id="node20" href="osgearth__composite_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="869,5,920,35"/><area shape="rect" id="node26" href="classosgEarth_1_1Features_1_1FeatureModelGraph.html#ac809b2ed223fa837dec5311909e63b43" title="osgEarth::Features::FeatureModelGraph::build" alt="" coords="749,219,1040,248"/><area shape="rect" id="node28" href="classosgEarth_1_1Features_1_1FeatureTileSource.html#a80af978c5495abab5ab9779479162a07" title="osgEarth::Features::FeatureTileSource::createImage" alt="" coords="732,272,1057,301"/><area shape="rect" id="node30" href="osgearth__seed_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="869,379,920,408"/><area shape="rect" id="node32" href="classosgEarth_1_1Features_1_1GeometryFeatureCursor.html#a8e1bbfce699cf352c8b984b1f84032c4" title="osgEarth::Features::GeometryFeatureCursor::nextFeature" alt="" coords="716,325,1073,355"/><area shape="rect" id="node36" href="structLayerTable.html#ab73421eb54bab9384f8d086b5f3ed3dd" title="LayerTable::checkAndPurgeIfNeeded" alt="" coords="776,485,1013,515"/><area shape="rect" id="node41" href="structLayerTable.html#a4bf3db12348df2b63f630a427a84e078" title="LayerTable::purge" alt="" coords="832,432,957,461"/><area shape="rect" id="node44" href="classSqlite3Cache.html#a90410529af647e1e89b7f538226bda8d" title="Sqlite3Cache::setImageSync" alt="" coords="799,539,991,568"/><area shape="rect" id="node38" href="classSqlite3Cache.html#aa929c5104c0260ec8e391457cd821b3b" title="Sqlite3Cache::purge" alt="" coords="1151,459,1289,488"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6543620b62f165b4ca63944b50e6ff57"></a><!-- doxytag: member="osgEarth::Map::setGlobalOptions" ref="a6543620b62f165b4ca63944b50e6ff57" args="(const osgDB::ReaderWriter::Options *options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::setGlobalOptions </td>
          <td>(</td>
          <td class="paramtype">const osgDB::ReaderWriter::Options *&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00086">86</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                               {
    <a class="code" href="classosgEarth_1_1Map.html#a402fdff2ca81de922d3652863951f672">_globalOptions</a> = options;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a619ca3a01cd56237ca24f23ac1503dbc"></a><!-- doxytag: member="osgEarth::Map::setName" ref="a619ca3a01cd56237ca24f23ac1503dbc" args="(const std::string &amp;name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Map::setName </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the readable name of this map. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l00254">254</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                    {
    <a class="code" href="classosgEarth_1_1Map.html#a44e63e4f1f0372cdc343028e2f8c3cbd">_name</a> = name;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a167b9433251149e7b3b505f84a2ac219"></a><!-- doxytag: member="osgEarth::Map::sync" ref="a167b9433251149e7b3b505f84a2ac219" args="(class MapFrame &amp;frame) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Map::sync </td>
          <td>(</td>
          <td class="paramtype">class <a class="el" href="classosgEarth_1_1MapFrame.html">MapFrame</a> &amp;&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Synronizes a map frame to the current revision of the map's data model. Returns true if new <a class="el" href="classosgEarth_1_1Map.html">Map</a> model data was available and a sync occurred; returns false if nothing changed. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l01168">1168</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;

    <span class="keywordflow">if</span> ( frame._mapDataModelRevision != <a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a> || !frame._initialized )
    {
        <span class="comment">// hold the read lock while copying the layer lists.</span>
        <a class="code" href="structosgEarth_1_1Threading_1_1ScopedReadLock.html">Threading::ScopedReadLock</a> lock( const_cast&lt;Map*&gt;(<span class="keyword">this</span>)-&gt;<a class="code" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">_mapDataMutex</a> );

        <span class="keywordflow">if</span> ( frame._parts &amp; <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba051c62c463cec3759b9b609bbcd82886">IMAGE_LAYERS</a> )
        {
            <span class="keywordflow">if</span> ( !frame._initialized )
                frame._imageLayers.reserve( <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.size() );
            frame._imageLayers.clear();
            <span class="keywordflow">if</span> ( frame._copyValidDataOnly )
            {
                <span class="keywordflow">for</span>( ImageLayerVector::const_iterator i = <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.end(); ++i )
                    <span class="keywordflow">if</span> ( i-&gt;get()-&gt;getProfile() )
                        frame._imageLayers.push_back( i-&gt;get() );
            }
            <span class="keywordflow">else</span>
                <a class="code" href="namespaceanonymous__namespace_02MeshConsolidator_8cpp_03.html#aa89185796215b0f0669f5a44549b6eed">std::copy</a>( <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.begin(), <a class="code" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">_imageLayers</a>.end(), std::back_inserter(frame._imageLayers) );
        }

        <span class="keywordflow">if</span> ( frame._parts &amp; <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba54b09d6e4f190bec8f3ebae7299b17ab">ELEVATION_LAYERS</a> )
        {
            <span class="keywordflow">if</span> ( !frame._initialized )
                frame._elevationLayers.reserve( <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.size() );
            frame._elevationLayers.clear();
            <span class="keywordflow">if</span> ( frame._copyValidDataOnly )
            {
                <span class="keywordflow">for</span>( ElevationLayerVector::const_iterator i = <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.begin(); i != <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.end(); ++i )
                    <span class="keywordflow">if</span> ( i-&gt;get()-&gt;getProfile() )
                        frame._elevationLayers.push_back( i-&gt;get() );
            }
            <span class="keywordflow">else</span>
                <a class="code" href="namespaceanonymous__namespace_02MeshConsolidator_8cpp_03.html#aa89185796215b0f0669f5a44549b6eed">std::copy</a>( <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.begin(), <a class="code" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">_elevationLayers</a>.end(), std::back_inserter(frame._elevationLayers) );
        }

        <span class="keywordflow">if</span> ( frame._parts &amp; <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896bafe32fcd2382c07f5b985451e15244caa">MODEL_LAYERS</a> )
        {
            <span class="keywordflow">if</span> ( !frame._initialized )
                frame._modelLayers.reserve( <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.size() );
            frame._modelLayers.clear();
            <a class="code" href="namespaceanonymous__namespace_02MeshConsolidator_8cpp_03.html#aa89185796215b0f0669f5a44549b6eed">std::copy</a>( <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.begin(), <a class="code" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">_modelLayers</a>.end(), std::back_inserter(frame._modelLayers) );
        }

        <span class="keywordflow">if</span> ( frame._parts &amp; <a class="code" href="classosgEarth_1_1Map.html#a450a2b8069ef0b5d6cae73f59310896ba901792fce6d6f1bfd90d06fca7b46cc2">MASK_LAYERS</a> )
        {
          <span class="keywordflow">if</span> ( !frame._initialized )
              frame._maskLayers.reserve( <a class="code" href="classosgEarth_1_1Map.html#af9f37d5d4be26a65eae5748b69a630e2">_terrainMaskLayers</a>.size() );
          frame._maskLayers.clear();
          <a class="code" href="namespaceanonymous__namespace_02MeshConsolidator_8cpp_03.html#aa89185796215b0f0669f5a44549b6eed">std::copy</a>( <a class="code" href="classosgEarth_1_1Map.html#af9f37d5d4be26a65eae5748b69a630e2">_terrainMaskLayers</a>.begin(), <a class="code" href="classosgEarth_1_1Map.html#af9f37d5d4be26a65eae5748b69a630e2">_terrainMaskLayers</a>.end(), std::back_inserter(frame._maskLayers) );
        }

        <span class="comment">// sync the revision numbers.</span>
        frame._initialized = <span class="keyword">true</span>;
        frame._mapDataModelRevision = <a class="code" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">_dataModelRevision</a>;
            
        result = <span class="keyword">true</span>;
    }    
    <span class="keywordflow">return</span> result;
}
</pre></div>
<p><div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a167b9433251149e7b3b505f84a2ac219_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_a167b9433251149e7b3b505f84a2ac219_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a167b9433251149e7b3b505f84a2ac219_cgraph" id="classosgEarth_1_1Map_a167b9433251149e7b3b505f84a2ac219_cgraph">
<area shape="rect" id="node3" href="namespaceanonymous__namespace_02MeshConsolidator_8cpp_03.html#aa89185796215b0f0669f5a44549b6eed" title="anonymous_namespace\{MeshConsolidator::cpp\}::copy" alt="" coords="197,5,539,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a536179d774c9182092b87fdb58f6f0af"></a><!-- doxytag: member="osgEarth::Map::toMapPoint" ref="a536179d774c9182092b87fdb58f6f0af" args="(const osg::Vec3d &amp;input, const SpatialReference *input_srs, osg::Vec3d &amp;output) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Map::toMapPoint </td>
          <td>(</td>
          <td class="paramtype">const osg::Vec3d &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classosgEarth_1_1SpatialReference.html">SpatialReference</a> *&#160;</td>
          <td class="paramname"><em>input_srs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">osg::Vec3d &amp;&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience function to convert an arbitrary point to map coordinates. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l01233">1233</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1MapInfo.html">MapInfo</a>(<span class="keyword">this</span>).<a class="code" href="classosgEarth_1_1MapInfo.html#a151a3e6e3a341efdb5a2155e70da9967">toMapPoint</a>(input, inputSRS, output);
}
</pre></div>
<p><div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a536179d774c9182092b87fdb58f6f0af_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_a536179d774c9182092b87fdb58f6f0af_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a536179d774c9182092b87fdb58f6f0af_cgraph" id="classosgEarth_1_1Map_a536179d774c9182092b87fdb58f6f0af_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1MapInfo.html#a151a3e6e3a341efdb5a2155e70da9967" title="osgEarth::MapInfo::toMapPoint" alt="" coords="235,400,437,429"/><area shape="rect" id="node5" href="classosgEarth_1_1SpatialReference.html#a398407559e7c170fc44cde6842511548" title="osgEarth::SpatialReference::isEquivalentTo" alt="" coords="1111,328,1385,357"/><area shape="rect" id="node44" href="classosgEarth_1_1SpatialReference.html#a28d916a87ed2653a5763bf8777cd9cbf" title="osgEarth::SpatialReference::transform" alt="" coords="485,489,731,518"/><area shape="rect" id="node7" href="classosgEarth_1_1SpatialReference.html#afe559cd555e232b45109fbce72742b02" title="osgEarth::SpatialReference::_isEquivalentTo" alt="" coords="1435,321,1717,350"/><area shape="rect" id="node11" href="classosgEarth_1_1SpatialReference.html#ad4674227fe46613b3f5821109a509714" title="osgEarth::SpatialReference::init" alt="" coords="2089,321,2295,350"/><area shape="rect" id="node9" href="classosgEarth_1_1SpatialReference.html#ad7d6ef0605664b77e8348df5324ea32f" title="osgEarth::SpatialReference::getEllipsoid" alt="" coords="1775,54,2031,84"/><area shape="rect" id="node17" href="classosgEarth_1_1SpatialReference.html#a62d6dc2c358aaeeba591954de0475333" title="osgEarth::SpatialReference::getWKT" alt="" coords="1784,428,2021,457"/><area shape="rect" id="node20" href="classosgEarth_1_1SpatialReference.html#a7e2212a07fe863d5680b73f1e76cdee2" title="osgEarth::SpatialReference::isContiguous" alt="" coords="1769,108,2036,137"/><area shape="rect" id="node23" href="classosgEarth_1_1SpatialReference.html#a56b924155ab1745c5c9592269c6c147b" title="osgEarth::SpatialReference::isCube" alt="" coords="1788,161,2017,190"/><area shape="rect" id="node26" href="classosgEarth_1_1SpatialReference.html#adfb00834f8d96146b119add7ec2c93a3" title="osgEarth::SpatialReference::isGeographic" alt="" coords="1769,481,2036,510"/><area shape="rect" id="node29" href="classosgEarth_1_1SpatialReference.html#a8531e5c5cfc660c195ec9a569ba28cab" title="osgEarth::SpatialReference::isLTP" alt="" coords="1791,374,2015,404"/><area shape="rect" id="node31" href="classosgEarth_1_1SpatialReference.html#a7b198b8e4dc79a8c4e04cee6b73c85c4" title="osgEarth::SpatialReference::isMercator" alt="" coords="1777,534,2028,564"/><area shape="rect" id="node34" href="classosgEarth_1_1SpatialReference.html#a3ac570432fd7345ac3f1fa3c400a5553" title="osgEarth::SpatialReference::isNorthPolar" alt="" coords="1772,214,2033,244"/><area shape="rect" id="node37" href="classosgEarth_1_1SpatialReference.html#ae913b39821f50acf4662194ef5bcd3c3" title="osgEarth::SpatialReference::isSouthPolar" alt="" coords="1771,268,2035,297"/><area shape="rect" id="node40" href="classosgEarth_1_1SpatialReference.html#a1cb6bf576e355f9e32b226e43311e359" title="osgEarth::SpatialReference::isUserDefined" alt="" coords="1767,321,2039,350"/><area shape="rect" id="node13" href="classosgEarth_1_1SpatialReference.html#ae8cda9f2cf24a92d09c58462c5fbd5e8" title="osgEarth::SpatialReference::_init" alt="" coords="2345,321,2559,350"/><area shape="rect" id="node15" href="namespaceanonymous__namespace_02SpatialReference_8cpp_03.html#a2d59d21c23228cfce0a56b2174727ee9" title="anonymous_namespace\{SpatialReference::cpp\}::getOGRAttrValue" alt="" coords="2608,321,3019,350"/><area shape="rect" id="node48" href="classosgEarth_1_1SpatialReference.html#a3c3d798015a48c93c5063182ac177688" title="osgEarth::SpatialReference::transformPoints" alt="" coords="779,534,1061,564"/><area shape="rect" id="node50" href="SpatialReference_8cpp.html#a253ee9380896291f2aec77e4868d994c" title="geographicToMercator" alt="" coords="1173,688,1323,717"/><area shape="rect" id="node52" href="classosgEarth_1_1SpatialReference.html#a2e11d757cd795a81173912054fbb83c9" title="osgEarth::SpatialReference::getName" alt="" coords="1455,637,1697,666"/><area shape="rect" id="node60" href="SpatialReference_8cpp.html#a047d2c7e4580672483d0926a8f694e7e" title="mercatorToGeographic" alt="" coords="1171,741,1325,770"/><area shape="rect" id="node62" href="classosgEarth_1_1SpatialReference.html#a1f6be4de7c26f8dd31504f10b21d68be" title="osgEarth::SpatialReference::postTransform" alt="" coords="1111,794,1385,824"/><area shape="rect" id="node64" href="classosgEarth_1_1SpatialReference.html#a9ce72de8ce6def17df6239a136dedb5d" title="osgEarth::SpatialReference::preTransform" alt="" coords="1115,381,1381,410"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8e362c3a2a963ddab71d6639a01ec0cb"></a><!-- doxytag: member="osgEarth::Map::worldPointToMapPoint" ref="a8e362c3a2a963ddab71d6639a01ec0cb" args="(const osg::Vec3d &amp;input, osg::Vec3d &amp;output) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Map::worldPointToMapPoint </td>
          <td>(</td>
          <td class="paramtype">const osg::Vec3d &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">osg::Vec3d &amp;&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience function to convert a world-space (XYZ) point to map coordinates. </p>

<p>Definition at line <a class="el" href="Map_8cpp_source.html#l01245">1245</a> of file <a class="el" href="Map_8cpp_source.html">Map.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="classosgEarth_1_1MapInfo.html">MapInfo</a>(<span class="keyword">this</span>).<a class="code" href="classosgEarth_1_1MapInfo.html#a359e56411f68e830a31afc6611d4307c">worldPointToMapPoint</a>(input, output);
}
</pre></div>
<p><div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classosgEarth_1_1Map_a8e362c3a2a963ddab71d6639a01ec0cb_cgraph.png" border="0" usemap="#classosgEarth_1_1Map_a8e362c3a2a963ddab71d6639a01ec0cb_cgraph" alt=""/></div>
<map name="classosgEarth_1_1Map_a8e362c3a2a963ddab71d6639a01ec0cb_cgraph" id="classosgEarth_1_1Map_a8e362c3a2a963ddab71d6639a01ec0cb_cgraph">
<area shape="rect" id="node3" href="classosgEarth_1_1MapInfo.html#a359e56411f68e830a31afc6611d4307c" title="osgEarth::MapInfo::worldPointToMapPoint" alt="" coords="303,5,569,35"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a2f254f85b9cfcfabc96fb885dc0d6e5a"></a><!-- doxytag: member="osgEarth::Map::_cache" ref="a2f254f85b9cfcfabc96fb885dc0d6e5a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;<a class="el" href="classosgEarth_1_1Cache.html">Cache</a>&gt; <a class="el" href="classosgEarth_1_1Map.html#a2f254f85b9cfcfabc96fb885dc0d6e5a">osgEarth::Map::_cache</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_source.html#l00400">400</a> of file <a class="el" href="Map_source.html">Map</a>.</p>

</div>
</div>
<a class="anchor" id="a611abb2a2f72a6b7779c996a513aff80"></a><!-- doxytag: member="osgEarth::Map::_dataModelRevision" ref="a611abb2a2f72a6b7779c996a513aff80" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structosgEarth_1_1Revision.html">Revision</a> <a class="el" href="classosgEarth_1_1Map.html#a611abb2a2f72a6b7779c996a513aff80">osgEarth::Map::_dataModelRevision</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_source.html#l00401">401</a> of file <a class="el" href="Map_source.html">Map</a>.</p>

</div>
</div>
<a class="anchor" id="a502316cc11ed7a3b77a215aa7a80c10e"></a><!-- doxytag: member="osgEarth::Map::_elevationLayers" ref="a502316cc11ed7a3b77a215aa7a80c10e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceosgEarth.html#ada107a5ca40a6c4bee7f4d2ffe615fcd">ElevationLayerVector</a> <a class="el" href="classosgEarth_1_1Map.html#a502316cc11ed7a3b77a215aa7a80c10e">osgEarth::Map::_elevationLayers</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_source.html#l00393">393</a> of file <a class="el" href="Map_source.html">Map</a>.</p>

</div>
</div>
<a class="anchor" id="a402fdff2ca81de922d3652863951f672"></a><!-- doxytag: member="osgEarth::Map::_globalOptions" ref="a402fdff2ca81de922d3652863951f672" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;const osgDB::ReaderWriter::Options&gt; <a class="el" href="classosgEarth_1_1Map.html#a402fdff2ca81de922d3652863951f672">osgEarth::Map::_globalOptions</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_source.html#l00397">397</a> of file <a class="el" href="Map_source.html">Map</a>.</p>

</div>
</div>
<a class="anchor" id="a78261955c230e72a99cb4c8aa6814fc9"></a><!-- doxytag: member="osgEarth::Map::_imageLayers" ref="a78261955c230e72a99cb4c8aa6814fc9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceosgEarth.html#a735aaffdcba342668743fbcf18779cd7">ImageLayerVector</a> <a class="el" href="classosgEarth_1_1Map.html#a78261955c230e72a99cb4c8aa6814fc9">osgEarth::Map::_imageLayers</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_source.html#l00392">392</a> of file <a class="el" href="Map_source.html">Map</a>.</p>

</div>
</div>
<a class="anchor" id="a2a22eafe6a8a6996f002499ce721796a"></a><!-- doxytag: member="osgEarth::Map::_mapCallbacks" ref="a2a22eafe6a8a6996f002499ce721796a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceosgEarth.html#a210d278abf5657fe8291ef2c7f6af188">MapCallbackList</a> <a class="el" href="classosgEarth_1_1Map.html#a2a22eafe6a8a6996f002499ce721796a">osgEarth::Map::_mapCallbacks</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_source.html#l00396">396</a> of file <a class="el" href="Map_source.html">Map</a>.</p>

</div>
</div>
<a class="anchor" id="aad05a5ddc99c48a2d3ef608200f11365"></a><!-- doxytag: member="osgEarth::Map::_mapDataMutex" ref="aad05a5ddc99c48a2d3ef608200f11365" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1Threading_1_1ReadWriteMutex.html">Threading::ReadWriteMutex</a> <a class="el" href="classosgEarth_1_1Map.html#aad05a5ddc99c48a2d3ef608200f11365">osgEarth::Map::_mapDataMutex</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_source.html#l00398">398</a> of file <a class="el" href="Map_source.html">Map</a>.</p>

</div>
</div>
<a class="anchor" id="a42079f2fe63c18cada757c78ee81eec1"></a><!-- doxytag: member="osgEarth::Map::_mapOptions" ref="a42079f2fe63c18cada757c78ee81eec1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosgEarth_1_1MapOptions.html">MapOptions</a> <a class="el" href="classosgEarth_1_1Map.html#a42079f2fe63c18cada757c78ee81eec1">osgEarth::Map::_mapOptions</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_source.html#l00390">390</a> of file <a class="el" href="Map_source.html">Map</a>.</p>

</div>
</div>
<a class="anchor" id="ad1a41a550bd6ca19c51352e52ce6f7d0"></a><!-- doxytag: member="osgEarth::Map::_modelLayers" ref="ad1a41a550bd6ca19c51352e52ce6f7d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceosgEarth.html#adcc0d64f72608dae97e167f6b5b5297f">ModelLayerVector</a> <a class="el" href="classosgEarth_1_1Map.html#ad1a41a550bd6ca19c51352e52ce6f7d0">osgEarth::Map::_modelLayers</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_source.html#l00394">394</a> of file <a class="el" href="Map_source.html">Map</a>.</p>

</div>
</div>
<a class="anchor" id="a44e63e4f1f0372cdc343028e2f8c3cbd"></a><!-- doxytag: member="osgEarth::Map::_name" ref="a44e63e4f1f0372cdc343028e2f8c3cbd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classosgEarth_1_1Map.html#a44e63e4f1f0372cdc343028e2f8c3cbd">osgEarth::Map::_name</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_source.html#l00391">391</a> of file <a class="el" href="Map_source.html">Map</a>.</p>

</div>
</div>
<a class="anchor" id="ae23121d60496bab1e0a69fecfe5ab926"></a><!-- doxytag: member="osgEarth::Map::_profile" ref="ae23121d60496bab1e0a69fecfe5ab926" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">osg::ref_ptr&lt;const <a class="el" href="classosgEarth_1_1Profile.html">Profile</a>&gt; <a class="el" href="classosgEarth_1_1Map.html#ae23121d60496bab1e0a69fecfe5ab926">osgEarth::Map::_profile</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_source.html#l00399">399</a> of file <a class="el" href="Map_source.html">Map</a>.</p>

</div>
</div>
<a class="anchor" id="af9f37d5d4be26a65eae5748b69a630e2"></a><!-- doxytag: member="osgEarth::Map::_terrainMaskLayers" ref="af9f37d5d4be26a65eae5748b69a630e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceosgEarth.html#ab74a145bbc3ec2c099d8e1f007c498c6">MaskLayerVector</a> <a class="el" href="classosgEarth_1_1Map.html#af9f37d5d4be26a65eae5748b69a630e2">osgEarth::Map::_terrainMaskLayers</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Map_source.html#l00395">395</a> of file <a class="el" href="Map_source.html">Map</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/cube/sources/osgearth/src/osgEarth/<a class="el" href="Map_source.html">Map</a></li>
<li>/home/cube/sources/osgearth/src/osgEarth/<a class="el" href="Map_8cpp_source.html">Map.cpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Jan 18 2012 15:02:52 for osgEarth by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
